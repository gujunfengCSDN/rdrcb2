"use strict";!function(a,b){"object"==typeof module&&module.exports?module.exports=a.document?b(a):b:a.Highcharts=b(a)}("undefined"!=typeof window?window:this,function(a){var c,b=function(){var b=a.document,c="http://www.w3.org/2000/svg",d=a.navigator&&a.navigator.userAgent||"",e=b&&b.createElementNS&&!!b.createElementNS(c,"svg").createSVGRect,f=/(edge|msie|trident)/i.test(d)&&!a.opera,g=/Firefox/.test(d),h=g&&parseInt(d.split("Firefox/")[1],10)<4,i=a.Highcharts?a.Highcharts.error(16,!0):{product:"Highcharts",version:"6.0.1",deg2rad:2*Math.PI/360,doc:b,hasBidiBug:h,hasTouch:b&&void 0!==b.documentElement.ontouchstart,isMS:f,isWebKit:/AppleWebKit/.test(d),isFirefox:g,isTouchDevice:/(Mobile|Android|Windows Phone)/.test(d),SVG_NS:c,chartCount:0,seriesTypes:{},symbolSizes:{},svg:e,win:a,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){return void 0},charts:[]};return i}();return function(a){var b=[],c=a.charts,d=a.doc,e=a.win;a.error=function(b,c){var d=a.isNumber(b)?"Highcharts error #"+b+": www.highcharts.com/errors/"+b:b;if(c)throw new Error(d);e.console&&console.log(d)},a.Fx=function(a,b,c){this.options=b,this.elem=a,this.prop=c},a.Fx.prototype={dSetter:function(){var f,a=this.paths[0],b=this.paths[1],c=[],d=this.now,e=a.length;if(1===d)c=this.toD;else if(e===b.length&&1>d)for(;e--;)f=parseFloat(a[e]),c[e]=isNaN(f)?a[e]:d*parseFloat(b[e]-f)+f;else c=b;this.elem.attr("d",c,null,!0)},update:function(){var a=this.elem,b=this.prop,c=this.now,d=this.options.step;this[b+"Setter"]?this[b+"Setter"]():a.attr?a.element&&a.attr(b,c,null,!0):a.style[b]=c+this.unit,d&&d.call(a,c,this)},run:function(a,c,d){var f=this,g=function(a){return g.stopped?!1:f.step(a)},h=e.requestAnimationFrame||function(a){setTimeout(a,13)},i=function(){var a;for(a=0;a<b.length;a++)b[a]()||b.splice(a--,1);b.length&&h(i)};a===c?delete this.options.curAnim[this.prop]:(this.startTime=+new Date,this.start=a,this.end=c,this.unit=d,this.now=this.start,this.pos=0,g.elem=this.elem,g.prop=this.prop,g()&&1===b.push(g)&&h(i))},step:function(b){var d,e,c=+new Date,f=this.options,g=this.elem,h=f.complete,i=f.duration,j=f.curAnim;return g.attr&&!g.element?d=!1:b||c>=i+this.startTime?(this.now=this.end,this.pos=1,this.update(),j[this.prop]=!0,e=!0,a.objectEach(j,function(a){a!==!0&&(e=!1)}),e&&h&&h.call(g),d=!1):(this.pos=f.easing((c-this.startTime)/i),this.now=this.start+(this.end-this.start)*this.pos,this.update(),d=!0),d},initPath:function(b,c,d){function r(a){var b,c;for(l=a.length;l--;)b="M"===a[l]||"L"===a[l],c=/[a-zA-Z]/.test(a[l+3]),b&&c&&a.splice(l+1,0,a[l+1],a[l+2],a[l+1],a[l+2])}function s(a,b,c){[].splice.apply(a,[c,0].concat(b))}function t(a,b){for(;a.length<j;)a[0]=b[j-a.length],s(a,a.slice(0,i),0),o&&(s(a,a.slice(a.length-i),a.length),l--);a[0]="M"}function u(a,b){for(var c=(j-a.length)/i;c>0&&c--;)k=a.slice().splice(a.length/p-i,i*p),k[0]=b[j-i-c*i],h&&(k[i-6]=k[i-2],k[i-5]=k[i-1]),s(a,k,a.length/p),o&&c--}c=c||"";var e,j,k,l,q,f=b.startX,g=b.endX,h=c.indexOf("C")>-1,i=h?7:3,m=c.split(" "),n=d.slice(),o=b.isArea,p=o?2:1;if(h&&(r(m),r(n)),f&&g){for(l=0;l<f.length;l++){if(f[l]===g[0]){e=l;break}if(f[0]===g[g.length-f.length+l]){e=l,q=!0;break}}void 0===e&&(m=[])}return m.length&&a.isNumber(e)&&(j=n.length+e*p*i,q?(t(m,n),u(n,m)):(t(n,m),u(m,n))),[m,n]}},a.Fx.prototype.fillSetter=a.Fx.prototype.strokeSetter=function(){this.elem.attr(this.prop,a.color(this.start).tweenTo(a.color(this.end),this.pos),null,!0)},a.extend=function(a,b){var c;a||(a={});for(c in b)a[c]=b[c];return a},a.merge=function(){var b,d,c=arguments,e={},f=function(b,c){return"object"!=typeof b&&(b={}),a.objectEach(c,function(d,e){b[e]=!a.isObject(d,!0)||a.isClass(d)||a.isDOMElement(d)?c[e]:f(b[e]||{},d)}),b};for(c[0]===!0&&(e=c[1],c=Array.prototype.slice.call(c,2)),d=c.length,b=0;d>b;b++)e=f(e,c[b]);return e},a.pInt=function(a,b){return parseInt(a,b||10)},a.isString=function(a){return"string"==typeof a},a.isArray=function(a){var b=Object.prototype.toString.call(a);return"[object Array]"===b||"[object Array Iterator]"===b},a.isObject=function(b,c){return!(!b||"object"!=typeof b||c&&a.isArray(b))},a.isDOMElement=function(b){return a.isObject(b)&&"number"==typeof b.nodeType},a.isClass=function(b){var c=b&&b.constructor;return!(!a.isObject(b,!0)||a.isDOMElement(b)||!c||!c.name||"Object"===c.name)},a.isNumber=function(a){return"number"==typeof a&&!isNaN(a)},a.erase=function(a,b){for(var c=a.length;c--;)if(a[c]===b){a.splice(c,1);break}},a.defined=function(a){return void 0!==a&&null!==a},a.attr=function(b,c,d){var e;return a.isString(c)?a.defined(d)?b.setAttribute(c,d):b&&b.getAttribute&&(e=b.getAttribute(c)):a.defined(c)&&a.isObject(c)&&a.objectEach(c,function(a,c){b.setAttribute(c,a)}),e},a.splat=function(b){return a.isArray(b)?b:[b]},a.syncTimeout=function(a,b,c){return b?setTimeout(a,b,c):(a.call(0,c),void 0)},a.pick=function(){var b,c,a=arguments,d=a.length;for(b=0;d>b;b++)if(c=a[b],void 0!==c&&null!==c)return c},a.css=function(b,c){a.isMS&&!a.svg&&c&&void 0!==c.opacity&&(c.filter="alpha(opacity="+100*c.opacity+")"),a.extend(b.style,c)},a.createElement=function(b,c,e,f,g){var h=d.createElement(b),i=a.css;return c&&a.extend(h,c),g&&i(h,{padding:0,border:"none",margin:0}),e&&i(h,e),f&&f.appendChild(h),h},a.extendClass=function(b,c){var d=function(){};return d.prototype=new b,a.extend(d.prototype,c),d},a.pad=function(a,b,c){return new Array((b||2)+1-String(a).length).join(c||0)+a},a.relativeLength=function(a,b,c){return/%$/.test(a)?b*parseFloat(a)/100+(c||0):parseFloat(a)},a.wrap=function(a,b,c){var d=a[b];a[b]=function(){var f,a=Array.prototype.slice.call(arguments),b=arguments,e=this;return e.proceed=function(){d.apply(e,arguments.length?arguments:b)},a.unshift(d),f=c.apply(this,a),e.proceed=null,f}},a.getTZOffset=function(b){var c=a.Date;return 6e4*(c.hcGetTimezoneOffset&&c.hcGetTimezoneOffset(b)||c.hcTimezoneOffset||0)},a.dateFormat=function(b,c,d){if(!a.defined(c)||isNaN(c))return a.defaultOptions.lang.invalidDate||"";b=a.pick(b,"%Y-%m-%d %H:%M:%S");var e=a.Date,f=new e(c-a.getTZOffset(c)),g=f[e.hcGetHours](),h=f[e.hcGetDay](),i=f[e.hcGetDate](),j=f[e.hcGetMonth](),k=f[e.hcGetFullYear](),l=a.defaultOptions.lang,m=l.weekdays,n=l.shortWeekdays,o=a.pad,p=a.extend({a:n?n[h]:m[h].substr(0,3),A:m[h],d:o(i),e:o(i,2," "),w:h,b:l.shortMonths[j],B:l.months[j],m:o(j+1),y:k.toString().substr(2,2),Y:k,H:o(g),k:g,I:o(g%12||12),l:g%12||12,M:o(f[e.hcGetMinutes]()),p:12>g?"AM":"PM",P:12>g?"am":"pm",S:o(f.getSeconds()),L:o(Math.round(c%1e3),3)},a.dateFormats);return a.objectEach(p,function(a,d){for(;-1!==b.indexOf("%"+d);)b=b.replace("%"+d,"function"==typeof a?a(c):a)}),d?b.substr(0,1).toUpperCase()+b.substr(1):b},a.formatSingle=function(b,c){var g,d=/f$/,e=/\.([0-9])/,f=a.defaultOptions.lang;return d.test(b)?(g=b.match(e),g=g?g[1]:-1,null!==c&&(c=a.numberFormat(c,g,f.decimalPoint,b.indexOf(",")>-1?f.thousandsSep:""))):c=a.dateFormat(b,c),c},a.format=function(b,c){for(var f,g,h,i,j,l,m,d="{",e=!1,k=[];b&&(m=b.indexOf(d),-1!==m);){if(f=b.slice(0,m),e){for(g=f.split(":"),h=g.shift().split("."),j=h.length,l=c,i=0;j>i;i++)l&&(l=l[h[i]]);g.length&&(l=a.formatSingle(g.join(":"),l)),k.push(l)}else k.push(f);b=b.slice(m+1),e=!e,d=e?"}":"{"}return k.push(b),k.join("")},a.getMagnitude=function(a){return Math.pow(10,Math.floor(Math.log(a)/Math.LN10))},a.normalizeTickInterval=function(b,c,d,e,f){var g,h,i=b;for(d=a.pick(d,1),g=b/d,c||(c=f?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],e===!1&&(1===d?c=a.grep(c,function(a){return 0===a%1}):.1>=d&&(c=[1/d]))),h=0;h<c.length&&(i=c[h],!(f&&i*d>=b||!f&&g<=(c[h]+(c[h+1]||c[h]))/2));h++);return i=a.correctFloat(i*d,-Math.round(Math.log(.001)/Math.LN10))},a.stableSort=function(a,b){var d,e,c=a.length;for(e=0;c>e;e++)a[e].safeI=e;for(a.sort(function(a,c){return d=b(a,c),0===d?a.safeI-c.safeI:d}),e=0;c>e;e++)delete a[e].safeI},a.arrayMin=function(a){for(var b=a.length,c=a[0];b--;)a[b]<c&&(c=a[b]);return c},a.arrayMax=function(a){for(var b=a.length,c=a[0];b--;)a[b]>c&&(c=a[b]);return c},a.destroyObjectProperties=function(b,c){a.objectEach(b,function(a,d){a&&a!==c&&a.destroy&&a.destroy(),delete b[d]})},a.discardElement=function(b){var c=a.garbageBin;c||(c=a.createElement("div")),b&&c.appendChild(b),c.innerHTML=""},a.correctFloat=function(a,b){return parseFloat(a.toPrecision(b||14))},a.setAnimation=function(b,c){c.renderer.globalAnimation=a.pick(b,c.options.chart.animation,!0)},a.animObject=function(b){return a.isObject(b)?a.merge(b):{duration:b?500:0}},a.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},a.numberFormat=function(b,c,d,e){b=+b||0,c=+c;var h,i,j,k,f=a.defaultOptions.lang,g=(b.toString().split(".")[1]||"").split("e")[0].length,l=b.toString().split("e");return-1===c?c=Math.min(g,20):a.isNumber(c)||(c=2),k=(Math.abs(l[1]?l[0]:b)+Math.pow(10,-Math.max(c,g)-1)).toFixed(c),h=String(a.pInt(k)),i=h.length>3?h.length%3:0,d=a.pick(d,f.decimalPoint),e=a.pick(e,f.thousandsSep),j=0>b?"-":"",j+=i?h.substr(0,i)+e:"",j+=h.substr(i).replace(/(\d{3})(?=\d)/g,"$1"+e),c&&(j+=d+k.slice(-c)),l[1]&&(j+="e"+l[1]),j},Math.easeInOutSine=function(a){return-.5*(Math.cos(Math.PI*a)-1)},a.getStyle=function(b,c,d){var f;return"width"===c?Math.min(b.offsetWidth,b.scrollWidth)-a.getStyle(b,"padding-left")-a.getStyle(b,"padding-right"):"height"===c?Math.min(b.offsetHeight,b.scrollHeight)-a.getStyle(b,"padding-top")-a.getStyle(b,"padding-bottom"):(e.getComputedStyle||a.error(27,!0),f=e.getComputedStyle(b,void 0),f&&(f=f.getPropertyValue(c),a.pick(d,"opacity"!==c)&&(f=a.pInt(f))),f)},a.inArray=function(b,c){return(a.indexOfPolyfill||Array.prototype.indexOf).call(c,b)},a.grep=function(b,c){return(a.filterPolyfill||Array.prototype.filter).call(b,c)},a.find=Array.prototype.find?function(a,b){return a.find(b)}:function(a,b){var c,d=a.length;for(c=0;d>c;c++)if(b(a[c],c))return a[c]},a.map=function(a,b){for(var c=[],d=0,e=a.length;e>d;d++)c[d]=b.call(a[d],a[d],d,a);return c},a.reduce=function(b,c,d){return(a.reducePolyfill||Array.prototype.reduce).call(b,c,d)},a.offset=function(a){var b=d.documentElement,c=a.getBoundingClientRect(),f=c.left+(e.pageXOffset||b.scrollLeft)-(b.clientLeft||0),g=c.top+(e.pageYOffset||b.scrollTop)-(b.clientTop||0);return{top:g,left:f}},a.stop=function(a,c){for(var d=b.length;d--;)b[d].elem!==a||c&&c!==b[d].prop||(b[d].stopped=!0)},a.each=function(b,c,d){return(a.forEachPolyfill||Array.prototype.forEach).call(b,c,d)},a.objectEach=function(a,b,c){for(var d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a)},a.addEvent=function(b,c,d){var e=b.hcEvents=b.hcEvents||{},f=b.addEventListener||a.addEventListenerPolyfill;return f&&f.call(b,c,d,!1),e[c]||(e[c]=[]),e[c].push(d),function(){a.removeEvent(b,c,d)}},a.removeEvent=function(b,c,d){function h(c,d){var e=b.removeEventListener||a.removeEventListenerPolyfill;e&&e.call(b,c,d,!1)}function i(){var d,e;b.nodeName&&(c?(d={},d[c]=!0):d=f,a.objectEach(d,function(a,b){if(f[b])for(e=f[b].length;e--;)h(b,f[b][e])}))}var e,g,f=b.hcEvents;f&&(c?(e=f[c]||[],d?(g=a.inArray(d,e),g>-1&&(e.splice(g,1),f[c]=e),h(c,d)):(i(),f[c]=[])):(i(),b.hcEvents={}))},a.fireEvent=function(b,c,e,f){var g,i,j,k,l,h=b.hcEvents;if(e=e||{},d.createEvent&&(b.dispatchEvent||b.fireEvent))g=d.createEvent("Events"),g.initEvent(c,!0,!0),a.extend(g,e),b.dispatchEvent?b.dispatchEvent(g):b.fireEvent(c,g);else if(h)for(i=h[c]||[],j=i.length,e.target||a.extend(e,{preventDefault:function(){e.defaultPrevented=!0},target:b,type:c}),k=0;j>k;k++)l=i[k],l&&l.call(b,e)===!1&&e.preventDefault();f&&!e.defaultPrevented&&f(e)},a.animate=function(b,c,d){var e,g,h,i,f="";a.isObject(d)||(i=arguments,d={duration:i[2],easing:i[3],complete:i[4]}),a.isNumber(d.duration)||(d.duration=400),d.easing="function"==typeof d.easing?d.easing:Math[d.easing]||Math.easeInOutSine,d.curAnim=a.merge(c),a.objectEach(c,function(i,j){a.stop(b,j),h=new a.Fx(b,d,j),g=null,"d"===j?(h.paths=h.initPath(b,b.d,c.d),h.toD=c.d,e=0,g=1):b.attr?e=b.attr(j):(e=parseFloat(a.getStyle(b,j))||0,"opacity"!==j&&(f="px")),g||(g=i),g&&g.match&&g.match("px")&&(g=g.replace(/px/g,"")),h.run(e,g,f)})},a.seriesType=function(b,c,d,e,f){var g=a.getOptions(),h=a.seriesTypes;return g.plotOptions[b]=a.merge(g.plotOptions[c],d),h[b]=a.extendClass(h[c]||function(){},e),h[b].prototype.type=b,f&&(h[b].prototype.pointClass=a.extendClass(a.Point,f)),h[b]},a.uniqueKey=function(){var a=Math.random().toString(36).substring(2,9),b=0;return function(){return"highcharts-"+a+"-"+b++}}(),e.jQuery&&(e.jQuery.fn.highcharts=function(){var b=[].slice.call(arguments);return this[0]?b[0]?(new(a[a.isString(b[0])?b.shift():"Chart"])(this[0],b[0],b[1]),this):c[a.attr(this[0],"data-highcharts-chart")]:void 0})}(b),function(a){var b=a.each,c=a.isNumber,d=a.map,e=a.merge,f=a.pInt;a.Color=function(b){return this instanceof a.Color?(this.init(b),void 0):new a.Color(b)},a.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(a){return[f(a[1]),f(a[2]),f(a[3]),parseFloat(a[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(a){return[f(a[1]),f(a[2]),f(a[3]),1]}}],names:{none:"rgba(255,255,255,0)",white:"#ffffff",black:"#000000"},init:function(b){var c,e,f,g,h;if(this.input=b=this.names[b&&b.toLowerCase?b.toLowerCase():""]||b,b&&b.stops)this.stops=d(b.stops,function(b){return new a.Color(b[1])});else if(b&&b.charAt&&"#"===b.charAt()&&(h=b.length,b=parseInt(b.substr(1),16),7===h?e=[(16711680&b)>>16,(65280&b)>>8,255&b,1]:4===h&&(e=[(3840&b)>>4|(3840&b)>>8,(240&b)>>4|240&b,(15&b)<<4|15&b,1])),!e)for(f=this.parsers.length;f--&&!e;)g=this.parsers[f],c=g.regex.exec(b),c&&(e=g.parse(c));this.rgba=e||[]},get:function(a){var g,d=this.input,f=this.rgba;return this.stops?(g=e(d),g.stops=[].concat(g.stops),b(this.stops,function(b,c){g.stops[c]=[g.stops[c][0],b.get(a)]})):g=f&&c(f[0])?"rgb"===a||!a&&1===f[3]?"rgb("+f[0]+","+f[1]+","+f[2]+")":"a"===a?f[3]:"rgba("+f.join(",")+")":d,g},brighten:function(a){var d,e=this.rgba;if(this.stops)b(this.stops,function(b){b.brighten(a)});else if(c(a)&&0!==a)for(d=0;3>d;d++)e[d]+=f(255*a),e[d]<0&&(e[d]=0),e[d]>255&&(e[d]=255);return this},setOpacity:function(a){return this.rgba[3]=a,this},tweenTo:function(a,b){var e,f,c=this.rgba,d=a.rgba;return d.length&&c&&c.length?(e=1!==d[3]||1!==c[3],f=(e?"rgba(":"rgb(")+Math.round(d[0]+(c[0]-d[0])*(1-b))+","+Math.round(d[1]+(c[1]-d[1])*(1-b))+","+Math.round(d[2]+(c[2]-d[2])*(1-b))+(e?","+(d[3]+(c[3]-d[3])*(1-b)):"")+")"):f=a.input||"none",f}},a.color=function(b){return new a.Color(b)}}(b),function(a){var b,c,d=a.addEvent,e=a.animate,f=a.attr,g=a.charts,h=a.color,i=a.css,j=a.createElement,k=a.defined,l=a.deg2rad,m=a.destroyObjectProperties,n=a.doc,o=a.each,p=a.extend,q=a.erase,r=a.grep,s=a.hasTouch,t=a.inArray,u=a.isArray,v=a.isFirefox,w=a.isMS,x=a.isObject,y=a.isString,z=a.isWebKit,A=a.merge,B=a.noop,C=a.objectEach,D=a.pick,E=a.pInt,F=a.removeEvent,H=(a.splat,a.stop),I=a.svg,J=a.SVG_NS,K=a.symbolSizes,L=a.win;b=a.SVGElement=function(){return this},p(b.prototype,{opacity:1,SVG_NS:J,textProps:["direction","fontSize","fontWeight","fontFamily","fontStyle","color","lineHeight","width","textAlign","textDecoration","textOverflow","textOutline"],init:function(a,b){this.element="span"===b?j(b):n.createElementNS(this.SVG_NS,b),this.renderer=a},animate:function(b,c,d){var f=a.animObject(D(c,this.renderer.globalAnimation,!0));return 0!==f.duration?(d&&(f.complete=d),e(this,b,f)):(this.attr(b,null,d),f.step&&f.step.call(this)),this},colorGradient:function(b,c,d){var f,g,h,i,j,l,m,n,p,q,r,t,e=this.renderer,s=[];b.radialGradient?g="radialGradient":b.linearGradient&&(g="linearGradient"),g&&(h=b[g],j=e.gradients,m=b.stops,q=d.radialReference,u(h)&&(b[g]=h={x1:h[0],y1:h[1],x2:h[2],y2:h[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===g&&q&&!k(h.gradientUnits)&&(i=h,h=A(h,e.getRadialAttr(q,i),{gradientUnits:"userSpaceOnUse"})),C(h,function(a,b){"id"!==b&&s.push(b,a)}),C(m,function(a){s.push(a)}),s=s.join(","),j[s]?r=j[s].attr("id"):(h.id=r=a.uniqueKey(),j[s]=l=e.createElement(g).attr(h).add(e.defs),l.radAttr=i,l.stops=[],o(m,function(b){var c;0===b[1].indexOf("rgba")?(f=a.color(b[1]),n=f.get("rgb"),p=f.get("a")):(n=b[1],p=1),c=e.createElement("stop").attr({offset:b[0],"stop-color":n,"stop-opacity":p}).add(l),l.stops.push(c)})),t="url("+e.url+"#"+r+")",d.setAttribute(c,t),d.gradient=s,b.toString=function(){return t})},applyTextOutline:function(b){var d,e,i,j,k,l,c=this.element,g=-1!==b.indexOf("contrast"),h={};if(g&&(h.textOutline=b=b.replace(/contrast/g,this.renderer.getContrast(c.style.fill))),b=b.split(" "),i=b[b.length-1],j=b[0],j&&"none"!==j&&a.svg){for(this.fakeTS=!0,d=[].slice.call(c.getElementsByTagName("tspan")),this.ySetter=this.xSetter,j=j.replace(/(^[\d\.]+)(.*?)$/g,function(a,b,c){return 2*b+c}),l=d.length;l--;)e=d[l],"highcharts-text-outline"===e.getAttribute("class")&&q(d,c.removeChild(e));k=c.firstChild,o(d,function(a,b){var d;0===b&&(a.setAttribute("x",c.getAttribute("x")),b=c.getAttribute("y"),a.setAttribute("y",b||0),null===b&&c.setAttribute("y",0)),d=a.cloneNode(1),f(d,{"class":"highcharts-text-outline",fill:i,stroke:i,"stroke-width":j,"stroke-linejoin":"round"}),c.insertBefore(d,k)})}},attr:function(a,b,c,d){var e,g,i,j,f=this.element,h=this;return"string"==typeof a&&void 0!==b&&(e=a,a={},a[e]=b),"string"==typeof a?h=(this[a+"Getter"]||this._defaultGetter).call(this,a,f):(C(a,function(b,c){i=!1,d||H(this,c),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(c)&&(g||(this.symbolAttr(a),g=!0),i=!0),!this.rotation||"x"!==c&&"y"!==c||(this.doTransform=!0),i||(j=this[c+"Setter"]||this._defaultSetter,j.call(this,b,c,f),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(c)&&this.updateShadows(c,b,j))},this),this.afterSetters()),c&&c(),h},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(a,b,c){for(var d=this.shadows,e=d.length;e--;)c.call(d[e],"height"===a?Math.max(b-(d[e].cutHeight||0),0):"d"===a?this.d:b,a,d[e])},addClass:function(a,b){var c=this.attr("class")||"";return-1===c.indexOf(a)&&(b||(a=(c+(c?" ":"")+a).replace("  "," ")),this.attr("class",a)),this},hasClass:function(a){return-1!==t(a,(this.attr("class")||"").split(" "))},removeClass:function(a){return this.attr("class",(this.attr("class")||"").replace(a,""))},symbolAttr:function(a){var b=this;o(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(c){b[c]=D(a[c],b[c])}),b.attr({d:b.renderer.symbols[b.symbolName](b.x,b.y,b.width,b.height,b)})},clip:function(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":"none")},crisp:function(a,b){var e,c=this,d={};return b=b||a.strokeWidth||0,e=Math.round(b)%2/2,a.x=Math.floor(a.x||c.x||0)+e,a.y=Math.floor(a.y||c.y||0)+e,a.width=Math.floor((a.width||c.width||0)-2*e),a.height=Math.floor((a.height||c.height||0)-2*e),k(a.strokeWidth)&&(a.strokeWidth=b),C(a,function(a,b){c[b]!==a&&(c[b]=d[b]=a)}),d},css:function(a){var e,h,b=this.styles,c={},d=this.element,g="",j=!b,k=["textOutline","textOverflow","width"];return a&&a.color&&(a.fill=a.color),b&&C(a,function(a,d){a!==b[d]&&(c[d]=a,j=!0)}),j&&(b&&(a=p(b,c)),e=this.textWidth=a&&a.width&&"auto"!==a.width&&"text"===d.nodeName.toLowerCase()&&E(a.width),this.styles=a,e&&!I&&this.renderer.forExport&&delete a.width,w&&!I?i(this.element,a):(h=function(a,b){return"-"+b.toLowerCase()},C(a,function(a,b){-1===t(b,k)&&(g+=b.replace(/([A-Z])/g,h)+":"+a+";")}),g&&f(d,"style",g)),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),a&&a.textOutline&&this.applyTextOutline(a.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(a,b){var c=this,d=c.element;return s&&"click"===a?(d.ontouchstart=function(a){c.touchEventFired=Date.now(),a.preventDefault(),b.call(d,a)},d.onclick=function(a){(-1===L.navigator.userAgent.indexOf("Android")||Date.now()-(c.touchEventFired||0)>1100)&&b.call(d,a)}):d["on"+a]=b,this},setRadialReference:function(a){var b=this.renderer.gradients[this.element.gradient];return this.element.radialReference=a,b&&b.radAttr&&b.animate(this.renderer.getRadialAttr(a,b.radAttr)),this},translate:function(a,b){return this.attr({translateX:a,translateY:b})},invert:function(a){var b=this;return b.inverted=a,b.updateTransform(),b},updateTransform:function(){var j,a=this,b=a.translateX||0,c=a.translateY||0,d=a.scaleX,e=a.scaleY,f=a.inverted,g=a.rotation,h=a.matrix,i=a.element;f&&(b+=a.width,c+=a.height),j=["translate("+b+","+c+")"],k(h)&&j.push("matrix("+h.join(",")+")"),f?j.push("rotate(90) scale(-1,1)"):g&&j.push("rotate("+g+" "+D(this.rotationOriginX,i.getAttribute("x"),0)+" "+D(this.rotationOriginY,i.getAttribute("y")||0)+")"),(k(d)||k(e))&&j.push("scale("+D(d,1)+" "+D(e,1)+")"),j.length&&i.setAttribute("transform",j.join(" "))},toFront:function(){var a=this.element;return a.parentNode.appendChild(a),this},align:function(a,b,c){var d,e,f,g,i,l,m,h={},j=this.renderer,k=j.alignedObjects;return a?(this.alignOptions=a,this.alignByTranslate=b,(!c||y(c))&&(this.alignTo=i=c||"renderer",q(k,this),k.push(this),c=null)):(a=this.alignOptions,b=this.alignByTranslate,i=this.alignTo),c=D(c,j[i],j),d=a.align,e=a.verticalAlign,f=(c.x||0)+(a.x||0),g=(c.y||0)+(a.y||0),"right"===d?l=1:"center"===d&&(l=2),l&&(f+=(c.width-(a.width||0))/l),h[b?"translateX":"x"]=Math.round(f),"bottom"===e?m=1:"middle"===e&&(m=2),m&&(g+=(c.height-(a.height||0))/m),h[b?"translateY":"y"]=Math.round(g),this[this.placed?"animate":"attr"](h),this.placed=!0,this.alignAttr=h,this},getBBox:function(a,b){var d,f,g,h,i,m,q,t,c=this,e=c.renderer,j=c.element,k=c.styles,n=c.textStr,r=e.cache,s=e.cacheKeys;if(h=D(b,c.rotation),i=h*l,m=k&&k.fontSize,void 0!==n&&(t=n.toString(),-1===t.indexOf("<")&&(t=t.replace(/[0-9]/g,"0")),t+=["",h||0,m,k&&k.width,k&&k.textOverflow].join(",")),t&&!a&&(d=r[t]),!d){if(j.namespaceURI===c.SVG_NS||e.forExport){try{q=this.fakeTS&&function(a){o(j.querySelectorAll(".highcharts-text-outline"),function(b){b.style.display=a})},q&&q("none"),d=j.getBBox?p({},j.getBBox()):{width:j.offsetWidth,height:j.offsetHeight},q&&q("")}catch(u){}(!d||d.width<0)&&(d={width:0,height:0})}else d=c.htmlGetBBox();if(e.isSVG&&(f=d.width,g=d.height,k&&"11px"===k.fontSize&&17===Math.round(g)&&(d.height=g=14),h&&(d.width=Math.abs(g*Math.sin(i))+Math.abs(f*Math.cos(i)),d.height=Math.abs(g*Math.cos(i))+Math.abs(f*Math.sin(i)))),t&&d.height>0){for(;s.length>250;)delete r[s.shift()];r[t]||s.push(t),r[t]=d}}return d},show:function(a){return this.attr({visibility:a?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(a){var b=this;b.animate({opacity:0},{duration:a||150,complete:function(){b.attr({y:-9999})}})},add:function(a){var d,b=this.renderer,c=this.element;return a&&(this.parentGroup=a),this.parentInverted=a&&a.inverted,void 0!==this.textStr&&b.buildText(this),this.added=!0,(!a||a.handleZ||this.zIndex)&&(d=this.zIndexSetter()),d||(a?a.element:b.box).appendChild(c),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(a){var b=a.parentNode;b&&b.removeChild(a)},destroy:function(){var d,f,a=this,b=a.element||{},c=a.renderer.isSVG&&"SPAN"===b.nodeName&&a.parentGroup,e=b.ownerSVGElement;if(b.onclick=b.onmouseout=b.onmouseover=b.onmousemove=b.point=null,H(a),a.clipPath&&e&&(o(e.querySelectorAll("[clip-path]"),function(b){b.getAttribute("clip-path").indexOf(a.clipPath.element.id+")")>-1&&b.removeAttribute("clip-path")}),a.clipPath=a.clipPath.destroy()),a.stops){for(f=0;f<a.stops.length;f++)a.stops[f]=a.stops[f].destroy();a.stops=null}for(a.safeRemoveChild(b),a.destroyShadows();c&&c.div&&0===c.div.childNodes.length;)d=c.parentGroup,a.safeRemoveChild(c.div),delete c.div,c=d;return a.alignTo&&q(a.renderer.alignedObjects,a),C(a,function(b,c){delete a[c]}),null},shadow:function(a,b,c){var e,g,i,j,k,l,d=[],h=this.element;if(a){if(!this.shadows){for(j=D(a.width,3),k=(a.opacity||.15)/j,l=this.parentInverted?"(-1,-1)":"("+D(a.offsetX,1)+", "+D(a.offsetY,1)+")",e=1;j>=e;e++)g=h.cloneNode(0),i=2*j+1-2*e,f(g,{isShadow:"true",stroke:a.color||"#000000","stroke-opacity":k*e,"stroke-width":i,transform:"translate"+l,fill:"none"}),c&&(f(g,"height",Math.max(f(g,"height")-i,0)),g.cutHeight=i),b?b.element.appendChild(g):h.parentNode&&h.parentNode.insertBefore(g,h),d.push(g);this.shadows=d}}else this.destroyShadows();return this},destroyShadows:function(){o(this.shadows||[],function(a){this.safeRemoveChild(a)},this),this.shadows=void 0},xGetter:function(a){return"circle"===this.element.nodeName&&("x"===a?a="cx":"y"===a&&(a="cy")),this._defaultGetter(a)},_defaultGetter:function(a){var b=D(this[a],this.element?this.element.getAttribute(a):null,0);return/^[\-0-9\.]+$/.test(b)&&(b=parseFloat(b)),b},dSetter:function(a,b,c){a&&a.join&&(a=a.join(" ")),/(NaN| {2}|^$)/.test(a)&&(a="M 0 0"),this[b]!==a&&(c.setAttribute(b,a),this[b]=a)},dashstyleSetter:function(a){var b,c=this["stroke-width"];if("inherit"===c&&(c=1),a=a&&a.toLowerCase()){for(a=a.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),b=a.length;b--;)a[b]=E(a[b])*c;a=a.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",a)}},alignSetter:function(a){var b={left:"start",center:"middle",right:"end"};this.element.setAttribute("text-anchor",b[a])},opacitySetter:function(a,b,c){this[b]=a,c.setAttribute(b,a)},titleSetter:function(a){var b=this.element.getElementsByTagName("title")[0];b||(b=n.createElementNS(this.SVG_NS,"title"),this.element.appendChild(b)),b.firstChild&&b.removeChild(b.firstChild),b.appendChild(n.createTextNode(String(D(a),"").replace(/<[^>]*>/g,"")))},textSetter:function(a){a!==this.textStr&&(delete this.bBox,this.textStr=a,this.added&&this.renderer.buildText(this))},fillSetter:function(a,b,c){"string"==typeof a?c.setAttribute(b,a):a&&this.colorGradient(a,b,c)},visibilitySetter:function(a,b,c){"inherit"===a?c.removeAttribute(b):this[b]!==a&&c.setAttribute(b,a),this[b]=a},zIndexSetter:function(a,b){var g,h,i,l,m,p,c=this.renderer,d=this.parentGroup,e=d||c,f=e.element||c.box,j=this.element,n=f===c.box,o=this.added;if(k(a)&&(j.zIndex=a,a=+a,this[b]===a&&(o=!1),this[b]=a),o){for(a=this.zIndex,a&&d&&(d.handleZ=!0),g=f.childNodes,p=g.length-1;p>=0&&!l;p--)h=g[p],i=h.zIndex,m=!k(i),h!==j&&(0>a&&m&&!n&&!p?(f.insertBefore(j,g[p]),l=!0):(E(i)<=a||m&&(!k(a)||a>=0))&&(f.insertBefore(j,g[p+1]||null),l=!0));l||(f.insertBefore(j,g[n?3:0]||null),l=!0)}return l},_defaultSetter:function(a,b,c){c.setAttribute(b,a)}}),b.prototype.yGetter=b.prototype.xGetter,b.prototype.translateXSetter=b.prototype.translateYSetter=b.prototype.rotationSetter=b.prototype.verticalAlignSetter=b.prototype.rotationOriginXSetter=b.prototype.rotationOriginYSetter=b.prototype.scaleXSetter=b.prototype.scaleYSetter=b.prototype.matrixSetter=function(a,b){this[b]=a,this.doTransform=!0},b.prototype["stroke-widthSetter"]=b.prototype.strokeSetter=function(a,c,d){this[c]=a,this.stroke&&this["stroke-width"]?(b.prototype.fillSetter.call(this,this.stroke,"stroke",d),d.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===c&&0===a&&this.hasStroke&&(d.removeAttribute("stroke"),this.hasStroke=!1)},c=a.SVGRenderer=function(){this.init.apply(this,arguments)},p(c.prototype,{Element:b,SVG_NS:J,init:function(a,b,c,e,g,h){var m,o,p,j=this,k=j.createElement("svg").attr({version:"1.1","class":"highcharts-root"}).css(this.getStyle(e)),l=k.element;a.appendChild(l),-1===a.innerHTML.indexOf("xmlns")&&f(l,"xmlns",this.SVG_NS),j.isSVG=!0,this.box=l,this.boxWrapper=k,j.alignedObjects=[],this.url=(v||z)&&n.getElementsByTagName("base").length?L.location.href.replace(/#.*?$/,"").replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",m=this.createElement("desc").add(),m.element.appendChild(n.createTextNode("Created with Highcharts 6.0.1")),j.defs=this.createElement("defs").add(),j.allowHTML=h,j.forExport=g,j.gradients={},j.cache={},j.cacheKeys=[],j.imgCount=0,j.setSize(b,c,!1),v&&a.getBoundingClientRect&&(o=function(){i(a,{left:0,top:0}),p=a.getBoundingClientRect(),i(a,{left:Math.ceil(p.left)-p.left+"px",top:Math.ceil(p.top)-p.top+"px"})},o(),j.unSubPixelFix=d(L,"resize",o))},getStyle:function(a){return this.style=p({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},a),this.style},setStyle:function(a){this.boxWrapper.css(this.getStyle(a))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var a=this,b=a.defs;return a.box=null,a.boxWrapper=a.boxWrapper.destroy(),m(a.gradients||{}),a.gradients=null,b&&(a.defs=b.destroy()),a.unSubPixelFix&&a.unSubPixelFix(),a.alignedObjects=null,null},createElement:function(a){var b=new this.Element;return b.init(this,a),b},draw:B,getRadialAttr:function(a,b){return{cx:a[0]-a[2]/2+b.cx*a[2],cy:a[1]-a[2]/2+b.cy*a[2],r:b.r*a[2]}},getSpanWidth:function(a,b){var c=this,d=a.getBBox(!0),e=d.width;return!I&&c.forExport&&(e=c.measureSpanWidth(b.firstChild.data,a.styles)),e},applyEllipsis:function(a,b,c,d){var h,l,m,e=this,f=a.rotation,g=c,i=0,j=c.length,k=function(a){b.removeChild(b.firstChild),a&&b.appendChild(n.createTextNode(a))};if(a.rotation=0,l=e.getSpanWidth(a,b),m=l>d){for(;j>=i;)h=Math.ceil((i+j)/2),g=c.substring(0,h)+"…",k(g),l=e.getSpanWidth(a,b),i===j?i=j+1:l>d?j=h-1:i=h;0===j&&k("")}return a.rotation=f,m},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot"},buildText:function(a){var h,k,l,m,p,z,A,b=a.element,c=this,d=c.forExport,e=D(a.textStr,"").toString(),g=-1!==e.indexOf("<"),j=b.childNodes,q=f(b,"x"),s=a.styles,t=a.textWidth,u=s&&s.lineHeight,v=s&&s.textOutline,w=s&&"ellipsis"===s.textOverflow,x=s&&"nowrap"===s.whiteSpace,y=s&&s.fontSize,B=j.length,F=t&&!a.added&&this.box,G=function(a){var d;return d=/(px|em)$/.test(a&&a.style.fontSize)?a.style.fontSize:y||c.style.fontSize||12,u?E(u):c.fontMetrics(d,a.getAttribute("style")?a:b).h},H=function(a){return C(c.escapes,function(b,c){a=a.replace(new RegExp(b,"g"),c)}),a};if(z=[e,w,x,u,v,y,t].join(","),z!==a.textCache){for(a.textCache=z;B--;)b.removeChild(j[B]);g||v||w||t||-1!==e.indexOf(" ")?(k=/<.*class="([^"]+)".*>/,l=/<.*style="([^"]+)".*>/,m=/<.*href="([^"]+)".*>/,F&&F.appendChild(b),h=g?e.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[e],h=r(h,function(a){return""!==a}),o(h,function(e,g){var h,j=0;e=e.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),h=e.split("|||"),o(h,function(e){var s,u,o,r,z,C,v,y,B,D,E;if((""!==e||1===h.length)&&(o={},r=n.createElementNS(c.SVG_NS,"tspan"),k.test(e)&&(s=e.match(k)[1],f(r,"class",s)),l.test(e)&&(u=e.match(l)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),f(r,"style",u)),m.test(e)&&!d&&(f(r,"onclick",'location.href="'+e.match(m)[1]+'"'),f(r,"class","highcharts-anchor"),i(r,{cursor:"pointer"})),e=H(e.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" ")," "!==e)){if(r.appendChild(n.createTextNode(e)),j?o.dx=0:g&&null!==q&&(o.x=q),f(r,o),b.appendChild(r),!j&&A&&(!I&&d&&i(r,{display:"block"}),f(r,"dy",G(r))),t){for(v=e.replace(/([^\^])-/g,"$1- ").split(" "),y=h.length>1||g||v.length>1&&!x,B=[],D=G(r),E=a.rotation,w&&(p=c.applyEllipsis(a,r,e,t));!w&&y&&(v.length||B.length);)a.rotation=0,C=c.getSpanWidth(a,r),z=C>t,void 0===p&&(p=z),z&&1!==v.length?(r.removeChild(r.firstChild),B.unshift(v.pop())):(v=B,B=[],v.length&&!x&&(r=n.createElementNS(J,"tspan"),f(r,{dy:D,x:q}),u&&f(r,"style",u),b.appendChild(r)),C>t&&(t=C)),v.length&&r.appendChild(n.createTextNode(v.join(" ").replace(/- /g,"-")));a.rotation=E}j++}}),A=A||b.childNodes.length}),p&&a.attr("title",a.textStr),F&&F.removeChild(b),v&&a.applyTextOutline&&a.applyTextOutline(v)):b.appendChild(n.createTextNode(H(e)))
}},getContrast:function(a){return a=h(a).rgba,a[0]+a[1]+a[2]>510?"#000000":"#FFFFFF"},button:function(a,b,c,e,f,g,h,i,j){var m,n,o,q,k=this.label(a,b,c,j,null,null,null,null,"button"),l=0;return k.attr(A({padding:8,r:2},f)),f=A({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},f),m=f.style,delete f.style,g=A(f,{fill:"#e6e6e6"},g),n=g.style,delete g.style,h=A(f,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},h),o=h.style,delete h.style,i=A(f,{style:{color:"#cccccc"}},i),q=i.style,delete i.style,d(k.element,w?"mouseover":"mouseenter",function(){3!==l&&k.setState(1)}),d(k.element,w?"mouseout":"mouseleave",function(){3!==l&&k.setState(l)}),k.setState=function(a){1!==a&&(k.state=l=a),k.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][a||0]),k.attr([f,g,h,i][a||0]).css([m,n,o,q][a||0])},k.attr(f).css(p({cursor:"default"},m)),k.on("click",function(a){3!==l&&e.call(k,a)})},crispLine:function(a,b){return a[1]===a[4]&&(a[1]=a[4]=Math.round(a[1])-b%2/2),a[2]===a[5]&&(a[2]=a[5]=Math.round(a[2])+b%2/2),a},path:function(a){var b={fill:"none"};return u(a)?b.d=a:x(a)&&p(b,a),this.createElement("path").attr(b)},circle:function(a,b,c){var d=x(a)?a:{x:a,y:b,r:c},e=this.createElement("circle");return e.xSetter=e.ySetter=function(a,b,c){c.setAttribute("c"+b,a)},e.attr(d)},arc:function(a,b,c,d,e,f){var g,h;return x(a)?(h=a,b=h.y,c=h.r,d=h.innerR,e=h.start,f=h.end,a=h.x):h={innerR:d,start:e,end:f},g=this.symbol("arc",a,b,c,c,h),g.r=c,g},rect:function(a,b,c,d,e,g){e=x(a)?a.r:e;var h=this.createElement("rect"),i=x(a)?a:void 0===a?{}:{x:a,y:b,width:Math.max(c,0),height:Math.max(d,0)};return void 0!==g&&(i.strokeWidth=g,i=h.crisp(i)),i.fill="none",e&&(i.r=e),h.rSetter=function(a,b,c){f(c,{rx:a,ry:a})},h.attr(i)},setSize:function(a,b,c){var d=this,e=d.alignedObjects,f=e.length;for(d.width=a,d.height=b,d.boxWrapper.animate({width:a,height:b},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:D(c,!0)?void 0:0});f--;)e[f].align()},g:function(a){var b=this.createElement("g");return a?b.attr({"class":"highcharts-"+a}):b},image:function(a,b,c,d,e){var g,f={preserveAspectRatio:"none"};return arguments.length>1&&p(f,{x:b,y:c,width:d,height:e}),g=this.createElement("image").attr(f),g.element.setAttributeNS?g.element.setAttributeNS("http://www.w3.org/1999/xlink","href",a):g.element.setAttribute("hc-svg-href",a),g},symbol:function(a,b,c,d,e,f){var l,u,v,h=this,m=/^url\((.*?)\)$/,q=m.test(a),r=!q&&(this.symbols[a]?a:"circle"),s=r&&this.symbols[r],t=k(b)&&s&&s.call(this.symbols,Math.round(b),Math.round(c),d,e,f);return s?(l=this.path(t),l.attr("fill","none"),p(l,{symbolName:r,x:b,y:c,width:d,height:e}),f&&p(l,f)):q&&(u=a.match(m)[1],l=this.image(u),l.imgwidth=D(K[u]&&K[u].width,f&&f.width),l.imgheight=D(K[u]&&K[u].height,f&&f.height),v=function(){l.attr({width:l.width,height:l.height})},o(["width","height"],function(a){l[a+"Setter"]=function(a,b){var c={},d=this["img"+b],e="width"===b?"translateX":"translateY";this[b]=a,k(d)&&(this.element&&this.element.setAttribute(b,d),this.alignByTranslate||(c[e]=((this[b]||0)-d)/2,this.attr(c)))}}),k(b)&&l.attr({x:b,y:c}),l.isImg=!0,k(l.imgwidth)&&k(l.imgheight)?v():(l.attr({width:0,height:0}),j("img",{onload:function(){var a=g[h.chartIndex];0===this.width&&(i(this,{position:"absolute",top:"-999em"}),n.body.appendChild(this)),K[u]={width:this.width,height:this.height},l.imgwidth=this.width,l.imgheight=this.height,l.element&&v(),this.parentNode&&this.parentNode.removeChild(this),h.imgCount--,!h.imgCount&&a&&a.onload&&a.onload()},src:u}),this.imgCount++)),l},symbols:{circle:function(a,b,c,d){return this.arc(a+c/2,b+d/2,c/2,d/2,{start:0,end:2*Math.PI,open:!1})},square:function(a,b,c,d){return["M",a,b,"L",a+c,b,a+c,b+d,a,b+d,"Z"]},triangle:function(a,b,c,d){return["M",a+c/2,b,"L",a+c,b+d,a,b+d,"Z"]},"triangle-down":function(a,b,c,d){return["M",a,b,"L",a+c,b,a+c/2,b+d,"Z"]},diamond:function(a,b,c,d){return["M",a+c/2,b,"L",a+c,b+d/2,a+c/2,b+d,a,b+d/2,"Z"]},arc:function(a,b,c,d,e){var t,f=e.start,g=e.r||c,h=e.r||d||c,i=.001,j=Math.abs(e.end-e.start-2*Math.PI)<i,l=e.end-i,m=e.innerR,n=D(e.open,j),o=Math.cos(f),p=Math.sin(f),q=Math.cos(l),r=Math.sin(l),s=e.end-f-Math.PI<i?0:1;return t=["M",a+g*o,b+h*p,"A",g,h,0,s,1,a+g*q,b+h*r],k(m)&&t.push(n?"M":"L",a+m*q,b+m*r,"A",m,m,0,s,0,a+m*o,b+m*p),t.push(n?"":"Z"),t},callout:function(a,b,c,d,e){var l,f=6,g=6,h=Math.min(e&&e.r||0,c,d),i=h+g,j=e&&e.anchorX,k=e&&e.anchorY;return l=["M",a+h,b,"L",a+c-h,b,"C",a+c,b,a+c,b,a+c,b+h,"L",a+c,b+d-h,"C",a+c,b+d,a+c,b+d,a+c-h,b+d,"L",a+h,b+d,"C",a,b+d,a,b+d,a,b+d-h,"L",a,b+h,"C",a,b,a,b,a+h,b],j&&j>c?k>b+i&&b+d-i>k?l.splice(13,3,"L",a+c,k-g,a+c+f,k,a+c,k+g,a+c,b+d-h):l.splice(13,3,"L",a+c,d/2,j,k,a+c,d/2,a+c,b+d-h):j&&0>j?k>b+i&&b+d-i>k?l.splice(33,3,"L",a,k+g,a-f,k,a,k-g,a,b+h):l.splice(33,3,"L",a,d/2,j,k,a,d/2,a,b+h):k&&k>d&&j>a+i&&a+c-i>j?l.splice(23,3,"L",j+g,b+d,j,b+d+f,j-g,b+d,a+h,b+d):k&&0>k&&j>a+i&&a+c-i>j&&l.splice(3,3,"L",j-g,b,j,b-f,j+g,b,c-h,b),l}},clipRect:function(b,c,d,e){var f,g=a.uniqueKey(),h=this.createElement("clipPath").attr({id:g}).add(this.defs);return f=this.rect(b,c,d,e,0).add(h),f.id=g,f.clipPath=h,f.count=0,f},text:function(a,b,c,d){var f,e=this,g={};return!d||!e.allowHTML&&e.forExport?(g.x=Math.round(b||0),c&&(g.y=Math.round(c)),(a||0===a)&&(g.text=a),f=e.createElement("text").attr(g),d||(f.xSetter=function(a,b,c){var e,g,d=c.getElementsByTagName("tspan"),f=c.getAttribute(b);for(g=0;g<d.length;g++)e=d[g],e.getAttribute(b)===f&&e.setAttribute(b,a);c.setAttribute(b,a)}),f):e.html(a,b,c)},fontMetrics:function(a,b){var c,d;return a=a||b&&b.style&&b.style.fontSize||this.style&&this.style.fontSize,a=/px/.test(a)?E(a):/em/.test(a)?parseFloat(a)*(b?this.fontMetrics(null,b.parentNode).f:16):12,c=24>a?a+3:Math.round(1.2*a),d=Math.round(.8*c),{h:c,b:d,f:a}},rotCorr:function(a,b,c){var d=a;return b&&c&&(d=Math.max(d*Math.cos(b*l),4)),{x:-a/3*Math.sin(b*l),y:d}},label:function(c,d,e,f,g,h,i,j,l){var r,s,w,x,y,z,B,D,E,I,J,K,L,M,m=this,n=m.g("button"!==l&&"label"),q=n.text=m.text("",0,0,i).attr({zIndex:1}),t=0,u=3,v=0,C={},G=/^url\((.*?)\)$/.test(f),H=G;return l&&n.addClass("highcharts-"+l),H=G,I=function(){return(D||0)%2/2},J=function(){var b,a=q.element.style,c={};s=(void 0===w||void 0===x||B)&&k(q.textStr)&&q.getBBox(),n.width=(w||s.width||0)+2*u+v,n.height=(x||s.height||0)+2*u,E=u+m.fontMetrics(a&&a.fontSize,q).b,H&&(r||(n.box=r=m.symbols[f]||G?m.symbol(f):m.rect(),r.addClass(("button"===l?"":"highcharts-label-box")+(l?" highcharts-"+l+"-box":"")),r.add(n),b=I(),c.x=b,c.y=(j?-E:0)+b),c.width=Math.round(n.width),c.height=Math.round(n.height),r.attr(p(c,C)),C={})},K=function(){var b,a=v+u;b=j?0:E,k(w)&&s&&("center"===B||"right"===B)&&(a+={center:.5,right:1}[B]*(w-s.width)),(a!==q.x||b!==q.y)&&(q.attr("x",a),void 0!==b&&q.attr("y",b)),q.x=a,q.y=b},L=function(a,b){r?r.attr(a,b):C[a]=b},n.onAdd=function(){q.add(n),n.attr({text:c||0===c?c:"",x:d,y:e}),r&&k(g)&&n.attr({anchorX:g,anchorY:h})},n.widthSetter=function(b){w=a.isNumber(b)?b:null},n.heightSetter=function(a){x=a},n["text-alignSetter"]=function(a){B=a},n.paddingSetter=function(a){k(a)&&a!==u&&(u=n.padding=a,K())},n.paddingLeftSetter=function(a){k(a)&&a!==v&&(v=a,K())},n.alignSetter=function(a){a={left:0,center:.5,right:1}[a],a!==t&&(t=a,s&&n.attr({x:y}))},n.textSetter=function(a){void 0!==a&&q.textSetter(a),J(),K()},n["stroke-widthSetter"]=function(a,b){a&&(H=!0),D=this["stroke-width"]=a,L(b,a)},n.strokeSetter=n.fillSetter=n.rSetter=function(a,b){"r"!==b&&("fill"===b&&a&&(H=!0),n[b]=a),L(b,a)},n.anchorXSetter=function(a,b){g=n.anchorX=a,L(b,Math.round(a)-I()-y)},n.anchorYSetter=function(a,b){h=n.anchorY=a,L(b,a-z)},n.xSetter=function(a){n.x=a,t&&(a-=t*((w||s.width)+2*u)),y=Math.round(a),n.attr("translateX",y)},n.ySetter=function(a){z=n.y=Math.round(a),n.attr("translateY",z)},M=n.css,p(n,{css:function(a){if(a){var b={};a=A(a),o(n.textProps,function(c){void 0!==a[c]&&(b[c]=a[c],delete a[c])}),q.css(b)}return M.call(n,a)},getBBox:function(){return{width:s.width+2*u,height:s.height+2*u,x:s.x-u,y:s.y-u}},shadow:function(a){return a&&(J(),r&&r.shadow(a)),n},destroy:function(){F(n.element,"mouseenter"),F(n.element,"mouseleave"),q&&(q=q.destroy()),r&&(r=r.destroy()),b.prototype.destroy.call(n),n=m=J=K=L=null}})}}),a.Renderer=c}(b),function(a){var b=a.attr,c=a.createElement,d=a.css,e=a.defined,f=a.each,g=a.extend,h=a.isFirefox,i=a.isMS,j=a.isWebKit,k=a.pInt,l=a.SVGElement,m=a.SVGRenderer,n=a.win,o=a.wrap;g(l.prototype,{htmlCss:function(a){var b=this,c=b.element,e=a&&"SPAN"===c.tagName&&a.width;return e&&(delete a.width,b.textWidth=e,b.updateTransform()),a&&"ellipsis"===a.textOverflow&&(a.whiteSpace="nowrap",a.overflow="hidden"),b.styles=g(b.styles,a),d(b.element,a),b},htmlGetBBox:function(){var a=this,b=a.element;return{x:b.offsetLeft,y:b.offsetTop,width:b.offsetWidth,height:b.offsetHeight}},htmlUpdateTransform:function(){var a,b,c,g,h,i,l,m,n,o,q,p,r,s,t;return this.added?(a=this,b=a.renderer,c=a.element,g=a.translateX||0,h=a.translateY||0,i=a.x||0,l=a.y||0,m=a.textAlign||"left",n={left:0,center:.5,right:1}[m],o=a.styles,d(c,{marginLeft:g,marginTop:h}),a.shadows&&f(a.shadows,function(a){d(a,{marginLeft:g+1,marginTop:h+1})}),a.inverted&&f(c.childNodes,function(a){b.invertChild(a,c)}),"SPAN"===c.tagName&&(p=a.rotation,r=k(a.textWidth),s=o&&o.whiteSpace,t=[p,m,c.innerHTML,a.textWidth,a.textAlign].join(","),t!==a.cTT&&(q=b.fontMetrics(c.style.fontSize).b,e(p)&&a.setSpanRotation(p,n,q),d(c,{width:"",whiteSpace:s||"nowrap"}),c.offsetWidth>r&&/[ \-]/.test(c.textContent||c.innerText)&&d(c,{width:r+"px",display:"block",whiteSpace:s||"normal"}),a.getSpanCorrection(c.offsetWidth,q,n,p,m)),d(c,{left:i+(a.xCorr||0)+"px",top:l+(a.yCorr||0)+"px"}),j&&(q=c.offsetHeight),a.cTT=t),void 0):(this.alignOnAdd=!0,void 0)},setSpanRotation:function(a,b,c){var e={},f=this.renderer.getTransformKey();e[f]=e.transform="rotate("+a+"deg)",e[f+(h?"Origin":"-origin")]=e.transformOrigin=100*b+"% "+c+"px",d(this.element,e)},getSpanCorrection:function(a,b,c){this.xCorr=-a*c,this.yCorr=-b}}),g(m.prototype,{getTransformKey:function(){return i&&!/Edge/.test(n.navigator.userAgent)?"-ms-transform":j?"-webkit-transform":h?"MozTransform":n.opera?"-o-transform":""},html:function(a,d,e){var h=this.createElement("span"),i=h.element,j=h.renderer,k=j.isSVG,l=function(a,b){f(["opacity","visibility"],function(c){o(a,c+"Setter",function(a,c,d,e){a.call(this,c,d,e),b[d]=c})})};return h.textSetter=function(a){a!==i.innerHTML&&delete this.bBox,i.innerHTML=this.textStr=a,h.htmlUpdateTransform()},k&&l(h,h.element.style),h.xSetter=h.ySetter=h.alignSetter=h.rotationSetter=function(a,b){"align"===b&&(b="textAlign"),h[b]=a,h.htmlUpdateTransform()},h.attr({text:a,x:Math.round(d),y:Math.round(e)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),i.style.whiteSpace="nowrap",h.css=h.htmlCss,k&&(h.add=function(a){var d,k,e=j.box.parentNode,m=[];if(this.parentGroup=a,a){if(d=a.div,!d){for(k=a;k;)m.push(k),k=k.parentGroup;f(m.reverse(),function(a){function k(b,c){a[c]=b,f[j.getTransformKey()]="translate("+a.x+"px,"+a.y+"px)",a.doTransform=!0}var f,i=b(a.element,"class");i&&(i={className:i}),d=a.div=a.div||c("div",i,{position:"absolute",left:(a.translateX||0)+"px",top:(a.translateY||0)+"px",display:a.display,opacity:a.opacity,pointerEvents:a.styles&&a.styles.pointerEvents},d||e),f=d.style,g(a,{classSetter:function(a){this.element.setAttribute("class",a),d.className=a},on:function(){return m[0].div&&h.on.apply({element:m[0].div},arguments),a},translateXSetter:k,translateYSetter:k}),l(a,f)})}}else d=e;return d.appendChild(i),h.added=!0,h.alignOnAdd&&h.htmlUpdateTransform(),h}),h}})}(b),function(a){function i(){var b=a.defaultOptions.global,c=h.moment;if(b.timezone){if(c)return function(a){return-c.tz(a,b.timezone).utcOffset()};a.error(25)}return b.useUTC&&b.getTimezoneOffset}function j(){var d,m,b=a.defaultOptions.global,e=b.useUTC,g=e?"getUTC":"get",j=e?"setUTC":"set",k=["Minutes","Hours","Day","Date","Month","FullYear"],l=k.concat(["Milliseconds","Seconds"]);for(a.Date=d=b.Date||h.Date,d.hcTimezoneOffset=e&&b.timezoneOffset,d.hcGetTimezoneOffset=i(),d.hcMakeTime=function(a,b,g,h,i,j){var k;return e?(k=d.UTC.apply(0,arguments),k+=c(k)):k=new d(a,b,f(g,1),f(h,0),f(i,0),f(j,0)).getTime(),k},m=0;m<k.length;m++)d["hcGet"+k[m]]=g+k[m];for(m=0;m<l.length;m++)d["hcSet"+l[m]]=j+l[m]}var b=a.color,c=a.getTZOffset,d=a.isTouchDevice,e=a.merge,f=a.pick,g=a.svg,h=a.win;a.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0},chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:g,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:d?25:10,backgroundColor:b("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.efraiser.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:""}},a.setOptions=function(b){return a.defaultOptions=e(!0,a.defaultOptions,b),j(),a.defaultOptions},a.getOptions=function(){return a.defaultOptions},a.defaultPlotOptions=a.defaultOptions.plotOptions,j()}(b),function(a){var b=a.correctFloat,c=a.defined,d=a.destroyObjectProperties,e=a.isNumber,f=a.merge,g=a.pick,h=a.deg2rad;a.Tick=function(a,b,c,d){this.axis=a,this.pos=b,this.type=c||"",this.isNew=!0,this.isNewLabel=!0,c||d||this.addLabel()},a.Tick.prototype={addLabel:function(){var m,t,a=this,d=a.axis,e=d.options,h=d.chart,i=d.categories,j=d.names,k=a.pos,l=e.labels,n=d.tickPositions,o=k===n[0],p=k===n[n.length-1],q=i?g(i[k],j[k],k):k,r=a.label,s=n.info;d.isDatetimeAxis&&s&&(t=e.dateTimeLabelFormats[s.higherRanks[k]||s.unitName]),a.isFirst=o,a.isLast=p,m=d.labelFormatter.call({axis:d,chart:h,isFirst:o,isLast:p,dateTimeLabelFormat:t,value:d.isLog?b(d.lin2log(q)):q,pos:k}),c(r)?r&&r.attr({text:m}):(a.label=r=c(m)&&l.enabled?h.renderer.text(m,0,0,l.useHTML).css(f(l.style)).add(d.labelGroup):null,a.labelLength=r&&r.getBBox().width,a.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(a){var r,s,t,b=this.axis,c=a.x,d=b.chart.chartWidth,e=b.chart.spacing,f=g(b.labelLeft,Math.min(b.pos,e[3])),i=g(b.labelRight,Math.max(b.pos+b.len,d-e[1])),j=this.label,k=this.rotation,l={left:0,center:.5,right:1}[b.labelAlign],m=j.getBBox().width,n=b.getSlotWidth(),o=n,p=l,q=1,u={};k?0>k&&f>c-l*m?t=Math.round(c/Math.cos(k*h)-f):k>0&&c+l*m>i&&(t=Math.round((d-c)/Math.cos(k*h))):(r=c-l*m,s=c+(1-l)*m,f>r?o=a.x+o*(1-l)-f:s>i&&(o=i-a.x+o*l,q=-1),o=Math.min(n,o),n>o&&"center"===b.labelAlign&&(a.x+=q*(n-o-p*(n-Math.min(m,o)))),(m>o||b.autoRotation&&(j.styles||{}).width)&&(t=o)),t&&(u.width=t,(b.options.labels.style||{}).textOverflow||(u.textOverflow="ellipsis"),j.css(u))},getPosition:function(a,b,c,d){var e=this.axis,f=e.chart,g=d&&f.oldChartHeight||f.chartHeight;return{x:a?e.translate(b+c,null,null,d)+e.transB:e.left+e.offset+(e.opposite?(d&&f.oldChartWidth||f.chartWidth)-e.right-e.left:0),y:a?g-e.bottom+e.offset-(e.opposite?e.height:0):g-e.translate(b+c,null,null,d)-e.transB}},getLabelPosition:function(a,b,d,e,f,g,i,j){var q,k=this.axis,l=k.transA,m=k.reversed,n=k.staggerLines,o=k.tickRotCorr||{x:0,y:0},p=f.y;return c(p)||(p=0===k.side?d.rotation?-8:-d.getBBox().height:2===k.side?o.y+8:Math.cos(d.rotation*h)*(o.y-d.getBBox(!1,0).height/2)),a=a+f.x+o.x-(g&&e?g*l*(m?-1:1):0),b=b+p-(g&&!e?g*l*(m?1:-1):0),n&&(q=i/(j||1)%n,k.opposite&&(q=n-q-1),b+=q*(k.labelOffset/n)),{x:a,y:Math.round(b)}},getMarkPath:function(a,b,c,d,e,f){return f.crispLine(["M",a,b,"L",a+(e?0:-c),b+(e?c:0)],d)},renderGridLine:function(a,b,c){var h,d=this,e=d.axis,f=e.options,g=d.gridLine,i={},j=d.pos,k=d.type,l=e.tickmarkOffset,m=e.chart.renderer,n=k?k+"Grid":"grid",o=f[n+"LineWidth"],p=f[n+"LineColor"],q=f[n+"LineDashStyle"];g||(i.stroke=p,i["stroke-width"]=o,q&&(i.dashstyle=q),k||(i.zIndex=1),a&&(i.opacity=0),d.gridLine=g=m.path().attr(i).addClass("highcharts-"+(k?k+"-":"")+"grid-line").add(e.gridGroup)),!a&&g&&(h=e.getPlotLinePath(j+l,g.strokeWidth()*c,a,!0),h&&g[d.isNew?"attr":"animate"]({d:h,opacity:b}))},renderMark:function(a,b,c){var d=this,e=d.axis,f=e.options,h=e.chart.renderer,i=d.type,j=i?i+"Tick":"tick",k=e.tickSize(j),l=d.mark,m=!l,n=a.x,o=a.y,p=g(f[j+"Width"],!i&&e.isXAxis?1:0),q=f[j+"Color"];k&&(e.opposite&&(k[0]=-k[0]),m&&(d.mark=l=h.path().addClass("highcharts-"+(i?i+"-":"")+"tick").add(e.axisGroup),l.attr({stroke:q,"stroke-width":p})),l[m?"attr":"animate"]({d:d.getMarkPath(n,o,k[0],l.strokeWidth()*c,e.horiz,h),opacity:b}))},renderLabel:function(a,b,c,d){var f=this,h=f.axis,i=h.horiz,j=h.options,k=f.label,l=j.labels,m=l.step,n=h.tickmarkOffset,o=!0,p=a.x,q=a.y;k&&e(p)&&(k.xy=a=f.getLabelPosition(p,q,k,i,l,n,d,m),f.isFirst&&!f.isLast&&!g(j.showFirstLabel,1)||f.isLast&&!f.isFirst&&!g(j.showLastLabel,1)?o=!1:!i||h.isRadial||l.step||l.rotation||b||0===c||f.handleOverflow(a),m&&d%m&&(o=!1),o&&e(a.y)?(a.opacity=c,k[f.isNewLabel?"attr":"animate"](a),f.isNewLabel=!1):(k.attr("y",-9999),f.isNewLabel=!0))},render:function(a,b,c){var d=this,e=d.axis,f=e.horiz,h=d.pos,i=e.tickmarkOffset,j=d.getPosition(f,h,i,b),k=j.x,l=j.y,m=f&&k===e.pos+e.len||!f&&l===e.pos?-1:1;c=g(c,1),this.isActive=!0,this.renderGridLine(b,c,m),this.renderMark(j,c,m),this.renderLabel(j,b,c,a),d.isNew=!1},destroy:function(){d(this,this.axis)}}}(b),c=function(a){var b=a.addEvent,c=a.animObject,d=a.arrayMax,e=a.arrayMin,f=a.color,g=a.correctFloat,h=a.defaultOptions,i=a.defined,j=a.deg2rad,k=a.destroyObjectProperties,l=a.each,m=a.extend,n=a.fireEvent,o=a.format,p=a.getMagnitude,q=a.grep,r=a.inArray,s=a.isArray,t=a.isNumber,u=a.isString,v=a.merge,w=a.normalizeTickInterval,x=a.objectEach,y=a.pick,z=a.removeEvent,A=a.splat,B=a.syncTimeout,C=a.Tick,D=function(){this.init.apply(this,arguments)};return a.extend(D.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},minPadding:.01,maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return a.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(a,c){var f,g,h,j,d=c.isX,e=this;e.chart=a,e.horiz=a.inverted&&!e.isZAxis?!d:d,e.isXAxis=d,e.coll=e.coll||(d?"xAxis":"yAxis"),e.opposite=c.opposite,e.side=c.side||(e.horiz?e.opposite?0:2:e.opposite?1:3),e.setOptions(c),f=this.options,g=f.type,h="datetime"===g,e.labelFormatter=f.labels.formatter||e.defaultLabelFormatter,e.userOptions=c,e.minPixelPadding=0,e.reversed=f.reversed,e.visible=f.visible!==!1,e.zoomEnabled=f.zoomEnabled!==!1,e.hasNames="category"===g||f.categories===!0,e.categories=f.categories||e.hasNames,e.names=e.names||[],e.plotLinesAndBandsGroups={},e.isLog="logarithmic"===g,e.isDatetimeAxis=h,e.positiveValuesOnly=e.isLog&&!e.allowNegativeLog,e.isLinked=i(f.linkedTo),e.ticks={},e.labelEdge=[],e.minorTicks={},e.plotLinesAndBands=[],e.alternateBands={},e.len=0,e.minRange=e.userMinRange=f.minRange||f.maxZoom,e.range=f.range,e.offset=f.offset||0,e.stacks={},e.oldStacks={},e.stacksTouched=0,e.max=null,e.min=null,e.crosshair=y(f.crosshair,A(a.options.tooltip.crosshairs)[d?0:1],!1),j=e.options.events,-1===r(e,a.axes)&&(d?a.axes.splice(a.xAxis.length,0,e):a.axes.push(e),a[e.coll].push(e)),e.series=e.series||[],a.inverted&&!e.isZAxis&&d&&void 0===e.reversed&&(e.reversed=!0),x(j,function(a,c){b(e,c,a)}),e.lin2log=f.linearToLogConverter||e.lin2log,e.isLog&&(e.val2lin=e.log2lin,e.lin2val=e.lin2log)},setOptions:function(a){this.options=v(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],v(h[this.coll],a))},defaultLabelFormatter:function(){var k,l,b=this.axis,c=this.value,d=b.categories,e=this.dateTimeLabelFormat,f=h.lang,g=f.numericSymbols,i=f.numericSymbolMagnitude||1e3,j=g&&g.length,m=b.options.labels.format,n=b.isLog?Math.abs(c):b.tickInterval;if(m)l=o(m,this);else if(d)l=c;else if(e)l=a.dateFormat(e,c);else if(j&&n>=1e3)for(;j--&&void 0===l;)k=Math.pow(i,j+1),n>=k&&0===10*c%k&&null!==g[j]&&0!==c&&(l=a.numberFormat(c/k,-1)+g[j]);return void 0===l&&(l=Math.abs(c)>=1e4?a.numberFormat(c,-1):a.numberFormat(c,-1,void 0,"")),l},getSeriesExtremes:function(){var a=this,b=a.chart;a.hasVisibleSeries=!1,a.dataMin=a.dataMax=a.threshold=null,a.softThreshold=!a.isXAxis,a.buildStacks&&a.buildStacks(),l(a.series,function(c){if(c.visible||!b.options.chart.ignoreHiddenSeries){var g,j,k,f=c.options,h=f.threshold;a.hasVisibleSeries=!0,a.positiveValuesOnly&&0>=h&&(h=null),a.isXAxis?(g=c.xData,g.length&&(j=e(g),t(j)||j instanceof Date||(g=q(g,function(a){return t(a)}),j=e(g)),a.dataMin=Math.min(y(a.dataMin,g[0]),j),a.dataMax=Math.max(y(a.dataMax,g[0]),d(g)))):(c.getExtremes(),k=c.dataMax,j=c.dataMin,i(j)&&i(k)&&(a.dataMin=Math.min(y(a.dataMin,j),j),a.dataMax=Math.max(y(a.dataMax,k),k)),i(h)&&(a.threshold=h),(!f.softThreshold||a.positiveValuesOnly)&&(a.softThreshold=!1))}})},translate:function(a,b,c,d,e,f){var l,g=this.linkedParent||this,h=1,i=0,j=d?g.oldTransA:g.transA,k=d?g.oldMin:g.min,m=g.minPixelPadding,n=(g.isOrdinal||g.isBroken||g.isLog&&e)&&g.lin2val;return j||(j=g.transA),c&&(h*=-1,i=g.len),g.reversed&&(h*=-1,i-=h*(g.sector||g.len)),b?(a=a*h+i,a-=m,l=a/j+k,n&&(l=g.lin2val(l))):(n&&(a=g.val2lin(a)),l=t(k)?h*(a-k)*j+i+h*m+(t(f)?j*f:0):void 0),l},toPixels:function(a,b){return this.translate(a,!1,!this.horiz,null,!0)+(b?0:this.pos)},toValue:function(a,b){return this.translate(a-(b?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(a,b,c,d,e){var j,k,l,m,p,f=this,g=f.chart,h=f.left,i=f.top,n=c&&g.oldChartHeight||g.chartHeight,o=c&&g.oldChartWidth||g.chartWidth,q=f.transB,r=function(a,b,c){return(b>a||a>c)&&(d?a=Math.min(Math.max(b,a),c):p=!0),a};return e=y(e,f.translate(a,null,null,c)),j=l=Math.round(e+q),k=m=Math.round(n-e-q),t(e)?f.horiz?(k=i,m=n-f.bottom,j=l=r(j,h,h+f.width)):(j=h,l=o-f.right,k=m=r(k,i,i+f.height)):(p=!0,d=!1),p&&!d?null:g.renderer.crispLine(["M",j,k,"L",l,m],b||1)},getLinearTickPositions:function(a,b,c){var d,e,f=g(Math.floor(b/a)*a),h=g(Math.ceil(c/a)*a),i=[];if(this.single)return[b];for(d=f;h>=d&&(i.push(d),d=g(d+a),d!==e);)e=d;return i},getMinorTickInterval:function(){var a=this.options;return a.minorTicks===!0?y(a.minorTickInterval,"auto"):a.minorTicks===!1?null:a.minorTickInterval},getMinorTickPositions:function(){var f,a=this,b=a.options,c=a.tickPositions,d=a.minorTickInterval,e=[],g=a.pointRangePadding||0,h=a.min-g,i=a.max+g,j=i-h;if(j&&j/d<a.len/3)if(a.isLog)l(this.paddedTicks,function(b,c,f){c&&e.push.apply(e,a.getLogTickPositions(d,f[c-1],f[c],!0))});else if(a.isDatetimeAxis&&"auto"===this.getMinorTickInterval())e=e.concat(a.getTimeTicks(a.normalizeTimeTickInterval(d),h,i,b.startOfWeek));else for(f=h+(c[0]-h)%d;i>=f&&f!==e[0];f+=d)e.push(f);return 0!==e.length&&a.trimTicks(e),e},adjustForMinRange:function(){var g,h,j,k,m,n,o,p,q,r,a=this,b=a.options,c=a.min,f=a.max;a.isXAxis&&void 0===a.minRange&&!a.isLog&&(i(b.min)||i(b.max)?a.minRange=null:(l(a.series,function(a){for(n=a.xData,o=a.xIncrement?1:n.length-1,k=o;k>0;k--)m=n[k]-n[k-1],(void 0===j||j>m)&&(j=m)}),a.minRange=Math.min(5*j,a.dataMax-a.dataMin))),f-c<a.minRange&&(h=a.dataMax-a.dataMin>=a.minRange,r=a.minRange,g=(r-f+c)/2,p=[c-g,y(b.min,c-g)],h&&(p[2]=a.isLog?a.log2lin(a.dataMin):a.dataMin),c=d(p),q=[c+r,y(b.max,c+r)],h&&(q[2]=a.isLog?a.log2lin(a.dataMax):a.dataMax),f=e(q),r>f-c&&(p[0]=f-r,p[1]=y(b.min,f-r),c=d(p))),a.min=c,a.max=f},getClosest:function(){var a;return this.categories?a=1:l(this.series,function(b){var c=b.closestPointRange,d=b.visible||!b.chart.options.chart.ignoreHiddenSeries;!b.noSharedTooltip&&i(c)&&d&&(a=i(a)?Math.min(a,c):c)}),a},nameToX:function(a){var e,b=s(this.categories),c=b?this.categories:this.names,d=a.options.x;return a.series.requireSorting=!1,i(d)||(d=this.options.uniqueNames===!1?a.series.autoIncrement():r(a.name,c)),-1===d?b||(e=c.length):e=d,void 0!==e&&(this.names[e]=a.name),e},updateNames:function(){var a=this;this.names.length>0&&(this.names.length=0,this.minRange=this.userMinRange,l(this.series||[],function(b){b.xIncrement=null,(!b.points||b.isDirtyData)&&(b.processData(),b.generatePoints()),l(b.points,function(c,d){var e;c.options&&(e=a.nameToX(c),void 0!==e&&e!==c.x&&(c.x=e,b.xData[d]=e))})}))},setAxisTranslation:function(a){var e,i,b=this,c=b.max-b.min,d=b.axisPointRange||0,f=0,g=0,h=b.linkedParent,j=!!b.categories,k=b.transA,m=b.isXAxis;(m||j||d)&&(e=b.getClosest(),h?(f=h.minPointOffset,g=h.pointRangePadding):l(b.series,function(a){var c=j?1:m?y(a.options.pointRange,e,0):b.axisPointRange||0,h=a.options.pointPlacement;d=Math.max(d,c),b.single||(f=Math.max(f,u(h)?0:c/2),g=Math.max(g,"on"===h?0:c))}),i=b.ordinalSlope&&e?b.ordinalSlope/e:1,b.minPointOffset=f*=i,b.pointRangePadding=g*=i,b.pointRange=Math.min(d,c),m&&(b.closestPointRange=e)),a&&(b.oldTransA=k),b.translationSlope=b.transA=k=b.options.staticScale||b.len/(c+g||1),b.transB=b.horiz?b.left:b.bottom,b.minPixelPadding=k*f},minFromRange:function(){return this.max-this.range},setTickInterval:function(b){var r,s,v,C,D,E,F,c=this,d=c.chart,e=c.options,f=c.isLog,h=c.log2lin,j=c.isDatetimeAxis,k=c.isXAxis,m=c.isLinked,o=e.maxPadding,q=e.minPadding,u=e.tickInterval,x=e.tickPixelInterval,z=c.categories,A=c.threshold,B=c.softThreshold;j||z||m||this.getTickAmount(),E=y(c.userMin,e.min),F=y(c.userMax,e.max),m?(c.linkedParent=d[c.coll][e.linkedTo],s=c.linkedParent.getExtremes(),c.min=y(s.min,s.dataMin),c.max=y(s.max,s.dataMax),e.type!==c.linkedParent.options.type&&a.error(11,1)):(!B&&i(A)&&(c.dataMin>=A?(C=A,q=0):c.dataMax<=A&&(D=A,o=0)),c.min=y(E,C,c.dataMin),c.max=y(F,D,c.dataMax)),f&&(c.positiveValuesOnly&&!b&&Math.min(c.min,y(c.dataMin,c.min))<=0&&a.error(10,1),c.min=g(h(c.min),15),c.max=g(h(c.max),15)),c.range&&i(c.max)&&(c.userMin=c.min=E=Math.max(c.dataMin,c.minFromRange()),c.userMax=F=c.max,c.range=null),n(c,"foundExtremes"),c.beforePadding&&c.beforePadding(),c.adjustForMinRange(),z||c.axisPointRange||c.usePercentage||m||!i(c.min)||!i(c.max)||(r=c.max-c.min,r&&(!i(E)&&q&&(c.min-=r*q),!i(F)&&o&&(c.max+=r*o))),t(e.softMin)&&(c.min=Math.min(c.min,e.softMin)),t(e.softMax)&&(c.max=Math.max(c.max,e.softMax)),t(e.floor)&&(c.min=Math.max(c.min,e.floor)),t(e.ceiling)&&(c.max=Math.min(c.max,e.ceiling)),B&&i(c.dataMin)&&(A=A||0,!i(E)&&c.min<A&&c.dataMin>=A?c.min=A:!i(F)&&c.max>A&&c.dataMax<=A&&(c.max=A)),c.tickInterval=c.min===c.max||void 0===c.min||void 0===c.max?1:m&&!u&&x===c.linkedParent.options.tickPixelInterval?u=c.linkedParent.tickInterval:y(u,this.tickAmount?(c.max-c.min)/Math.max(this.tickAmount-1,1):void 0,z?1:(c.max-c.min)*x/Math.max(c.len,x)),k&&!b&&l(c.series,function(a){a.processData(c.min!==c.oldMin||c.max!==c.oldMax)}),c.setAxisTranslation(!0),c.beforeSetTickPositions&&c.beforeSetTickPositions(),c.postProcessTickInterval&&(c.tickInterval=c.postProcessTickInterval(c.tickInterval)),c.pointRange&&!u&&(c.tickInterval=Math.max(c.pointRange,c.tickInterval)),v=y(e.minTickInterval,c.isDatetimeAxis&&c.closestPointRange),!u&&c.tickInterval<v&&(c.tickInterval=v),j||f||u||(c.tickInterval=w(c.tickInterval,null,p(c.tickInterval),y(e.allowDecimals,!(c.tickInterval>.5&&c.tickInterval<5&&c.max>1e3&&c.max<9999)),!!this.tickAmount)),this.tickAmount||(c.tickInterval=c.unsquish()),this.setTickPositions()},setTickPositions:function(){var b,a=this.options,c=a.tickPositions,d=this.getMinorTickInterval(),e=a.tickPositioner,f=a.startOnTick,g=a.endOnTick;this.tickmarkOffset=this.categories&&"between"===a.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===d&&this.tickInterval?this.tickInterval/5:d,this.single=this.min===this.max&&i(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||a.allowDecimals!==!1),this.tickPositions=b=c&&c.slice(),b||(b=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,a.units),this.min,this.max,a.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),b.length>this.len&&(b=[b[0],b.pop()]),this.tickPositions=b,e&&(e=e.apply(this,[this.min,this.max]),e&&(this.tickPositions=b=e))),this.paddedTicks=b.slice(0),this.trimTicks(b,f,g),this.isLinked||(this.single&&b.length<2&&(this.min-=.5,this.max+=.5),c||e||this.adjustTickAmount())},trimTicks:function(a,b,c){var d=a[0],e=a[a.length-1],f=this.minPointOffset||0;if(!this.isLinked){if(b&&d!==-1/0)this.min=d;else for(;this.min-f>a[0];)a.shift();if(c)this.max=e;else for(;this.max+f<a[a.length-1];)a.pop();0===a.length&&i(d)&&a.push((e+d)/2)}},alignToOthers:function(){var b,a={},c=this.options;return this.chart.options.chart.alignTicks===!1||c.alignTicks===!1||this.isLog||l(this.chart[this.coll],function(c){var d=c.options,e=c.horiz,f=[e?d.left:d.top,d.width,d.height,d.pane].join(",");
c.series.length&&(a[f]?b=!0:a[f]=1)}),b},getTickAmount:function(){var a=this.options,b=a.tickAmount,c=a.tickPixelInterval;!i(a.tickInterval)&&this.len<c&&!this.isRadial&&!this.isLog&&a.startOnTick&&a.endOnTick&&(b=2),!b&&this.alignToOthers()&&(b=Math.ceil(this.len/c)+1),4>b&&(this.finalTickAmt=b,b=5),this.tickAmount=b},adjustTickAmount:function(){var f,h,a=this.tickInterval,b=this.tickPositions,c=this.tickAmount,d=this.finalTickAmt,e=b&&b.length;if(c>e){for(;b.length<c;)b.push(g(b[b.length-1]+a));this.transA*=(e-1)/(c-1),this.max=b[b.length-1]}else e>c&&(this.tickInterval*=2,this.setTickPositions());if(i(d)){for(f=h=b.length;f--;)(3===d&&1===f%2||2>=d&&f>0&&h-1>f)&&b.splice(f,1);this.finalTickAmt=void 0}},setScale:function(){var b,c,a=this;a.oldMin=a.min,a.oldMax=a.max,a.oldAxisLength=a.len,a.setAxisSize(),c=a.len!==a.oldAxisLength,l(a.series,function(a){(a.isDirtyData||a.isDirty||a.xAxis.isDirty)&&(b=!0)}),c||b||a.isLinked||a.forceRedraw||a.userMin!==a.oldUserMin||a.userMax!==a.oldUserMax||a.alignToOthers()?(a.resetStacks&&a.resetStacks(),a.forceRedraw=!1,a.getSeriesExtremes(),a.setTickInterval(),a.oldUserMin=a.userMin,a.oldUserMax=a.userMax,a.isDirty||(a.isDirty=c||a.min!==a.oldMin||a.max!==a.oldMax)):a.cleanStacks&&a.cleanStacks()},setExtremes:function(a,b,c,d,e){var f=this,g=f.chart;c=y(c,!0),l(f.series,function(a){delete a.kdTree}),e=m(e,{min:a,max:b}),n(f,"setExtremes",e,function(){f.userMin=a,f.userMax=b,f.eventArgs=e,c&&g.redraw(d)})},zoom:function(a,b){var c=this.dataMin,d=this.dataMax,e=this.options,f=Math.min(c,y(e.min,c)),g=Math.max(d,y(e.max,d));return(a!==this.min||b!==this.max)&&(this.allowZoomOutside||(i(c)&&(f>a&&(a=f),a>g&&(a=g)),i(d)&&(f>b&&(b=f),b>g&&(b=g))),this.displayBtn=void 0!==a||void 0!==b,this.setExtremes(a,b,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var b=this.chart,c=this.options,d=c.offsets||[0,0,0,0],e=this.horiz,f=this.width=Math.round(a.relativeLength(y(c.width,b.plotWidth-d[3]+d[1]),b.plotWidth)),g=this.height=Math.round(a.relativeLength(y(c.height,b.plotHeight-d[0]+d[2]),b.plotHeight)),h=this.top=Math.round(a.relativeLength(y(c.top,b.plotTop+d[0]),b.plotHeight,b.plotTop)),i=this.left=Math.round(a.relativeLength(y(c.left,b.plotLeft+d[3]),b.plotWidth,b.plotLeft));this.bottom=b.chartHeight-g-h,this.right=b.chartWidth-f-i,this.len=Math.max(e?f:g,0),this.pos=e?i:h},getExtremes:function(){var a=this,b=a.isLog,c=a.lin2log;return{min:b?g(c(a.min)):a.min,max:b?g(c(a.max)):a.max,dataMin:a.dataMin,dataMax:a.dataMax,userMin:a.userMin,userMax:a.userMax}},getThreshold:function(a){var b=this,c=b.isLog,d=b.lin2log,e=c?d(b.min):b.min,f=c?d(b.max):b.max;return null===a?a=e:e>a?a=e:a>f&&(a=f),b.translate(a,0,1,0,1)},autoLabelAlign:function(a){var b,c=(y(a,0)-90*this.side+720)%360;return b=c>15&&165>c?"right":c>195&&345>c?"left":"center"},tickSize:function(a){var b=this.options,c=b[a+"Length"],d=y(b[a+"Width"],"tick"===a&&this.isXAxis?1:0);return d&&c?("inside"===b[a+"Position"]&&(c=-c),[c,d]):void 0},labelMetrics:function(){var a=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[a]&&this.ticks[a].label)},unsquish:function(){var f,k,n,a=this.options.labels,b=this.horiz,c=this.tickInterval,d=c,e=this.len/(((this.categories?1:0)+this.max-this.min)/c),g=a.rotation,h=this.labelMetrics(),m=Number.MAX_VALUE,o=function(a){var b=a/(e||1);return b=b>1?Math.ceil(b):1,b*c};return b?(n=!a.staggerLines&&!a.step&&(i(g)?[g]:e<y(a.autoRotationLimit,80)&&a.autoRotation),n&&l(n,function(a){var b;(a===g||a&&a>=-90&&90>=a)&&(k=o(Math.abs(h.h/Math.sin(j*a))),b=k+Math.abs(a/360),m>b&&(m=b,f=a,d=k))})):a.step||(d=o(h.h)),this.autoRotation=n,this.labelRotation=y(f,g),d},getSlotWidth:function(){var a=this.chart,b=this.horiz,c=this.options.labels,d=Math.max(this.tickPositions.length-(this.categories?0:1),1),e=a.margin[3];return b&&(c.step||0)<2&&!c.rotation&&(this.staggerLines||1)*this.len/d||!b&&(c.style&&parseInt(c.style.width,10)||e&&e-a.spacing[3]||.33*a.chartWidth)},renderUnsquish:function(){var m,o,p,q,a=this.chart,b=a.renderer,c=this.tickPositions,d=this.ticks,e=this.options.labels,f=this.horiz,g=this.getSlotWidth(),h=Math.max(1,Math.round(g-2*(e.padding||5))),i={},j=this.labelMetrics(),k=e.style&&e.style.textOverflow,n=0;if(u(e.rotation)||(i.rotation=e.rotation||0),l(c,function(a){a=d[a],a&&a.labelLength>n&&(n=a.labelLength)}),this.maxLabelLength=n,this.autoRotation)n>h&&n>j.h?i.rotation=this.labelRotation:this.labelRotation=0;else if(g&&(m={width:h+"px"},!k))for(m.textOverflow="clip",p=c.length;!f&&p--;)q=c[p],o=d[q].label,o&&(o.styles&&"ellipsis"===o.styles.textOverflow?o.css({textOverflow:"clip"}):d[q].labelLength>g&&o.css({width:g+"px"}),o.getBBox().height>this.len/c.length-(j.h-j.f)&&(o.specCss={textOverflow:"ellipsis"}));i.rotation&&(m={width:(n>.5*a.chartHeight?.33*a.chartHeight:a.chartHeight)+"px"},k||(m.textOverflow="ellipsis")),this.labelAlign=e.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(i.align=this.labelAlign),l(c,function(a){var b=d[a],c=b&&b.label;c&&(c.attr(i),m&&c.css(v(m,c.specCss)),delete c.specCss,b.rotation=i.rotation)}),this.tickRotCorr=b.rotCorr(j.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||i(this.min)&&i(this.max)&&!!this.tickPositions},addTitle:function(a){var h,b=this,c=b.chart.renderer,d=b.horiz,e=b.opposite,f=b.options,g=f.title;b.axisTitle||(h=g.textAlign,h||(h=(d?{low:"left",middle:"center",high:"right"}:{low:e?"right":"left",middle:"center",high:e?"left":"right"})[g.align]),b.axisTitle=c.text(g.text,0,0,g.useHTML).attr({zIndex:7,rotation:g.rotation||0,align:h}).addClass("highcharts-axis-title").css(g.style).add(b.axisGroup),b.axisTitle.isNew=!0),g.style.width||b.isRadial||b.axisTitle.css({width:b.len}),b.axisTitle[a?"show":"hide"](!0)},generateTick:function(a){var b=this.ticks;b[a]?b[a].addLabel():b[a]=new C(this,a)},getOffset:function(){var k,m,o,t,w,C,a=this,b=a.chart,c=b.renderer,d=a.options,e=a.tickPositions,f=a.ticks,g=a.horiz,h=a.side,j=b.inverted&&!a.isZAxis?[1,0,3,2][h]:h,n=0,p=0,q=d.title,r=d.labels,s=0,u=b.axisOffset,v=b.clipOffset,z=[-1,1,1,-1][h],A=d.className,B=a.axisParent,D=this.tickSize("tick");k=a.hasData(),a.showAxis=m=k||y(d.showEmpty,!0),a.staggerLines=a.horiz&&r.staggerLines,a.axisGroup||(a.gridGroup=c.g("grid").attr({zIndex:d.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(A||"")).add(B),a.axisGroup=c.g("axis").attr({zIndex:d.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(A||"")).add(B),a.labelGroup=c.g("axis-labels").attr({zIndex:r.zIndex||7}).addClass("highcharts-"+a.coll.toLowerCase()+"-labels "+(A||"")).add(B)),k||a.isLinked?(l(e,function(b,c){a.generateTick(b,c)}),a.renderUnsquish(),r.reserveSpace===!1||0!==h&&2!==h&&{1:"left",3:"right"}[h]!==a.labelAlign&&"center"!==a.labelAlign||l(e,function(a){s=Math.max(f[a].getLabelSize(),s)}),a.staggerLines&&(s*=a.staggerLines,a.labelOffset=s*(a.opposite?-1:1))):x(f,function(a,b){a.destroy(),delete f[b]}),q&&q.text&&q.enabled!==!1&&(a.addTitle(m),m&&q.reserveSpace!==!1&&(a.titleOffset=n=a.axisTitle.getBBox()[g?"height":"width"],o=q.offset,p=i(o)?0:y(q.margin,g?5:10))),a.renderLine(),a.offset=z*y(d.offset,u[h]),a.tickRotCorr=a.tickRotCorr||{x:0,y:0},C=0===h?-a.labelMetrics().h:2===h?a.tickRotCorr.y:0,t=Math.abs(s)+p,s&&(t-=C,t+=z*(g?y(r.y,a.tickRotCorr.y+8*z):r.x)),a.axisTitleMargin=y(o,t),u[h]=Math.max(u[h],a.axisTitleMargin+n+z*a.offset,t,k&&e.length&&D?D[0]+z*a.offset:0),w=d.offset?0:2*Math.floor(a.axisLine.strokeWidth()/2),v[j]=Math.max(v[j],w)},getLinePath:function(a){var b=this.chart,c=this.opposite,d=this.offset,e=this.horiz,f=this.left+(c?this.width:0)+d,g=b.chartHeight-this.bottom-(c?this.height:0)+d;return c&&(a*=-1),b.renderer.crispLine(["M",e?this.left:f,e?g:this.top,"L",e?b.chartWidth-this.right:f,e?g:b.chartHeight-this.bottom],a)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var a=this.horiz,b=this.left,c=this.top,d=this.len,e=this.options.title,f=a?b:c,g=this.opposite,h=this.offset,i=e.x||0,j=e.y||0,k=this.axisTitle,l=this.chart.renderer.fontMetrics(e.style&&e.style.fontSize,k),m=Math.max(k.getBBox(null,0).height-l.h-1,0),n={low:f+(a?0:d),middle:f+d/2,high:f+(a?d:0)}[e.align],o=(a?c+this.height:b)+(a?1:-1)*(g?-1:1)*this.axisTitleMargin+[-m,m,l.f,-m][this.side];return{x:a?n+i:o+(g?this.width:0)+h+i,y:a?o+j-(g?this.height:0)+h:n+j}},renderMinorTick:function(a){var b=this.chart.hasRendered&&t(this.oldMin),c=this.minorTicks;c[a]||(c[a]=new C(this,a,"minor")),b&&c[a].isNew&&c[a].render(null,!0),c[a].render(null,!1,1)},renderTick:function(a,b){var c=this.isLinked,d=this.ticks,e=this.chart.hasRendered&&t(this.oldMin);(!c||a>=this.min&&a<=this.max)&&(d[a]||(d[a]=new C(this,a)),e&&d[a].isNew&&d[a].render(b,!0,.1),d[a].render(b))},render:function(){var w,y,z,b=this,d=b.chart,e=d.renderer,f=b.options,g=b.isLog,h=b.lin2log,i=b.isLinked,j=b.tickPositions,k=b.axisTitle,m=b.ticks,n=b.minorTicks,o=b.alternateBands,p=f.stackLabels,q=f.alternateGridColor,r=b.tickmarkOffset,s=b.axisLine,u=b.showAxis,v=c(e.globalAnimation);b.labelEdge.length=0,b.overlap=!1,l([m,n,o],function(a){x(a,function(a){a.isActive=!1})}),(b.hasData()||i)&&(b.minorTickInterval&&!b.categories&&l(b.getMinorTickPositions(),function(a){b.renderMinorTick(a)}),j.length&&(l(j,function(a,c){b.renderTick(a,c)}),r&&(0===b.min||b.single)&&(m[-1]||(m[-1]=new C(b,-1,null,!0)),m[-1].render(-1))),q&&l(j,function(c,e){y=void 0!==j[e+1]?j[e+1]+r:b.max-r,0===e%2&&c<b.max&&y<=b.max+(d.polar?-r:r)&&(o[c]||(o[c]=new a.PlotLineOrBand(b)),w=c+r,o[c].options={from:g?h(w):w,to:g?h(y):y,color:q},o[c].render(),o[c].isActive=!0)}),b._addedPlotLB||(l((f.plotLines||[]).concat(f.plotBands||[]),function(a){b.addPlotBandOrLine(a)}),b._addedPlotLB=!0)),l([m,n,o],function(a){var b,c=[],e=v.duration,f=function(){for(b=c.length;b--;)a[c[b]]&&!a[c[b]].isActive&&(a[c[b]].destroy(),delete a[c[b]])};x(a,function(a,b){a.isActive||(a.render(b,!1,0),a.isActive=!1,c.push(b))}),B(f,a!==o&&d.hasRendered&&e?e:0)}),s&&(s[s.isPlaced?"animate":"attr"]({d:this.getLinePath(s.strokeWidth())}),s.isPlaced=!0,s[u?"show":"hide"](!0)),k&&u&&(z=b.getTitlePosition(),t(z.y)?(k[k.isNew?"attr":"animate"](z),k.isNew=!1):(k.attr("y",-9999),k.isNew=!0)),p&&p.enabled&&b.renderStackTotals(),b.isDirty=!1},redraw:function(){this.visible&&(this.render(),l(this.plotLinesAndBands,function(a){a.render()})),l(this.series,function(a){a.isDirty=!0})},keepProps:["extKey","hcEvents","names","series","userMax","userMin"],destroy:function(a){var e,f,b=this,c=b.stacks,d=b.plotLinesAndBands;if(a||z(b),x(c,function(a,b){k(a),c[b]=null}),l([b.ticks,b.minorTicks,b.alternateBands],function(a){k(a)}),d)for(f=d.length;f--;)d[f].destroy();l(["stackTotalGroup","axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross"],function(a){b[a]&&(b[a]=b[a].destroy())});for(e in b.plotLinesAndBandsGroups)b.plotLinesAndBandsGroups[e]=b.plotLinesAndBandsGroups[e].destroy();x(b,function(a,c){-1===r(c,b.keepProps)&&delete b[c]})},drawCrosshair:function(a,b){var c,g,h,d=this.crosshair,e=y(d.snap,!0),j=this.cross;if(a||(a=this.cross&&this.cross.e),this.crosshair&&(i(b)||!e)!==!1){if(e?i(b)&&(g=this.isXAxis?b.plotX:this.len-b.plotY):g=a&&(this.horiz?a.chartX-this.pos:this.len-a.chartY+this.pos),i(g)&&(c=this.getPlotLinePath(b&&(this.isXAxis?b.x:y(b.stackY,b.y)),null,null,null,g)||null),!i(c))return this.hideCrosshair(),void 0;h=this.categories&&!this.isRadial,j||(this.cross=j=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(h?"category ":"thin ")+d.className).attr({zIndex:y(d.zIndex,2)}).add(),j.attr({stroke:d.color||(h?f("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":y(d.width,1)}).css({"pointer-events":"none"}),d.dashStyle&&j.attr({dashstyle:d.dashStyle})),j.show().attr({d:c}),h&&!d.width&&j.attr({"stroke-width":this.transA}),this.cross.e=a}else this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}}),a.Axis=D,D}(b),function(a){var b=a.Axis,c=a.Date,d=a.dateFormat,e=a.defaultOptions,f=a.defined,g=a.each,h=a.extend,i=a.getMagnitude,j=a.getTZOffset,k=a.normalizeTickInterval,l=a.pick,m=a.timeUnits;b.prototype.getTimeTicks=function(a,b,i,k){var o,r,w,x,y,z,A,B,n=[],p={},q=e.global.useUTC,s=new c(b-Math.max(j(b),j(i))),t=c.hcMakeTime,u=a.unitRange,v=a.count;if(f(b)){for(s[c.hcSetMilliseconds](u>=m.second?0:v*Math.floor(s.getMilliseconds()/v)),u>=m.second&&s[c.hcSetSeconds](u>=m.minute?0:v*Math.floor(s.getSeconds()/v)),u>=m.minute&&s[c.hcSetMinutes](u>=m.hour?0:v*Math.floor(s[c.hcGetMinutes]()/v)),u>=m.hour&&s[c.hcSetHours](u>=m.day?0:v*Math.floor(s[c.hcGetHours]()/v)),u>=m.day&&s[c.hcSetDate](u>=m.month?1:v*Math.floor(s[c.hcGetDate]()/v)),u>=m.month&&(s[c.hcSetMonth](u>=m.year?0:v*Math.floor(s[c.hcGetMonth]()/v)),r=s[c.hcGetFullYear]()),u>=m.year&&(r-=r%v,s[c.hcSetFullYear](r)),u===m.week&&s[c.hcSetDate](s[c.hcGetDate]()-s[c.hcGetDay]()+l(k,1)),r=s[c.hcGetFullYear](),y=s[c.hcGetMonth](),z=s[c.hcGetDate](),A=s[c.hcGetHours](),(c.hcTimezoneOffset||c.hcGetTimezoneOffset)&&(x=(!q||!!c.hcGetTimezoneOffset)&&(i-b>4*m.month||j(b)!==j(i)),s=s.getTime(),w=j(s),s=new c(s+w)),B=s.getTime(),o=1;i>B;)n.push(B),u===m.year?B=t(r+o*v,0):u===m.month?B=t(r,y+o*v):!x||u!==m.day&&u!==m.week?x&&u===m.hour?B=t(r,y,z,A+o*v,0,0,w)-w:B+=u*v:B=t(r,y,z+o*v*(u===m.day?1:7)),o++;n.push(B),u<=m.hour&&n.length<1e4&&g(n,function(a){0===a%18e5&&"000000000"===d("%H%M%S%L",a)&&(p[a]="day")})}return n.info=h(a,{higherRanks:p,totalRange:u*v}),n},b.prototype.normalizeTimeTickInterval=function(a,b){var g,h,j,c=b||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],d=c[c.length-1],e=m[d[0]],f=d[1];for(h=0;h<c.length&&(d=c[h],e=m[d[0]],f=d[1],!(c[h+1]&&(j=(e*f[f.length-1]+m[c[h+1][0]])/2,j>=a)));h++);return e===m.year&&5*e>a&&(f=[1,2,5]),g=k(a/e,f,"year"===d[0]?Math.max(i(a/e),1):1),{unitRange:e,count:g,unitName:d[0]}}}(b),function(a){var b=a.Axis,c=a.getMagnitude,d=a.map,e=a.normalizeTickInterval,f=a.pick;b.prototype.getLogTickPositions=function(a,b,g,h){var p,q,r,s,t,u,v,o,w,x,y,z,A,B,i=this,j=i.options,k=i.len,l=i.lin2log,m=i.log2lin,n=[];if(h||(i._minorAutoInterval=null),a>=.5)a=Math.round(a),n=i.getLinearTickPositions(a,b,g);else if(a>=.08)for(o=Math.floor(b),p=a>.3?[1,2,4]:a>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],q=o;g+1>q&&!v;q++)for(s=p.length,r=0;s>r&&!v;r++)t=m(l(q)*p[r]),t>b&&(!h||g>=u)&&void 0!==u&&n.push(u),u>g&&(v=!0),u=t;else w=l(b),x=l(g),y=h?this.getMinorTickInterval():j.tickInterval,z="auto"===y?null:y,A=j.tickPixelInterval/(h?5:1),B=h?k/i.tickPositions.length:k,a=f(z,i._minorAutoInterval,(x-w)*A/(B||1)),a=e(a,null,c(a)),n=d(i.getLinearTickPositions(a,w,x),m),h||(i._minorAutoInterval=a/5);return h||(i.tickInterval=a),n},b.prototype.log2lin=function(a){return Math.log(a)/Math.LN10},b.prototype.lin2log=function(a){return Math.pow(10,a)}}(b),function(a,b){var c=a.arrayMax,d=a.arrayMin,e=a.defined,f=a.destroyObjectProperties,g=a.each,h=a.erase,i=a.merge,j=a.pick;a.PlotLineOrBand=function(a,b){this.axis=a,b&&(this.options=b,this.id=b.id)},a.PlotLineOrBand.prototype={render:function(){var z,b=this,c=b.axis,d=c.horiz,f=b.options,g=f.label,h=b.label,k=f.to,l=f.from,m=f.value,n=e(l)&&e(k),o=e(m),p=b.svgElem,q=!p,r=[],s=f.color,t=j(f.zIndex,0),u=f.events,v={"class":"highcharts-plot-"+(n?"band ":"line ")+(f.className||"")},w={},x=c.chart.renderer,y=n?"bands":"lines",A=c.log2lin;if(c.isLog&&(l=A(l),k=A(k),m=A(m)),o?(v={stroke:s,"stroke-width":f.width},f.dashStyle&&(v.dashstyle=f.dashStyle)):n&&(s&&(v.fill=s),f.borderWidth&&(v.stroke=f.borderColor,v["stroke-width"]=f.borderWidth)),w.zIndex=t,y+="-"+t,z=c.plotLinesAndBandsGroups[y],z||(c.plotLinesAndBandsGroups[y]=z=x.g("plot-"+y).attr(w).add()),q&&(b.svgElem=p=x.path().attr(v).add(z)),o)r=c.getPlotLinePath(m,p.strokeWidth());else{if(!n)return;r=c.getPlotBandPath(l,k,f)}return q&&r&&r.length?(p.attr({d:r}),u&&a.objectEach(u,function(a,c){p.on(c,function(a){u[c].apply(b,[a])})})):p&&(r?(p.show(),p.animate({d:r})):(p.hide(),h&&(b.label=h=h.destroy()))),g&&e(g.text)&&r&&r.length&&c.width>0&&c.height>0&&!r.flat?(g=i({align:d&&n&&"center",x:d?!n&&4:10,verticalAlign:!d&&n&&"middle",y:d?n?16:10:n?6:-4,rotation:d&&!n&&90},g),this.renderLabel(g,r,n,t)):h&&h.hide(),b},renderLabel:function(a,b,e,f){var j,k,l,m,n,g=this,h=g.label,i=g.axis.chart.renderer;h||(j={align:a.textAlign||a.align,rotation:a.rotation,"class":"highcharts-plot-"+(e?"band":"line")+"-label "+(a.className||"")},j.zIndex=f,g.label=h=i.text(a.text,0,0,a.useHTML).attr(j).add(),h.css(a.style)),k=b.xBounds||[b[1],b[4],e?b[6]:b[1]],l=b.yBounds||[b[2],b[5],e?b[7]:b[2]],m=d(k),n=d(l),h.align(a,!1,{x:m,y:n,width:c(k)-m,height:c(l)-n}),h.show()},destroy:function(){h(this.axis.plotLinesAndBands,this),delete this.axis,f(this)}},a.extend(b.prototype,{getPlotBandPath:function(a,b){var c=this.getPlotLinePath(b,null,null,!0),d=this.getPlotLinePath(a,null,null,!0),e=this.horiz,f=1,g=a<this.min&&b<this.min||a>this.max&&b>this.max;return d&&c?(g&&(d.flat=d.toString()===c.toString(),f=0),d.push(e&&c[4]===d[4]?c[4]+f:c[4],e||c[5]!==d[5]?c[5]:c[5]+f,e&&c[1]===d[1]?c[1]+f:c[1],e||c[2]!==d[2]?c[2]:c[2]+f,"z")):d=null,d},addPlotBand:function(a){return this.addPlotBandOrLine(a,"plotBands")},addPlotLine:function(a){return this.addPlotBandOrLine(a,"plotLines")},addPlotBandOrLine:function(b,c){var d=new a.PlotLineOrBand(this,b).render(),e=this.userOptions;return d&&(c&&(e[c]=e[c]||[],e[c].push(b)),this.plotLinesAndBands.push(d)),d},removePlotBandOrLine:function(a){for(var b=this.plotLinesAndBands,c=this.options,d=this.userOptions,e=b.length;e--;)b[e].id===a&&b[e].destroy();g([c.plotLines||[],d.plotLines||[],c.plotBands||[],d.plotBands||[]],function(b){for(e=b.length;e--;)b[e].id===a&&h(b,b[e])})},removePlotBand:function(a){this.removePlotBandOrLine(a)},removePlotLine:function(a){this.removePlotBandOrLine(a)}})}(b,c),function(a){var b=a.dateFormat,c=a.each,d=a.extend,e=a.format,f=a.isNumber,g=a.map,h=a.merge,i=a.pick,j=a.splat,k=a.syncTimeout,l=a.timeUnits;a.Tooltip=function(){this.init.apply(this,arguments)},a.Tooltip.prototype={init:function(a,b){this.chart=a,this.options=b,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=b.split&&!a.inverted,this.shared=b.shared||this.split},cleanSplit:function(a){c(this.chart.series,function(b){var c=b&&b.tt;c&&(!c.isActive||a?b.tt=c.destroy():c.isActive=!1)})},getLabel:function(){var a=this.chart.renderer,b=this.options;return this.label||(this.split?this.label=a.g("tooltip"):(this.label=a.label("",0,0,b.shape||"callout",null,null,b.useHTML,null,"tooltip").attr({padding:b.padding,r:b.borderRadius}),this.label.attr({fill:b.backgroundColor,"stroke-width":b.borderWidth}).css(b.style).shadow(b.shadow)),this.label.attr({zIndex:8}).add()),this.label},update:function(a){this.destroy(),h(!0,this.chart.options.tooltip.userOptions,a),this.init(this.chart,h(!0,this.options,a))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(a,b,c,e){var f=this,g=f.now,h=f.options.animation!==!1&&!f.isHidden&&(Math.abs(a-g.x)>1||Math.abs(b-g.y)>1),i=f.followPointer||f.len>1;d(g,{x:h?(2*g.x+a)/3:a,y:h?(g.y+b)/2:b,anchorX:i?void 0:h?(2*g.anchorX+c)/3:c,anchorY:i?void 0:h?(g.anchorY+e)/2:e}),f.getLabel().attr(g),h&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){f&&f.move(a,b,c,e)},32))},hide:function(a){var b=this;clearTimeout(this.hideTimer),a=i(a,this.options.hideDelay,500),this.isHidden||(this.hideTimer=k(function(){b.getLabel()[a?"fadeOut":"hide"](),b.isHidden=!0},a))},getAnchor:function(a,b){var d,m,n,e=this.chart,f=e.inverted,h=e.plotTop,i=e.plotLeft,k=0,l=0;return a=j(a),d=a[0].tooltipPos,this.followPointer&&b&&(void 0===b.chartX&&(b=e.pointer.normalize(b)),d=[b.chartX-e.plotLeft,b.chartY-h]),d||(c(a,function(a){m=a.series.yAxis,n=a.series.xAxis,k+=a.plotX+(!f&&n?n.left-i:0),l+=(a.plotLow?(a.plotLow+a.plotHigh)/2:a.plotY)+(!f&&m?m.top-h:0)}),k/=a.length,l/=a.length,d=[f?e.plotWidth-l:k,this.shared&&!f&&a.length>1&&b?b.chartY-h:f?e.plotHeight-k:l]),g(d,Math.round)},getPosition:function(a,b,c){var h,d=this.chart,e=this.distance,f={},g=c.h||0,j=["y",d.chartHeight,b,c.plotY+d.plotTop,d.plotTop,d.plotTop+d.plotHeight],k=["x",d.chartWidth,a,c.plotX+d.plotLeft,d.plotLeft,d.plotLeft+d.plotWidth],l=!this.followPointer&&i(c.ttBelow,!d.inverted==!!c.negative),m=function(a,b,c,d,h,i){var j=d-e>c,k=b>d+e+c,m=d-e-c,n=d+e;if(l&&k)f[a]=n;else if(!l&&j)f[a]=m;else if(j)f[a]=Math.min(i-c,0>m-g?m:m-g);else{if(!k)return!1;f[a]=Math.max(h,n+g+c>b?n:n+g)}},n=function(a,b,c,d){var g;return e>d||d>b-e?g=!1:f[a]=c/2>d?1:d>b-c/2?b-c-2:d-c/2,g},o=function(a){var b=j;j=k,k=b,h=a},p=function(){m.apply(0,j)!==!1?n.apply(0,k)!==!1||h||(o(!0),p()):h?f.x=f.y=0:(o(!0),p())};return(d.inverted||this.len>1)&&o(),p(),f},defaultFormatter:function(a){var c,b=this.points||j(this);return c=[a.tooltipFooterHeaderFormatter(b[0])],c=c.concat(a.bodyFormatter(b)),c.push(a.tooltipFooterHeaderFormatter(b[0],!0)),c},refresh:function(a,b){var e,g,h,l,n,r,d=this,f=d.options,k=a,m={},o=[],p=f.formatter||d.defaultFormatter,q=d.shared;f.enabled&&(clearTimeout(this.hideTimer),d.followPointer=j(k)[0].series.tooltipOptions.followPointer,l=d.getAnchor(k,b),g=l[0],h=l[1],!q||k.series&&k.series.noSharedTooltip?m=k.getLabelConfig():(c(k,function(a){a.setState("hover"),o.push(a.getLabelConfig())}),m={x:k[0].category,y:k[0].y},m.points=o,k=k[0]),this.len=o.length,n=p.call(m,d),r=k.series,this.distance=i(r.tooltipOptions.distance,16),n===!1?this.hide():(e=d.getLabel(),d.isHidden&&e.attr({opacity:1}).show(),d.split?this.renderSplit(n,a):(f.style.width||e.css({width:this.chart.spacingBox.width}),e.attr({text:n&&n.join?n.join(""):n}),e.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+i(k.colorIndex,r.colorIndex)),e.attr({stroke:f.borderColor||k.color||r.color||"#666666"}),d.updatePosition({plotX:g,plotY:h,negative:k.negative,ttBelow:k.ttBelow,h:l[2]||0})),this.isHidden=!1))},renderSplit:function(b,d){var e=this,f=[],g=this.chart,h=g.renderer,j=!0,k=this.options,l=0,m=this.getLabel();a.isString(b)&&(b=[!1,b]),c(b.slice(0,d.length+1),function(a,b){if(a!==!1){var r,s,t,u,c=d[b-1]||{isHeader:!0,plotX:d[0].plotX},n=c.series||e,o=n.tt,p=c.series||{},q="highcharts-color-"+i(c.colorIndex,p.colorIndex,"none");o||(n.tt=o=h.label(null,null,null,"callout").addClass("highcharts-tooltip-box "+q).attr({padding:k.padding,r:k.borderRadius,fill:k.backgroundColor,stroke:k.borderColor||c.color||p.color||"#333333","stroke-width":k.borderWidth}).add(m)),o.isActive=!0,o.attr({text:a}),o.css(k.style).shadow(k.shadow),t=o.getBBox(),u=t.width+o.strokeWidth(),c.isHeader?(l=t.height,s=Math.max(0,Math.min(c.plotX+g.plotLeft-u/2,g.chartWidth-u))):s=c.plotX+g.plotLeft-i(k.distance,16)-u,0>s&&(j=!1),r=(c.series&&c.series.yAxis&&c.series.yAxis.pos)+(c.plotY||0),r-=g.plotTop,f.push({target:c.isHeader?g.plotHeight+l:r,rank:c.isHeader?1:0,size:n.tt.getBBox().height+1,point:c,x:s,tt:o})}}),this.cleanSplit(),a.distribute(f,g.plotHeight+l),c(f,function(a){var b=a.point,c=b.series;a.tt.attr({visibility:void 0===a.pos?"hidden":"inherit",x:j||b.isHeader?a.x:b.plotX+g.plotLeft+i(k.distance,16),y:a.pos+g.plotTop,anchorX:b.isHeader?b.plotX+g.plotLeft:b.plotX+c.xAxis.pos,anchorY:b.isHeader?a.pos+g.plotTop-15:b.plotY+c.yAxis.pos})})},updatePosition:function(a){var b=this.chart,c=this.getLabel(),d=(this.options.positioner||this.getPosition).call(this,c.width,c.height,a);this.move(Math.round(d.x),Math.round(d.y||0),a.plotX+b.plotLeft,a.plotY+b.plotTop)},getDateFormat:function(a,c,d,e){var g,h,f=b("%m-%d %H:%M:%S.%L",c),i="01-01 00:00:00.000",j={millisecond:15,second:12,minute:9,hour:6,day:3},k="millisecond";for(h in l){if(a===l.week&&+b("%w",c)===d&&f.substr(6)===i.substr(6)){h="week";break}if(l[h]>a){h=k;break}if(j[h]&&f.substr(j[h])!==i.substr(j[h]))break;"week"!==h&&(k=h)}return h&&(g=e[h]),g},getXDateFormat:function(a,b,c){var d,e=b.dateTimeLabelFormats,f=c&&c.closestPointRange;return d=f?this.getDateFormat(f,a.x,c.options.startOfWeek,e):e.day,d||e.year},tooltipFooterHeaderFormatter:function(a,b){var d=b?"footer":"header",g=a.series,h=g.tooltipOptions,i=h.xDateFormat,j=g.xAxis,k=j&&"datetime"===j.options.type&&f(a.key),l=h[d+"Format"];return k&&!i&&(i=this.getXDateFormat(a,h,j)),k&&i&&c(a.point&&a.point.tooltipDateKeys||["key"],function(a){l=l.replace("{point."+a+"}","{point."+a+":"+i+"}")}),e(l,{point:a,series:g})},bodyFormatter:function(a){return g(a,function(a){var b=a.series.tooltipOptions;return(b.pointFormatter||a.point.tooltipFormatter).call(a.point,b[(a.point.formatPrefix||"point")+"Format"])})}}}(b),function(a){var b=a,c=b.addEvent,d=b.attr,e=b.charts,f=b.color,g=b.css,h=b.defined,i=b.each,j=b.extend,k=b.find,l=b.fireEvent,m=b.isObject,n=b.offset,o=b.pick,p=b.removeEvent,q=b.splat,r=b.Tooltip;a.Pointer=function(a,b){this.init(a,b)},a.Pointer.prototype={init:function(a,b){this.options=b,this.chart=a,this.runChartClick=b.chart.events&&!!b.chart.events.click,this.pinchDown=[],this.lastValidTouch={},r&&(a.tooltip=new r(a,b.tooltip),this.followTouchMove=o(b.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(a){var f,g,b=this.chart,c=b.options.chart,d=c.zoomType||"",e=b.inverted;/touch/.test(a.type)&&(d=o(c.pinchType,d)),this.zoomX=f=/x/.test(d),this.zoomY=g=/y/.test(d),this.zoomHor=f&&!e||g&&e,this.zoomVert=g&&!e||f&&e,this.hasZoom=f||g},normalize:function(a,b){var d,e,f,c=a.touches?a.touches.length?a.touches.item(0):a.changedTouches[0]:a;return b||(this.chartPosition=b=n(this.chart.container)),d=this.chart.container,e=$("#"+d.id).parent().parent().attr("id"),f=window[e+"_scale"],j(a,{chartX:Math.round(c.pageX/f-b.left/f),chartY:Math.round(c.pageY/f-b.top/f)})},getCoordinates:function(a){var b={xAxis:[],yAxis:[]};return i(this.chart.axes,function(c){b[c.isXAxis?"xAxis":"yAxis"].push({axis:c,value:c.toValue(a[c.horiz?"chartX":"chartY"])})}),b},findNearestKDPoint:function(a,b,c){var d,e=function(a,c){var g,d=a.distX-c.distX,e=a.dist-c.dist,f=(c.series.group&&c.series.group.zIndex)-(a.series.group&&a.series.group.zIndex);return g=0!==d&&b?d:0!==e?e:0!==f?f:a.series.index>c.series.index?-1:1};return i(a,function(a){var f=a.noSharedTooltip&&b,g=!f&&a.options.findNearestPointBy.indexOf("y")<0,h=a.searchPoint(c,g);m(h,!0)&&(!m(d,!0)||e(d,h)>0)&&(d=h)}),d},getPointFromEvent:function(a){for(var c,b=a.target;b&&!c;)c=b.point,b=b.parentNode;return c},getChartCoordinatesFromPoint:function(a,b){var c=a.series,d=c.xAxis,e=c.yAxis;return d&&e?b?{chartX:d.len+d.pos-a.clientX,chartY:e.len+e.pos-a.plotY}:{chartX:a.clientX+d.pos,chartY:a.plotY+e.pos}:void 0},getHoverData:function(a,c,d,e,f,g,h){var j,l=[],n=c,p=h&&h.isBoosting,q=!(!e||!a),r=n&&!n.stickyTracking,s=function(a){return a.visible&&!(!f&&a.directTouch)&&o(a.options.enableMouseTracking,!0)},t=r?[n]:b.grep(d,function(a){return s(a)&&a.stickyTracking});return j=q?a:this.findNearestKDPoint(t,f,g),n=j&&j.series,j&&(f&&!n.noSharedTooltip?(t=b.grep(d,function(a){return s(a)&&!a.noSharedTooltip}),i(t,function(a){var b=k(a.points,function(a){return a.x===j.x&&!a.isNull});m(b)&&(p&&(b=a.getPoint(b)),l.push(b))})):l.push(j)),{hoverPoint:j,hoverSeries:n,hoverPoints:l}},runPointActions:function(a,d){var q,r,s,t,f=this,g=f.chart,h=g.series,j=g.tooltip&&g.tooltip.options.enabled?g.tooltip:void 0,k=j?j.shared:!1,l=d||g.hoverPoint,m=l&&l.series||g.hoverSeries,n=!!d||m&&m.directTouch&&f.isDirectTouch,p=this.getHoverData(l,m,h,n,k,a,{isBoosting:g.isBoosting});if(l=p.hoverPoint,t=p.hoverPoints,m=p.hoverSeries,r=m&&m.tooltipOptions.followPointer,q=k&&m&&!m.noSharedTooltip,l&&(l!==g.hoverPoint||j&&j.isHidden)){if(i(g.hoverPoints||[],function(a){-1===b.inArray(a,t)&&a.setState()}),i(t||[],function(a){a.setState("hover")}),g.hoverSeries!==m&&m.onMouseOver(),g.hoverPoint&&g.hoverPoint.firePointEvent("mouseOut"),!l.series)return;l.firePointEvent("mouseOver"),g.hoverPoints=t,g.hoverPoint=l,j&&j.refresh(q?t:l,a)}else r&&j&&!j.isHidden&&(s=j.getAnchor([{}],a),j.updatePosition({plotX:s[0],plotY:s[1]}));f.unDocMouseMove||(f.unDocMouseMove=c(g.container.ownerDocument,"mousemove",function(a){var c=e[b.hoverChartIndex];c&&c.pointer.onDocumentMouseMove(a)})),i(g.axes,function(c){var d=o(c.crosshair.snap,!0),e=d?b.find(t,function(a){return a.series[c.coll]===c}):void 0;e||!d?c.drawCrosshair(a,e):c.hideCrosshair()})},reset:function(a,b){var c=this,d=c.chart,e=d.hoverSeries,f=d.hoverPoint,g=d.hoverPoints,h=d.tooltip,j=h&&h.shared?g:f;a&&j&&i(q(j),function(b){b.series.isCartesian&&void 0===b.plotX&&(a=!1)}),a?h&&j&&(h.refresh(j),f&&(f.setState(f.state,!0),i(d.axes,function(a){a.crosshair&&a.drawCrosshair(null,f)}))):(f&&f.onMouseOut(),g&&i(g,function(a){a.setState()}),e&&e.onMouseOut(),h&&h.hide(b),c.unDocMouseMove&&(c.unDocMouseMove=c.unDocMouseMove()),i(d.axes,function(a){a.hideCrosshair()}),c.hoverX=d.hoverPoints=d.hoverPoint=null)},scaleGroups:function(a,b){var d,c=this.chart;i(c.series,function(e){d=a||e.getPlotBox(),e.xAxis&&e.xAxis.zoomEnabled&&e.group&&(e.group.attr(d),e.markerGroup&&(e.markerGroup.attr(d),e.markerGroup.clip(b?c.clipRect:null)),e.dataLabelsGroup&&e.dataLabelsGroup.attr(d))}),c.clipRect.attr(b||c.clipBox)},dragStart:function(a){var b=this.chart;b.mouseIsDown=a.type,b.cancelClick=!1,b.mouseDownX=this.mouseDownX=a.chartX,b.mouseDownY=this.mouseDownY=a.chartY},drag:function(a){var m,n,b=this.chart,c=b.options.chart,d=a.chartX,e=a.chartY,g=this.zoomHor,h=this.zoomVert,i=b.plotLeft,j=b.plotTop,k=b.plotWidth,l=b.plotHeight,o=this.selectionMarker,p=this.mouseDownX,q=this.mouseDownY,r=c.panKey&&a[c.panKey+"Key"];o&&o.touch||(i>d?d=i:d>i+k&&(d=i+k),j>e?e=j:e>j+l&&(e=j+l),this.hasDragged=Math.sqrt(Math.pow(p-d,2)+Math.pow(q-e,2)),this.hasDragged>10&&(m=b.isInsidePlot(p-i,q-j),b.hasCartesianSeries&&(this.zoomX||this.zoomY)&&m&&!r&&(o||(this.selectionMarker=o=b.renderer.rect(i,j,g?1:k,h?1:l,0).attr({fill:c.selectionMarkerFill||f("#335cad").setOpacity(.25).get(),"class":"highcharts-selection-marker",zIndex:7}).add())),o&&g&&(n=d-p,o.attr({width:Math.abs(n),x:(n>0?0:n)+p})),o&&h&&(n=e-q,o.attr({height:Math.abs(n),y:(n>0?0:n)+q})),m&&!o&&c.panning&&b.pan(a,c.panning)))},drop:function(a){var p,e,f,k,m,n,o,b=this,c=this.chart,d=this.hasPinched;this.selectionMarker&&(e={originalEvent:a,xAxis:[],yAxis:[]},f=this.selectionMarker,k=f.attr?f.attr("x"):f.x,m=f.attr?f.attr("y"):f.y,n=f.attr?f.attr("width"):f.width,o=f.attr?f.attr("height"):f.height,(this.hasDragged||d)&&(i(c.axes,function(c){if(c.zoomEnabled&&h(c.min)&&(d||b[{xAxis:"zoomX",yAxis:"zoomY"}[c.coll]])){var f=c.horiz,g="touchend"===a.type?c.minPixelPadding:0,i=c.toValue((f?k:m)+g),j=c.toValue((f?k+n:m+o)-g);e[c.coll].push({axis:c,min:Math.min(i,j),max:Math.max(i,j)}),p=!0}}),p&&l(c,"selection",e,function(a){c.zoom(j(a,d?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),d&&this.scaleGroups()),c&&(g(c.container,{cursor:c._cursor}),c.cancelClick=this.hasDragged>10,c.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(a){a=this.normalize(a),this.zoomOption(a),a.preventDefault&&a.preventDefault(),this.dragStart(a)},onDocumentMouseUp:function(a){e[b.hoverChartIndex]&&e[b.hoverChartIndex].pointer.drop(a)},onDocumentMouseMove:function(a){var b=this.chart,c=this.chartPosition;a=this.normalize(a,c),!c||this.inClass(a.target,"highcharts-tracker")||b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)||this.reset()},onContainerMouseLeave:function(a){var c=e[b.hoverChartIndex];c&&(a.relatedTarget||a.toElement)&&(c.pointer.reset(),c.pointer.chartPosition=null)
},onContainerMouseMove:function(a){var c=this.chart;h(b.hoverChartIndex)&&e[b.hoverChartIndex]&&e[b.hoverChartIndex].mouseIsDown||(b.hoverChartIndex=c.index),a=this.normalize(a),a.returnValue=!1,"mousedown"===c.mouseIsDown&&this.drag(a),!this.inClass(a.target,"highcharts-tracker")&&!c.isInsidePlot(a.chartX-c.plotLeft,a.chartY-c.plotTop)||c.openMenu||this.runPointActions(a)},inClass:function(a,b){for(var c;a;){if(c=d(a,"class")){if(-1!==c.indexOf(b))return!0;if(-1!==c.indexOf("highcharts-container"))return!1}a=a.parentNode}},onTrackerMouseOut:function(a){var b=this.chart.hoverSeries,c=a.relatedTarget||a.toElement;this.isDirectTouch=!1,!b||!c||b.stickyTracking||this.inClass(c,"highcharts-tooltip")||this.inClass(c,"highcharts-series-"+b.index)&&this.inClass(c,"highcharts-tracker")||b.onMouseOut()},onContainerClick:function(a){var b=this.chart,c=b.hoverPoint,d=b.plotLeft,e=b.plotTop;a=this.normalize(a),b.cancelClick||(c&&this.inClass(a.target,"highcharts-tracker")?(l(c.series,"click",j(a,{point:c})),b.hoverPoint&&c.firePointEvent("click",a)):(j(a,this.getCoordinates(a)),b.isInsidePlot(a.chartX-d,a.chartY-e)&&l(b,"click",a)))},setDOMEvents:function(){var a=this,d=a.chart.container,e=d.ownerDocument;d.onmousedown=function(b){a.onContainerMouseDown(b)},d.onmousemove=function(b){a.onContainerMouseMove(b)},d.onclick=function(b){a.onContainerClick(b)},c(d,"mouseleave",a.onContainerMouseLeave),1===b.chartCount&&c(e,"mouseup",a.onDocumentMouseUp),b.hasTouch&&(d.ontouchstart=function(b){a.onContainerTouchStart(b)},d.ontouchmove=function(b){a.onContainerTouchMove(b)},1===b.chartCount&&c(e,"touchend",a.onDocumentTouchEnd))},destroy:function(){var a=this,c=this.chart.container.ownerDocument;a.unDocMouseMove&&a.unDocMouseMove(),p(a.chart.container,"mouseleave",a.onContainerMouseLeave),b.chartCount||(p(c,"mouseup",a.onDocumentMouseUp),b.hasTouch&&p(c,"touchend",a.onDocumentTouchEnd)),clearInterval(a.tooltipTimeout),b.objectEach(a,function(b,c){a[c]=null})}}}(b),function(a){var b=a.charts,c=a.each,d=a.extend,e=a.map,f=a.noop,g=a.pick,h=a.Pointer;d(h.prototype,{pinchTranslate:function(a,b,c,d,e,f){this.zoomHor&&this.pinchTranslateDirection(!0,a,b,c,d,e,f),this.zoomVert&&this.pinchTranslateDirection(!1,a,b,c,d,e,f)},pinchTranslateDirection:function(a,b,c,d,e,f,g,h){var o,p,q,z,A,B,i=this.chart,j=a?"x":"y",k=a?"X":"Y",l="chart"+k,m=a?"width":"height",n=i["plot"+(a?"Left":"Top")],r=h||1,s=i.inverted,t=i.bounds[a?"h":"v"],u=1===b.length,v=b[0][l],w=c[0][l],x=!u&&b[1][l],y=!u&&c[1][l],C=function(){!u&&Math.abs(v-x)>20&&(r=h||Math.abs(w-y)/Math.abs(v-x)),q=(n-w)/r+v,o=i["plot"+(a?"Width":"Height")]/r};C(),p=q,p<t.min?(p=t.min,z=!0):p+o>t.max&&(p=t.max-o,z=!0),z?(w-=.8*(w-g[j][0]),u||(y-=.8*(y-g[j][1])),C()):g[j]=[w,y],s||(f[j]=q-n,f[m]=o),B=s?a?"scaleY":"scaleX":"scale"+k,A=s?1/r:r,e[m]=o,e[j]=p,d[B]=r,d["translate"+k]=A*n+(w-A*v)},pinch:function(a){var b=this,h=b.chart,i=b.pinchDown,j=a.touches,k=j.length,l=b.lastValidTouch,m=b.hasZoom,n=b.selectionMarker,o={},p=1===k&&(b.inClass(a.target,"highcharts-tracker")&&h.runTrackerClick||b.runChartClick),q={};k>1&&(b.initiated=!0),m&&b.initiated&&!p&&a.preventDefault(),e(j,function(a){return b.normalize(a)}),"touchstart"===a.type?(c(j,function(a,b){i[b]={chartX:a.chartX,chartY:a.chartY}}),l.x=[i[0].chartX,i[1]&&i[1].chartX],l.y=[i[0].chartY,i[1]&&i[1].chartY],c(h.axes,function(a){if(a.zoomEnabled){var b=h.bounds[a.horiz?"h":"v"],c=a.minPixelPadding,d=a.toPixels(g(a.options.min,a.dataMin)),e=a.toPixels(g(a.options.max,a.dataMax)),f=Math.min(d,e),i=Math.max(d,e);b.min=Math.min(a.pos,f-c),b.max=Math.max(a.pos+a.len,i+c)}}),b.res=!0):b.followTouchMove&&1===k?this.runPointActions(b.normalize(a)):i.length&&(n||(b.selectionMarker=n=d({destroy:f,touch:!0},h.plotBox)),b.pinchTranslate(i,j,o,n,q,l),b.hasPinched=m,b.scaleGroups(o,q),b.res&&(b.res=!1,this.reset(!1,0)))},touch:function(b,c){var e,f,h,d=this.chart;d.index!==a.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),a.hoverChartIndex=d.index,1===b.touches.length?(b=this.normalize(b),h=d.isInsidePlot(b.chartX-d.plotLeft,b.chartY-d.plotTop),h&&!d.openMenu?(c&&this.runPointActions(b),"touchmove"===b.type&&(f=this.pinchDown,e=f[0]?Math.sqrt(Math.pow(f[0].chartX-b.chartX,2)+Math.pow(f[0].chartY-b.chartY,2))>=4:!1),g(e,!0)&&this.pinch(b)):c&&this.reset()):2===b.touches.length&&this.pinch(b)},onContainerTouchStart:function(a){this.zoomOption(a),this.touch(a,!0)},onContainerTouchMove:function(a){this.touch(a)},onDocumentTouchEnd:function(c){b[a.hoverChartIndex]&&b[a.hoverChartIndex].pointer.drop(c)}})}(b),function(a){var m,n,o,p,b=a.addEvent,c=a.charts,d=a.css,e=a.doc,f=a.extend,g=a.hasTouch,h=a.noop,i=a.Pointer,j=a.removeEvent,k=a.win,l=a.wrap;g||!k.PointerEvent&&!k.MSPointerEvent||(m={},n=!!k.PointerEvent,o=function(){var b=[];return b.item=function(a){return this[a]},a.objectEach(m,function(a){b.push({pageX:a.pageX,pageY:a.pageY,target:a.target})}),b},p=function(b,d,e,f){var g;"touch"!==b.pointerType&&b.pointerType!==b.MSPOINTER_TYPE_TOUCH||!c[a.hoverChartIndex]||(f(b),g=c[a.hoverChartIndex].pointer,g[d]({type:e,target:b.currentTarget,preventDefault:h,touches:o()}))},f(i.prototype,{onContainerPointerDown:function(a){p(a,"onContainerTouchStart","touchstart",function(a){m[a.pointerId]={pageX:a.pageX,pageY:a.pageY,target:a.currentTarget}})},onContainerPointerMove:function(a){p(a,"onContainerTouchMove","touchmove",function(a){m[a.pointerId]={pageX:a.pageX,pageY:a.pageY},m[a.pointerId].target||(m[a.pointerId].target=a.currentTarget)})},onDocumentPointerUp:function(a){p(a,"onDocumentTouchEnd","touchend",function(a){delete m[a.pointerId]})},batchMSEvents:function(a){a(this.chart.container,n?"pointerdown":"MSPointerDown",this.onContainerPointerDown),a(this.chart.container,n?"pointermove":"MSPointerMove",this.onContainerPointerMove),a(e,n?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),l(i.prototype,"init",function(a,b,c){a.call(this,b,c),this.hasZoom&&d(b.container,{"-ms-touch-action":"none","touch-action":"none"})}),l(i.prototype,"setDOMEvents",function(a){a.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(b)}),l(i.prototype,"destroy",function(a){this.batchMSEvents(j),a.call(this)}))}(b),function(a){var b=a,c=b.addEvent,d=b.css,e=b.discardElement,f=b.defined,g=b.each,h=b.isFirefox,i=b.marginNames,j=b.merge,k=b.pick,l=b.setAnimation,m=b.stableSort,n=b.win,o=b.wrap;a.Legend=function(a,b){this.init(a,b)},a.Legend.prototype={init:function(a,b){this.chart=a,this.setOptions(b),b.enabled&&(this.render(),c(this.chart,"endResize",function(){this.legend.positionCheckboxes()}))},setOptions:function(a){var b=k(a.padding,8);this.options=a,this.itemStyle=a.itemStyle,this.itemHiddenStyle=j(this.itemStyle,a.itemHiddenStyle),this.itemMarginTop=a.itemMarginTop||0,this.padding=b,this.initialItemY=b-5,this.maxItemWidth=0,this.itemHeight=0,this.symbolWidth=k(a.symbolWidth,16),this.pages=[]},update:function(a,b){var c=this.chart;this.setOptions(j(!0,this.options,a)),this.destroy(),c.isDirtyLegend=c.isDirtyBox=!0,k(b,!0)&&c.redraw()},colorizeItem:function(a,b){a.legendGroup[b?"removeClass":"addClass"]("highcharts-legend-item-hidden");var c=this,d=c.options,e=a.legendItem,f=a.legendLine,g=a.legendSymbol,h=c.itemHiddenStyle.color,i=b?d.itemStyle.color:h,j=b?a.color||h:h,k=a.options&&a.options.marker,l={fill:j};e&&e.css({fill:i,color:i}),f&&f.attr({stroke:j}),g&&(k&&g.isMarker&&(l=a.pointAttribs(),b||(l.stroke=l.fill=h)),g.attr(l))},positionItem:function(a){var b=this,c=b.options,d=c.symbolPadding,e=!c.rtl,f=a._legendItemPos,g=f[0],h=f[1],i=a.checkbox,j=a.legendGroup;j&&j.element&&j.translate(e?g:b.legendWidth-g-2*d-4,h),i&&(i.x=g,i.y=h)},destroyItem:function(a){var b=a.checkbox;g(["legendItem","legendLine","legendSymbol","legendGroup"],function(b){a[b]&&(a[b]=a[b].destroy())}),b&&e(a.checkbox)},destroy:function(){function a(a){this[a]&&(this[a]=this[a].destroy())}g(this.getAllItems(),function(b){g(["legendItem","legendGroup"],a,b)}),g(["clipRect","up","down","pager","nav","box","title","group"],a,this),this.display=null},positionCheckboxes:function(a){var c,b=this.group&&this.group.alignAttr,e=this.clipHeight||this.legendHeight,f=this.titleHeight;b&&(c=b.translateY,g(this.allItems,function(g){var i,h=g.checkbox;h&&(i=c+f+h.y+(a||0)+3,d(h,{left:b.translateX+g.checkboxOffset+h.x-20+"px",top:i+"px",display:i>c-6&&c+e-6>i?"":"none"}))}))},renderTitle:function(){var e,a=this.options,b=this.padding,c=a.title,d=0;c.text&&(this.title||(this.title=this.chart.renderer.label(c.text,b-3,b-4,null,null,null,a.useHTML,null,"legend-title").attr({zIndex:1}).css(c.style).add(this.group)),e=this.title.getBBox(),d=e.height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:d})),this.titleHeight=d},setText:function(a){var c=this.options;a.legendItem.attr({text:c.labelFormat?b.format(c.labelFormat,a):c.labelFormatter.call(a)})},renderItem:function(a){var p,t,u,b=this,c=b.chart,d=c.renderer,e=b.options,f="horizontal"===e.layout,g=b.symbolWidth,h=e.symbolPadding,i=b.itemStyle,l=b.itemHiddenStyle,m=b.padding,n=f?k(e.itemDistance,20):0,o=!e.rtl,q=e.width,r=e.itemMarginBottom||0,s=b.itemMarginTop,v=a.legendItem,w=!a.series,x=!w&&a.series.drawLegendSymbol?a.series:a,y=x.options,z=b.createCheckboxForItem&&y&&y.showCheckbox,A=g+h+n+(z?20:0),B=e.useHTML,C=12,D=a.options.className;v||(a.legendGroup=d.g("legend-item").addClass("highcharts-"+x.type+"-series "+"highcharts-color-"+a.colorIndex+(D?" "+D:"")+(w?" highcharts-series-"+a.index:"")).attr({zIndex:1}).add(b.scrollGroup),a.legendItem=v=d.text("",o?g+h:-h,b.baseline||0,B).css(j(a.visible?i:l)).attr({align:o?"left":"right",zIndex:2}).add(a.legendGroup),b.baseline||(C=i.fontSize,b.fontMetrics=d.fontMetrics(C,v),b.baseline=b.fontMetrics.f+3+s,v.attr("y",b.baseline)),b.symbolHeight=e.symbolHeight||b.fontMetrics.f,x.drawLegendSymbol(b,a),b.setItemEvents&&b.setItemEvents(a,v,B),z&&b.createCheckboxForItem(a)),b.colorizeItem(a,a.visible),i.width||v.css({width:(e.itemWidth||e.width||c.spacingBox.width)-A}),b.setText(a),t=v.getBBox(),u=a.checkboxOffset=e.itemWidth||a.legendItemWidth||t.width+A,b.itemHeight=p=Math.round(a.legendItemHeight||t.height||b.symbolHeight),f&&b.itemX-m+u>(q||c.spacingBox.width-2*m-e.x)&&(b.itemX=m,b.itemY+=s+b.lastLineHeight+r,b.lastLineHeight=0),b.maxItemWidth=Math.max(b.maxItemWidth,u),b.lastItemY=s+b.itemY+r,b.lastLineHeight=Math.max(p,b.lastLineHeight),a._legendItemPos=[b.itemX,b.itemY],f?b.itemX+=u:(b.itemY+=s+p+r,b.lastLineHeight=p),b.offsetWidth=q||Math.max((f?b.itemX-m-(a.checkbox?0:n):u)+m,b.offsetWidth)},getAllItems:function(){var a=[];return g(this.chart.series,function(b){var c=b&&b.options;b&&k(c.showInLegend,f(c.linkedTo)?!1:void 0,!0)&&(a=a.concat(b.legendItems||("point"===c.legendType?b.data:b)))}),a},adjustMargins:function(a,b){var c=this.chart,d=this.options,e=d.align.charAt(0)+d.verticalAlign.charAt(0)+d.layout.charAt(0);d.floating||g([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(g,h){g.test(e)&&!f(a[h])&&(c[i[h]]=Math.max(c[i[h]],c.legend[(h+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][h]*d[h%2?"x":"y"]+k(d.margin,12)+b[h]))})},render:function(){var e,f,h,i,a=this,b=a.chart,c=b.renderer,d=a.group,k=a.box,l=a.options,n=a.padding;a.itemX=n,a.itemY=a.initialItemY,a.offsetWidth=0,a.lastItemY=0,d||(a.group=d=c.g("legend").attr({zIndex:7}).add(),a.contentGroup=c.g().attr({zIndex:1}).add(d),a.scrollGroup=c.g().add(a.contentGroup)),a.renderTitle(),e=a.getAllItems(),m(e,function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0)}),l.reversed&&e.reverse(),a.allItems=e,a.display=f=!!e.length,a.lastLineHeight=0,g(e,function(b){a.renderItem(b)}),h=(l.width||a.offsetWidth)+n,i=a.lastItemY+a.lastLineHeight+a.titleHeight,i=a.handleOverflow(i),i+=n,k||(a.box=k=c.rect().addClass("highcharts-legend-box").attr({r:l.borderRadius}).add(d),k.isNew=!0),k.attr({stroke:l.borderColor,"stroke-width":l.borderWidth||0,fill:l.backgroundColor||"none"}).shadow(l.shadow),h>0&&i>0&&(k[k.isNew?"attr":"animate"](k.crisp({x:0,y:0,width:h,height:i},k.strokeWidth())),k.isNew=!1),k[f?"show":"hide"](),a.legendWidth=h,a.legendHeight=i,g(e,function(b){a.positionItem(b)}),f&&d.align(j(l,{width:h,height:i}),!0,"spacingBox"),b.isResizing||this.positionCheckboxes()},handleOverflow:function(a){var m,t,b=this,c=this.chart,d=c.renderer,e=this.options,f=e.y,h="top"===e.verticalAlign,i=this.padding,j=c.spacingBox.height+(h?-f:f)-i,l=e.maxHeight,n=this.clipRect,o=e.navigation,p=k(o.animation,!0),q=o.arrowSize||12,r=this.nav,s=this.pages,u=this.allItems,v=function(a){"number"==typeof a?n.attr({height:a}):n&&(b.clipRect=n.destroy(),b.contentGroup.clip()),b.contentGroup.div&&(b.contentGroup.div.style.clip=a?"rect("+i+"px,9999px,"+(i+a)+"px,0)":"auto")};return"horizontal"!==e.layout||"middle"===e.verticalAlign||e.floating||(j/=2),l&&(j=Math.min(j,l)),s.length=0,a>j&&o.enabled!==!1?(this.clipHeight=m=Math.max(j-20-this.titleHeight-i,0),this.currentPage=k(this.currentPage,1),this.fullHeight=a,g(u,function(a,b){var c=a._legendItemPos[1],d=Math.round(a.legendItem.getBBox().height),e=s.length;(!e||c-s[e-1]>m&&(t||c)!==s[e-1])&&(s.push(t||c),e++),b===u.length-1&&c+d-s[e-1]>m&&s.push(c),c!==t&&(t=c)}),n||(n=b.clipRect=d.clipRect(0,i,9999,0),b.contentGroup.clip(n)),v(m),r||(this.nav=r=d.g().attr({zIndex:1}).add(this.group),this.up=d.symbol("triangle",0,0,q,q).on("click",function(){b.scroll(-1,p)}).add(r),this.pager=d.text("",15,10).addClass("highcharts-legend-navigation").css(o.style).add(r),this.down=d.symbol("triangle-down",0,0,q,q).on("click",function(){b.scroll(1,p)}).add(r)),b.scroll(0),a=j):r&&(v(),this.nav=r.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),a},scroll:function(a,b){var j,c=this.pages,d=c.length,e=this.currentPage+a,f=this.clipHeight,g=this.options.navigation,h=this.pager,i=this.padding;e>d&&(e=d),e>0&&(void 0!==b&&l(b,this.chart),this.nav.attr({translateX:i,translateY:f+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({"class":1===e?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),h.attr({text:e+"/"+d}),this.down.attr({x:18+this.pager.getBBox().width,"class":e===d?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===e?g.inactiveColor:g.activeColor}).css({cursor:1===e?"default":"pointer"}),this.down.attr({fill:e===d?g.inactiveColor:g.activeColor}).css({cursor:e===d?"default":"pointer"}),j=-c[e-1]+this.initialItemY,this.scrollGroup.animate({translateY:j}),this.currentPage=e,this.positionCheckboxes(j))}},b.LegendSymbolMixin={drawRectangle:function(a,b){var c=a.options,d=a.symbolHeight,e=c.squareSymbol,f=e?d:a.symbolWidth;b.legendSymbol=this.chart.renderer.rect(e?(a.symbolWidth-d)/2:0,a.baseline-d+1,f,d,k(a.options.symbolRadius,d/2)).addClass("highcharts-point").attr({zIndex:3}).add(b.legendGroup)},drawLineMarker:function(a){var d,e,b=this.options,c=b.marker,f=a.symbolWidth,g=a.symbolHeight,h=g/2,i=this.chart.renderer,l=this.legendGroup,m=a.baseline-Math.round(.3*a.fontMetrics.b),n={};n={"stroke-width":b.lineWidth||0},b.dashStyle&&(n.dashstyle=b.dashStyle),this.legendLine=i.path(["M",0,m,"L",f,m]).addClass("highcharts-graph").attr(n).add(l),c&&c.enabled!==!1&&(d=Math.min(k(c.radius,h),h),0===this.symbol.indexOf("url")&&(c=j(c,{width:g,height:g}),d=0),this.legendSymbol=e=i.symbol(this.symbol,f/2-d,m-d,2*d,2*d,c).addClass("highcharts-point").add(l),e.isMarker=!0)}},(/Trident\/7\.0/.test(n.navigator.userAgent)||h)&&o(a.Legend.prototype,"positionItem",function(a,b){var c=this,d=function(){b._legendItemPos&&a.call(c,b)};d(),setTimeout(d)})}(b),function(a){var b=a.addEvent,c=a.animate,d=a.animObject,e=a.attr,f=a.doc,g=a.Axis,h=a.createElement,i=a.defaultOptions,j=a.discardElement,k=a.charts,l=a.css,m=a.defined,n=a.each,o=a.extend,p=a.find,q=a.fireEvent,r=a.grep,s=a.isNumber,t=a.isObject,u=a.isString,v=a.Legend,w=a.marginNames,x=a.merge,y=a.objectEach,z=a.Pointer,A=a.pick,B=a.pInt,C=a.removeEvent,D=a.seriesTypes,E=a.splat,F=a.svg,G=a.syncTimeout,H=a.win,I=a.Chart=function(){this.getArgs.apply(this,arguments)};a.chart=function(a,b,c){return new I(a,b,c)},o(I.prototype,{callbacks:[],getArgs:function(){var a=[].slice.call(arguments);(u(a[0])||a[0].nodeName)&&(this.renderTo=a.shift()),this.init(a[0],a[1])},init:function(c,d){var e,f,j,l,m,g=c.series,h=c.plotOptions||{};c.series=null,e=x(i,c);for(f in e.plotOptions)e.plotOptions[f].tooltip=h[f]&&x(h[f].tooltip)||void 0;e.tooltip.userOptions=c.chart&&c.chart.forExport&&c.tooltip.userOptions||c.tooltip,e.series=c.series=g,this.userOptions=c,j=e.chart,l=j.events,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=d,this.isResizing=0,this.options=e,this.axes=[],this.series=[],this.hasCartesianSeries=j.showAxes,m=this,m.index=k.length,k.push(m),a.chartCount++,l&&y(l,function(a,c){b(m,c,a)}),m.xAxis=[],m.yAxis=[],m.pointCount=m.colorCounter=m.symbolCounter=0,m.firstRender()},initSeries:function(b){var f,c=this,d=c.options.chart,e=b.type||d.type||d.defaultSeriesType,g=D[e];return g||a.error(17,!0),f=new g,f.init(this,b),f},orderSeries:function(a){for(var b=this.series,c=a||0;c<b.length;c++)b[c]&&(b[c].index=c,b[c].name=b[c].name||"Series "+(b[c].index+1))},isInsidePlot:function(a,b,c){var d=c?b:a,e=c?a:b;return d>=0&&d<=this.plotWidth&&e>=0&&e<=this.plotHeight},redraw:function(b){var i,j,m,p,c=this,d=c.axes,e=c.series,f=c.pointer,g=c.legend,h=c.isDirtyLegend,k=c.hasCartesianSeries,l=c.isDirtyBox,r=c.renderer,s=r.isHidden(),t=[];for(c.setResponsive&&c.setResponsive(!1),a.setAnimation(b,c),s&&c.temporaryDisplay(),c.layOutTitles(),m=e.length;m--;)if(p=e[m],p.options.stacking&&(i=!0,p.isDirty)){j=!0;break}if(j)for(m=e.length;m--;)p=e[m],p.options.stacking&&(p.isDirty=!0);n(e,function(a){a.isDirty&&"point"===a.options.legendType&&(a.updateTotals&&a.updateTotals(),h=!0),a.isDirtyData&&q(a,"updatedData")}),h&&g.options.enabled&&(g.render(),c.isDirtyLegend=!1),i&&c.getStacks(),k&&n(d,function(a){a.updateNames(),a.setScale()}),c.getMargins(),k&&(n(d,function(a){a.isDirty&&(l=!0)}),n(d,function(a){var b=a.min+","+a.max;a.extKey!==b&&(a.extKey=b,t.push(function(){q(a,"afterSetExtremes",o(a.eventArgs,a.getExtremes())),delete a.eventArgs})),(l||i)&&a.redraw()})),l&&c.drawChartBox(),q(c,"predraw"),n(e,function(a){(l||a.isDirty)&&a.visible&&a.redraw(),a.isDirtyData=!1}),f&&f.reset(!0),r.draw(),q(c,"redraw"),q(c,"render"),s&&c.temporaryDisplay(!0),n(t,function(a){a.call()})},get:function(a){function e(b){return b.id===a||b.options&&b.options.id===a}var b,d,c=this.series;for(b=p(this.axes,e)||p(this.series,e),d=0;!b&&d<c.length;d++)b=p(c[d].points||[],e);return b},getAxes:function(){var e,a=this,b=this.options,c=b.xAxis=E(b.xAxis||{}),d=b.yAxis=E(b.yAxis||{});n(c,function(a,b){a.index=b,a.isX=!0}),n(d,function(a,b){a.index=b}),e=c.concat(d),n(e,function(b){new g(a,b)})},getSelectedPoints:function(){var a=[];return n(this.series,function(b){a=a.concat(r(b.data||[],function(a){return a.selected}))}),a},getSelectedSeries:function(){return r(this.series,function(a){return a.selected})},setTitle:function(a,b,c){var f,g,d=this,e=d.options;f=e.title=x({style:{color:"#333333",fontSize:e.isStock?"16px":"18px"}},e.title,a),g=e.subtitle=x({style:{color:"#666666"}},e.subtitle,b),n([["title",a,f],["subtitle",b,g]],function(a,b){var c=a[0],e=d[c],f=a[1],g=a[2];e&&f&&(d[c]=e=e.destroy()),g&&g.text&&!e&&(d[c]=d.renderer.text(g.text,0,0,g.useHTML).attr({align:g.align,"class":"highcharts-"+c,zIndex:g.zIndex||4}).add(),d[c].update=function(a){d.setTitle(!b&&a,b&&a)},d[c].css(g.style))}),d.layOutTitles(c)},layOutTitles:function(a){var c,b=0,d=this.renderer,e=this.spacingBox;n(["title","subtitle"],function(a){var h,c=this[a],f=this.options[a],g="title"===a?-3:f.verticalAlign?0:b+2;c&&(h=f.style.fontSize,h=d.fontMetrics(h,c).b,c.css({width:(f.width||e.width+f.widthAdjust)+"px"}).align(o({y:g+h},f),!1,"spacingBox"),f.floating||f.verticalAlign||(b=Math.ceil(b+c.getBBox(f.useHTML).height)))},this),c=this.titleOffset!==b,this.titleOffset=b,!this.isDirtyBox&&c&&(this.isDirtyBox=c,this.hasRendered&&A(a,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var b=this,c=b.options.chart,d=c.width,e=c.height,f=b.renderTo;m(d)||(b.containerWidth=a.getStyle(f,"width")),m(e)||(b.containerHeight=a.getStyle(f,"height")),b.chartWidth=Math.max(0,d||b.containerWidth||600),b.chartHeight=Math.max(0,a.relativeLength(e,b.chartWidth)||(b.containerHeight>1?b.containerHeight:400))},temporaryDisplay:function(b){var d,c=this.renderTo;if(b)for(;c&&c.style;)c.hcOrigStyle&&(a.css(c,c.hcOrigStyle),delete c.hcOrigStyle),c.hcOrigDetached&&(f.body.removeChild(c),c.hcOrigDetached=!1),c=c.parentNode;else for(;c&&c.style&&(f.body.contains(c)||c.parentNode||(c.hcOrigDetached=!0,f.body.appendChild(c)),("none"===a.getStyle(c,"display",!1)||c.hcOricDetached)&&(c.hcOrigStyle={display:c.style.display,height:c.style.height,overflow:c.style.overflow},d={display:"block",overflow:"hidden"},c!==this.renderTo&&(d.height=0),a.css(c,d),c.offsetWidth||c.style.setProperty("display","block","important")),c=c.parentNode,c!==f.body););},setClassName:function(a){this.container.className="highcharts-container "+(a||"")},getContainer:function(){var c,i,j,n,p,r,b=this,d=b.options,g=d.chart,l=b.renderTo,m="data-highcharts-chart",q=a.uniqueKey();l||(b.renderTo=l=g.renderTo),u(l)&&(b.renderTo=l=f.getElementById(l)),l||a.error(13,!0),n=B(e(l,m)),s(n)&&k[n]&&k[n].hasRendered&&k[n].destroy(),e(l,m,b.index),l.innerHTML="",g.skipClone||l.offsetWidth||b.temporaryDisplay(),b.getChartSize(),i=b.chartWidth,j=b.chartHeight,r=o({position:"relative",overflow:"hidden",width:i+"px",height:j+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},g.style),c=h("div",{id:q},r,l),b.container=c,b._cursor=c.style.cursor,p=a[g.renderer]||a.Renderer,b.renderer=new p(c,i,j,null,g.forExport,d.exporting&&d.exporting.allowHTML),b.setClassName(g.className),b.renderer.setStyle(g.style),b.renderer.chartIndex=b.index},getMargins:function(a){var b=this,c=b.spacing,d=b.margin,e=b.titleOffset;b.resetMargins(),e&&!m(d[0])&&(b.plotTop=Math.max(b.plotTop,e+b.options.title.margin+c[0])),b.legend&&b.legend.display&&b.legend.adjustMargins(d,c),b.extraMargin&&(b[b.extraMargin.type]=(b[b.extraMargin.type]||0)+b.extraMargin.value),b.adjustPlotArea&&b.adjustPlotArea(),a||this.getAxisMargins()},getAxisMargins:function(){var a=this,b=a.axisOffset=[0,0,0,0],c=a.margin;a.hasCartesianSeries&&n(a.axes,function(a){a.visible&&a.getOffset()}),n(w,function(d,e){m(c[e])||(a[d]+=b[e])}),a.setChartSize()},reflow:function(b){var c=this,d=c.options.chart,e=c.renderTo,g=m(d.width)&&m(d.height),h=d.width||a.getStyle(e,"width"),i=d.height||a.getStyle(e,"height"),j=b?b.target:H;g||c.isPrinting||!h||!i||j!==H&&j!==f||((h!==c.containerWidth||i!==c.containerHeight)&&(clearTimeout(c.reflowTimeout),c.reflowTimeout=G(function(){c.container&&c.setSize(void 0,void 0,!1)},b?100:0)),c.containerWidth=h,c.containerHeight=i)},initReflow:function(){var c,a=this;c=b(H,"resize",function(b){a.reflow(b)}),b(a,"destroy",c)},setSize:function(b,e,f){var i,g=this,h=g.renderer;g.isResizing+=1,a.setAnimation(f,g),g.oldChartHeight=g.chartHeight,g.oldChartWidth=g.chartWidth,void 0!==b&&(g.options.chart.width=b),void 0!==e&&(g.options.chart.height=e),g.getChartSize(),i=h.globalAnimation,(i?c:l)(g.container,{width:g.chartWidth+"px",height:g.chartHeight+"px"},i),g.setChartSize(!0),h.setSize(g.chartWidth,g.chartHeight,f),n(g.axes,function(a){a.isDirty=!0,a.setScale()}),g.isDirtyLegend=!0,g.isDirtyBox=!0,g.layOutTitles(),g.getMargins(),g.redraw(f),g.oldChartHeight=null,q(g,"resize"),G(function(){g&&q(g,"endResize",null,function(){g.isResizing-=1})},d(i).duration)},setChartSize:function(a){var j,k,l,m,o,p,q,b=this,c=b.inverted,d=b.renderer,e=b.chartWidth,f=b.chartHeight,g=b.options.chart,h=b.spacing,i=b.clipOffset;b.plotLeft=l=Math.round(b.plotLeft),b.plotTop=m=Math.round(b.plotTop),b.plotWidth=o=Math.max(0,Math.round(e-l-b.marginRight)),b.plotHeight=p=Math.max(0,Math.round(f-m-b.marginBottom)),b.plotSizeX=c?p:o,b.plotSizeY=c?o:p,b.plotBorderWidth=g.plotBorderWidth||0,b.spacingBox=d.spacingBox={x:h[3],y:h[0],width:e-h[3]-h[1],height:f-h[0]-h[2]},b.plotBox=d.plotBox={x:l,y:m,width:o,height:p},q=2*Math.floor(b.plotBorderWidth/2),j=Math.ceil(Math.max(q,i[3])/2),k=Math.ceil(Math.max(q,i[0])/2),b.clipBox={x:j,y:k,width:Math.floor(b.plotSizeX-Math.max(q,i[1])/2-j),height:Math.max(0,Math.floor(b.plotSizeY-Math.max(q,i[2])/2-k))},a||n(b.axes,function(a){a.setAxisSize(),a.setAxisTranslation()})},resetMargins:function(){var a=this,b=a.options.chart;n(["margin","spacing"],function(c){var d=b[c],e=t(d)?d:[d,d,d,d];n(["Top","Right","Bottom","Left"],function(d,f){a[c][f]=A(b[c+d],e[f])})}),n(w,function(b,c){a[b]=A(a.margin[c],a.spacing[c])}),a.axisOffset=[0,0,0,0],a.clipOffset=[0,0,0,0]},drawChartBox:function(){var i,n,o,a=this,b=a.options.chart,c=a.renderer,d=a.chartWidth,e=a.chartHeight,f=a.chartBackground,g=a.plotBackground,h=a.plotBorder,j=a.plotBGImage,k=b.backgroundColor,l=b.plotBackgroundColor,m=b.plotBackgroundImage,p=a.plotLeft,q=a.plotTop,r=a.plotWidth,s=a.plotHeight,t=a.plotBox,u=a.clipRect,v=a.clipBox,w="animate";f||(a.chartBackground=f=c.rect().addClass("highcharts-background").add(),w="attr"),i=b.borderWidth||0,n=i+(b.shadow?8:0),o={fill:k||"none"},(i||f["stroke-width"])&&(o.stroke=b.borderColor,o["stroke-width"]=i),f.attr(o).shadow(b.shadow),f[w]({x:n/2,y:n/2,width:d-n-i%2,height:e-n-i%2,r:b.borderRadius}),w="animate",g||(w="attr",a.plotBackground=g=c.rect().addClass("highcharts-plot-background").add()),g[w](t),g.attr({fill:l||"none"}).shadow(b.plotShadow),m&&(j?j.animate(t):a.plotBGImage=c.image(m,p,q,r,s).add()),u?u.animate({width:v.width,height:v.height}):a.clipRect=c.clipRect(v),w="animate",h||(w="attr",a.plotBorder=h=c.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),h.attr({stroke:b.plotBorderColor,"stroke-width":b.plotBorderWidth||0,fill:"none"}),h[w](h.crisp({x:p,y:q,width:r,height:s},-h.strokeWidth())),a.isDirtyBox=!1},propFromSeries:function(){var c,e,f,a=this,b=a.options.chart,d=a.options.series;n(["inverted","angular","polar"],function(g){for(c=D[b.type||b.defaultSeriesType],f=b[g]||c&&c.prototype[g],e=d&&d.length;!f&&e--;)c=D[d[e].type],c&&c.prototype[g]&&(f=!0);a[g]=f})},linkSeries:function(){var a=this,b=a.series;n(b,function(a){a.linkedSeries.length=0}),n(b,function(b){var c=b.options.linkedTo;u(c)&&(c=":previous"===c?a.series[b.index-1]:a.get(c),c&&c.linkedParent!==b&&(c.linkedSeries.push(b),b.linkedParent=c,b.visible=A(b.options.visible,c.options.visible,b.visible)))})},renderSeries:function(){n(this.series,function(a){a.translate(),a.render()})},renderLabels:function(){var a=this,b=a.options.labels;b.items&&n(b.items,function(c){var d=o(b.style,c.style),e=B(d.left)+a.plotLeft,f=B(d.top)+a.plotTop+12;delete d.left,delete d.top,a.renderer.text(c.html,e,f).attr({zIndex:2}).css(d).add()})},render:function(){var e,f,g,h,a=this,b=a.axes,c=a.renderer,d=a.options;a.setTitle(),a.legend=new v(a,d.legend),a.getStacks&&a.getStacks(),a.getMargins(!0),a.setChartSize(),e=a.plotWidth,f=a.plotHeight=a.plotHeight-21,n(b,function(a){a.setScale()}),a.getAxisMargins(),g=e/a.plotWidth>1.1,h=f/a.plotHeight>1.05,(g||h)&&(n(b,function(a){(a.horiz&&g||!a.horiz&&h)&&a.setTickInterval(!0)}),a.getMargins()),a.drawChartBox(),a.hasCartesianSeries&&n(b,function(a){a.visible&&a.render()}),a.seriesGroup||(a.seriesGroup=c.g("series-group").attr({zIndex:3}).add()),a.renderSeries(),a.renderLabels(),a.addCredits(),a.setResponsive&&a.setResponsive(),a.hasRendered=!0},addCredits:function(a){var b=this;a=x(!0,this.options.credits,a),a.enabled&&!this.credits&&(this.credits=this.renderer.text(a.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){a.href&&(H.location.href=a.href)}).attr({align:a.position.align,zIndex:8}).css(a.style).add().align(a.position),this.credits.update=function(a){b.credits=b.credits.destroy(),b.addCredits(a)})},destroy:function(){var f,b=this,c=b.axes,d=b.series,e=b.container,g=e&&e.parentNode;for(q(b,"destroy"),b.renderer.forExport?a.erase(k,b):k[b.index]=void 0,a.chartCount--,b.renderTo.removeAttribute("data-highcharts-chart"),C(b),f=c.length;f--;)c[f]=c[f].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),f=d.length;f--;)d[f]=d[f].destroy();n(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(a){var c=b[a];c&&c.destroy&&(b[a]=c.destroy())}),e&&(e.innerHTML="",C(e),g&&j(e)),y(b,function(a,c){delete b[c]})},isReadyToRender:function(){var a=this;return F||H!=H.top||"complete"===f.readyState?!0:(f.attachEvent("onreadystatechange",function(){f.detachEvent("onreadystatechange",a.firstRender),"complete"===f.readyState&&a.firstRender()}),!1)},firstRender:function(){var a=this,b=a.options;a.isReadyToRender()&&(a.getContainer(),q(a,"init"),a.resetMargins(),a.setChartSize(),a.propFromSeries(),a.getAxes(),n(b.series||[],function(b){a.initSeries(b)}),a.linkSeries(),q(a,"beforeRender"),z&&(a.pointer=new z(a,b)),a.render(),!a.renderer.imgCount&&a.onload&&a.onload(),a.temporaryDisplay(!0))},onload:function(){n([this.callback].concat(this.callbacks),function(a){a&&void 0!==this.index&&a.apply(this,[this])},this),q(this,"load"),q(this,"render"),m(this.index)&&this.options.chart.reflow!==!1&&this.initReflow(),this.onload=null}})}(b),function(a){var b,c=a,d=c.each,e=c.extend,f=c.erase,g=c.fireEvent,h=c.format,i=c.isArray,j=c.isNumber,k=c.pick,l=c.removeEvent;a.Point=b=function(){},a.Point.prototype={init:function(a,b,c){var e,g,d=this,f=a.chart.options.chart.colorCount;return d.series=a,d.color=a.color,d.applyOptions(b,c),a.options.colorByPoint?(e=a.options.colors||a.chart.options.colors,d.color=d.color||e[a.colorCounter],f=e.length,g=a.colorCounter,a.colorCounter++,a.colorCounter===f&&(a.colorCounter=0)):g=a.colorIndex,d.colorIndex=k(d.colorIndex,g),a.chart.pointCount++,d},applyOptions:function(a,c){var d=this,f=d.series,g=f.options.pointValKey||f.pointValKey;return a=b.prototype.optionsToObject.call(this,a),e(d,a),d.options=d.options?e(d.options,a):a,a.group&&delete d.group,g&&(d.y=d[g]),d.isNull=k(d.isValid&&!d.isValid(),null===d.x||!j(d.y,!0)),d.selected&&(d.state="select"),"name"in d&&void 0===c&&f.xAxis&&f.xAxis.hasNames&&(d.x=f.xAxis.nameToX(d)),void 0===d.x&&f&&(d.x=void 0===c?f.autoIncrement(d):c),d},optionsToObject:function(a){var g,b={},c=this.series,d=c.options.keys,e=d||c.pointArrayMap||["y"],f=e.length,h=0,k=0;if(j(a)||null===a)b[e[0]]=a;else if(i(a))for(!d&&a.length>f&&(g=typeof a[0],"string"===g?b.name=a[0]:"number"===g&&(b.x=a[0]),h++);f>k;)d&&void 0===a[h]||(b[e[k]]=a[h]),h++,k++;else"object"==typeof a&&(b=a,a.dataLabels&&(c._hasPointLabels=!0),a.marker&&(c._hasPointMarkers=!0));return b},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var e,a=this.series,b=a.zones,c=a.zoneAxis||"y",d=0;for(e=b[d];this[c]>=e.value;)e=b[++d];return e&&e.color&&!this.options.color&&(this.color=e.color),e},destroy:function(){var e,a=this,b=a.series,c=b.chart,d=c.hoverPoints;c.pointCount--,d&&(a.setState(),f(d,a),d.length||(c.hoverPoints=null)),a===c.hoverPoint&&a.onMouseOut(),(a.graphic||a.dataLabel)&&(l(a),a.destroyElements()),a.legendItem&&c.legend.destroyItem(a);for(e in a)a[e]=null},destroyElements:function(){for(var c,a=this,b=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],d=6;d--;)c=b[d],a[c]&&(a[c]=a[c].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}
},tooltipFormatter:function(a){var b=this.series,c=b.tooltipOptions,e=k(c.valueDecimals,""),f=c.valuePrefix||"",g=c.valueSuffix||"";return d(b.pointArrayMap||["y"],function(b){b="{point."+b,(f||g)&&(a=a.replace(b+"}",f+b+"}"+g)),a=a.replace(b+"}",b+":,."+e+"f}")}),h(a,{point:this,series:this.series})},firePointEvent:function(a,b,c){var d=this,e=this.series,f=e.options;(f.point.events[a]||d.options&&d.options.events&&d.options.events[a])&&this.importEvents(),"click"===a&&f.allowPointSelect&&(c=function(a){d.select&&d.select(null,a.ctrlKey||a.metaKey||a.shiftKey)}),g(this,a,b,c)},visible:!0}}(b),function(a){var b=a.addEvent,c=a.animObject,d=a.arrayMax,e=a.arrayMin,f=a.correctFloat,g=a.Date,h=a.defaultOptions,i=a.defaultPlotOptions,j=a.defined,k=a.each,l=a.erase,m=a.extend,n=a.fireEvent,o=a.grep,p=a.isArray,q=a.isNumber,r=a.isString,s=a.LegendSymbolMixin,t=a.merge,u=a.objectEach,v=a.pick,w=a.Point,x=a.removeEvent,y=a.splat,z=a.SVGElement,A=a.syncTimeout,B=a.win;a.Series=a.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",radius:4,states:{hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":a.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:w,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(a,c){var e,g,d=this,f=a.series;d.chart=a,d.options=c=d.setOptions(c),d.linkedSeries=[],d.bindAxes(),m(d,{name:c.name,state:"",visible:c.visible!==!1,selected:c.selected===!0}),e=c.events,u(e,function(a,c){b(d,c,a)}),(e&&e.click||c.point&&c.point.events&&c.point.events.click||c.allowPointSelect)&&(a.runTrackerClick=!0),d.getColor(),d.getSymbol(),k(d.parallelArrays,function(a){d[a+"Data"]=[]}),d.setData(c.data,!1),d.isCartesian&&(a.hasCartesianSeries=!0),f.length&&(g=f[f.length-1]),d._i=v(g&&g._i,-1)+1,a.orderSeries(this.insert(f))},insert:function(a){var c,b=this.options.index;if(q(b)){for(c=a.length;c--;)if(b>=v(a[c].options.index,a[c]._i)){a.splice(c+1,0,this);break}-1===c&&a.unshift(this),c+=1}else a.push(this);return v(c,a.length-1)},bindAxes:function(){var e,b=this,c=b.options,d=b.chart;k(b.axisTypes||[],function(f){k(d[f],function(a){e=a.options,(c[f]===e.index||void 0!==c[f]&&c[f]===e.id||void 0===c[f]&&0===e.index)&&(b.insert(a.series),b[f]=a,a.isDirty=!0)}),b[f]||b.optionalAxis===f||a.error(18,!0)})},updateParallelArrays:function(a,b){var c=a.series,d=arguments,e=q(b)?function(d){var e="y"===d&&c.toYData?c.toYData(a):a[d];c[d+"Data"][b]=e}:function(a){Array.prototype[b].apply(c[a+"Data"],Array.prototype.slice.call(d,2))};k(c.parallelArrays,e)},autoIncrement:function(){var c,d,a=this.options,b=this.xIncrement,e=a.pointIntervalUnit;return b=v(b,a.pointStart,0),this.pointInterval=d=v(this.pointInterval,a.pointInterval,1),e&&(c=new g(b),"day"===e?c=+c[g.hcSetDate](c[g.hcGetDate]()+d):"month"===e?c=+c[g.hcSetMonth](c[g.hcGetMonth]()+d):"year"===e&&(c=+c[g.hcSetFullYear](c[g.hcGetFullYear]()+d)),d=c-b),this.xIncrement=b+d,b},setOptions:function(a){var i,k,b=this.chart,c=b.options,d=c.plotOptions,e=b.userOptions||{},f=e.plotOptions||{},g=d[this.type];return this.userOptions=a,i=t(g,d.series,a),this.tooltipOptions=t(h.tooltip,h.plotOptions.series&&h.plotOptions.series.tooltip,h.plotOptions[this.type].tooltip,c.tooltip.userOptions,d.series&&d.series.tooltip,d[this.type].tooltip,a.tooltip),this.stickyTracking=v(a.stickyTracking,f[this.type]&&f[this.type].stickyTracking,f.series&&f.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:i.stickyTracking),null===g.marker&&delete i.marker,this.zoneAxis=i.zoneAxis,k=this.zones=(i.zones||[]).slice(),!i.negativeColor&&!i.negativeFillColor||i.zones||k.push({value:i[this.zoneAxis+"Threshold"]||i.threshold||0,className:"highcharts-negative",color:i.negativeColor,fillColor:i.negativeFillColor}),k.length&&j(k[k.length-1].value)&&k.push({color:this.color,fillColor:this.fillColor}),i},getCyclic:function(a,b,c){var d,k,e=this.chart,f=this.userOptions,g=a+"Index",h=a+"Counter",i=c?c.length:v(e.options.chart[a+"Count"],e[a+"Count"]);b||(k=v(f[g],f["_"+g]),j(k)?d=k:(e.series.length||(e[h]=0),f["_"+g]=d=e[h]%i,e[h]+=1),c&&(b=c[d])),void 0!==d&&(this[g]=d),this[a]=b},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||i[this.type].color,this.chart.options.colors)},getSymbol:function(){var a=this.options.marker;this.getCyclic("symbol",a.symbol,this.chart.options.symbols)},drawLegendSymbol:s.drawLineMarker,setData:function(b,c,d,e){var i,o,t,f=this,g=f.points,h=g&&g.length||0,j=f.options,l=f.chart,m=null,n=f.xAxis,s=j.turboThreshold,u=this.xData,w=this.yData,x=f.pointArrayMap,y=x&&x.length;if(b=b||[],i=b.length,c=v(c,!0),e!==!1&&i&&h===i&&!f.cropped&&!f.hasGroupedData&&f.visible)k(b,function(a,b){g[b].update&&a!==j.data[b]&&g[b].update(a,!1,null,!1)});else{if(f.xIncrement=null,f.colorCounter=0,k(this.parallelArrays,function(a){f[a+"Data"].length=0}),s&&i>s){for(o=0;null===m&&i>o;)m=b[o],o++;if(q(m))for(o=0;i>o;o++)u[o]=this.autoIncrement(),w[o]=b[o];else if(p(m))if(y)for(o=0;i>o;o++)t=b[o],u[o]=t[0],w[o]=t.slice(1,y+1);else for(o=0;i>o;o++)t=b[o],u[o]=t[0],w[o]=t[1];else a.error(12)}else for(o=0;i>o;o++)void 0!==b[o]&&(t={series:f},f.pointClass.prototype.applyOptions.apply(t,[b[o]]),f.updateParallelArrays(t,o));for(w&&r(w[0])&&a.error(14,!0),f.data=[],f.options.data=f.userOptions.data=b,o=h;o--;)g[o]&&g[o].destroy&&g[o].destroy();n&&(n.minRange=n.userMinRange),f.isDirty=l.isDirtyBox=!0,f.isDirtyData=!!g,d=!1}"point"===j.legendType&&(this.processData(),this.generatePoints()),c&&l.redraw(d)},processData:function(b){var g,i,j,k,m,r,u,v,c=this,d=c.xData,e=c.yData,f=d.length,h=0,l=c.xAxis,n=c.options,o=n.cropThreshold,p=c.getExtremesFromAll||n.getExtremesFromAll,q=c.isCartesian,s=l&&l.val2lin,t=l&&l.isLog;if(q&&!c.isDirty&&!l.isDirty&&!c.yAxis.isDirty&&!b)return!1;for(l&&(r=l.getExtremes(),u=r.min,v=r.max),q&&c.sorted&&!p&&(!o||f>o||c.forceCrop)&&(d[f-1]<u||d[0]>v?(d=[],e=[]):(d[0]<u||d[f-1]>v)&&(g=this.cropData(c.xData,c.yData,u,v),d=g.xData,e=g.yData,h=g.start,i=!0)),m=d.length||1;--m;)j=t?s(d[m])-s(d[m-1]):d[m]-d[m-1],j>0&&(void 0===k||k>j)?k=j:0>j&&c.requireSorting&&a.error(15);c.cropped=i,c.cropStart=h,c.processedXData=d,c.processedYData=e,c.closestPointRange=k},cropData:function(a,b,c,d){var i,j,e=a.length,f=0,g=e,h=v(this.cropShoulder,1);for(i=0;e>i;i++)if(a[i]>=c){f=Math.max(0,i-h);break}for(j=i;e>j;j++)if(a[j]>d){g=j+h;break}return{xData:a.slice(f,g),yData:b.slice(f,g),start:f,end:g}},generatePoints:function(){var e,k,n,p,q,a=this,b=a.options,c=b.data,d=a.data,f=a.processedXData,g=a.processedYData,h=a.pointClass,i=f.length,j=a.cropStart||0,l=a.hasGroupedData,m=b.keys,o=[];for(d||l||(q=[],q.length=c.length,d=a.data=q),m&&l&&(a.options.keys=!1),p=0;i>p;p++)k=j+p,l?(n=(new h).init(a,[f[p]].concat(y(g[p]))),n.dataGroup=a.groupMap[p]):(n=d[k],n||void 0===c[k]||(d[k]=n=(new h).init(a,c[k],f[p]))),n&&(n.index=k,o[p]=n);if(a.options.keys=m,d&&(i!==(e=d.length)||l))for(p=0;e>p;p++)p!==j||l||(p+=i),d[p]&&(d[p].destroyElements(),d[p].plotX=void 0);a.data=d,a.points=o},getExtremes:function(a){var g,m,n,o,r,s,t,b=this.xAxis,c=this.yAxis,f=this.processedXData,h=[],i=0,j=b.getExtremes(),k=j.min,l=j.max;for(a=a||this.stackedYData||this.processedYData||[],g=a.length,s=0;g>s;s++)if(o=f[s],r=a[s],m=(q(r,!0)||p(r))&&(!c.positiveValuesOnly||r.length||r>0),n=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(f[s+1]||o)>=k&&(f[s-1]||o)<=l,m&&n)if(t=r.length)for(;t--;)null!==r[t]&&(h[i++]=r[t]);else h[i++]=r;this.dataMin=e(h),this.dataMax=d(h)},translate:function(){var l,r,s,t,u,a,b,c,d,e,g,h,i,k,m,n,o,p,w,C,D,x,y,z,A,B;for(this.processedXData||this.processData(),this.generatePoints(),a=this,b=a.options,c=b.stacking,d=a.xAxis,e=d.categories,g=a.yAxis,h=a.points,i=h.length,k=!!a.modifyValue,m=b.pointPlacement,n="between"===m||q(m),o=b.threshold,p=b.startFromThreshold?o:0,w=Number.MAX_VALUE,"between"===m&&(m=.5),q(m)&&(m*=v(b.pointRange||d.pointRange)),l=0;i>l;l++)x=h[l],y=x.x,z=x.y,A=x.low,B=c&&g.stacks[(a.negStacks&&(p?0:o)>z?"-":"")+a.stackKey],g.positiveValuesOnly&&null!==z&&0>=z&&(x.isNull=!0),x.plotX=r=f(Math.min(Math.max(-1e5,d.translate(y,0,0,0,1,m,"flags"===this.type)),1e5)),c&&a.visible&&!x.isNull&&B&&B[y]&&(u=a.getStackIndicator(u,y,a.index),C=B[y],D=C.points[u.key],A=D[0],z=D[1],A===p&&u.key===B[y].base&&(A=v(o,g.min)),g.positiveValuesOnly&&0>=A&&(A=null),x.total=x.stackTotal=C.total,x.percentage=C.total&&100*(x.y/C.total),x.stackY=z,C.setOffset(a.pointXOffset||0,a.barW||0)),x.yBottom=j(A)?g.translate(A,0,1,0,1):null,k&&(z=a.modifyValue(z,x)),x.plotY=s="number"==typeof z&&1/0!==z?Math.min(Math.max(-1e5,g.translate(z,0,1,0,1)),1e5):void 0,x.isInside=void 0!==s&&s>=0&&s<=g.len&&r>=0&&r<=d.len,x.clientX=n?f(d.translate(y,0,0,0,1,m)):r,x.negative=x.y<(o||0),x.category=e&&void 0!==e[x.x]?e[x.x]:x.x,x.isNull||(void 0!==t&&(w=Math.min(w,Math.abs(r-t))),t=r),x.zone=this.zones.length&&x.getZone();a.closestPointRangePx=w},getValidPoints:function(a,b){var c=this.chart;return o(a||this.points||[],function(a){return b&&!c.isInsidePlot(a.plotX,a.plotY,c.inverted)?!1:!a.isNull})},setClip:function(a){var b=this.chart,c=this.options,d=b.renderer,e=b.inverted,f=this.clipBox,g=f||b.clipBox,h=this.sharedClipKey||["_sharedClip",a&&a.duration,a&&a.easing,g.height,c.xAxis,c.yAxis].join(","),i=b[h],j=b[h+"m"];i||(a&&(g.width=0,e&&(g.x=b.plotSizeX),b[h+"m"]=j=d.clipRect(e?b.plotSizeX+99:-99,e?-b.plotLeft:-b.plotTop,99,e?b.chartWidth:b.chartHeight)),b[h]=i=d.clipRect(g),i.count={length:0}),a&&(i.count[this.index]||(i.count[this.index]=!0,i.count.length+=1)),c.clip!==!1&&(this.group.clip(a||f?i:b.clipRect),this.markerGroup.clip(j),this.sharedClipKey=h),a||(i.count[this.index]&&(delete i.count[this.index],i.count.length-=1),0===i.count.length&&h&&b[h]&&(f||(b[h]=b[h].destroy()),b[h+"m"]&&(b[h+"m"]=b[h+"m"].destroy())))},animate:function(a){var e,g,b=this,d=b.chart,f=c(b.options.animation);a?b.setClip(f):(g=this.sharedClipKey,e=d[g],e&&e.animate({width:d.plotSizeX,x:0},f),d[g+"m"]&&d[g+"m"].animate({width:d.plotSizeX+99,x:0},f),b.animate=null)},afterAnimate:function(){this.setClip(),n(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var d,e,f,g,h,k,l,m,n,r,a=this,b=a.points,c=a.chart,i=a.options,j=i.marker,o=a[a.specialGroup]||a.markerGroup,p=a.xAxis,s=v(j.enabled,p.isRadial?!0:null,a.closestPointRangePx>=2*j.radius);if(j.enabled!==!1||a._hasPointMarkers)for(e=0;e<b.length;e++)f=b[e],d=f.plotY,h=f.graphic,k=f.marker||{},l=!!f.marker,m=s&&void 0===k.enabled||k.enabled,n=f.isInside,m&&q(d)&&null!==f.y?(g=v(k.symbol,a.symbol),f.hasImage=0===g.indexOf("url"),r=a.markerAttribs(f,f.selected&&"select"),h?h[n?"show":"hide"](!0).animate(r):n&&(r.width>0||f.hasImage)&&(f.graphic=h=c.renderer.symbol(g,r.x,r.y,r.width,r.height,l?k:j).add(o)),h&&h.attr(a.pointAttribs(f,f.selected&&"select")),h&&h.addClass(f.getClassName(),!0)):h&&(f.graphic=h.destroy())},markerAttribs:function(a,b){var d,f,h,c=this.options.marker,e=a.marker||{},g=v(e.radius,c.radius);return b&&(d=c.states[b],f=e.states&&e.states[b],g=v(f&&f.radius,d&&d.radius,g+(d&&d.radiusPlus||0))),a.hasImage&&(g=0),h={x:Math.floor(a.plotX)-g,y:a.plotY-g},g&&(h.width=h.height=2*g),h},pointAttribs:function(a,b){var d,g,m,n,c=this.options.marker,e=a&&a.options,f=e&&e.marker||{},h=this.color,i=e&&e.color,j=a&&a.color,k=v(f.lineWidth,c.lineWidth),l=a&&a.zone&&a.zone.color;return h=i||l||j||h,m=f.fillColor||c.fillColor||h,n=f.lineColor||c.lineColor||h,b&&(d=c.states[b],g=f.states&&f.states[b]||{},k=v(g.lineWidth,d.lineWidth,k+v(g.lineWidthPlus,d.lineWidthPlus,0)),m=g.fillColor||d.fillColor||m,n=g.lineColor||d.lineColor||n),{stroke:n,"stroke-width":k,fill:m}},destroy:function(){var d,e,g,h,a=this,b=a.chart,c=/AppleWebKit\/533/.test(B.navigator.userAgent),f=a.data||[];for(n(a,"destroy"),x(a),k(a.axisTypes||[],function(b){h=a[b],h&&h.series&&(l(h.series,a),h.isDirty=h.forceRedraw=!0)}),a.legendItem&&a.chart.legend.destroyItem(a),e=f.length;e--;)g=f[e],g&&g.destroy&&g.destroy();a.points=null,clearTimeout(a.animationTimeout),u(a,function(a,b){a instanceof z&&!a.survive&&(d=c&&"group"===b?"hide":"destroy",a[d]())}),b.hoverSeries===a&&(b.hoverSeries=null),l(b.series,a),b.orderSeries(),u(a,function(b,c){delete a[c]})},getGraphPath:function(a,b,c){var g,l,d=this,e=d.options,f=e.step,h=[],i=[];return a=a||d.points,g=a.reversed,g&&a.reverse(),f={right:1,center:2}[f]||f&&3,f&&g&&(f=4-f),!e.connectNulls||b||c||(a=this.getValidPoints(a)),k(a,function(g,k){var p,m=g.plotX,n=g.plotY,o=a[k-1];(g.leftCliff||o&&o.rightCliff)&&!c&&(l=!0),g.isNull&&!j(b)&&k>0?l=!e.connectNulls:g.isNull&&!b?l=!0:(0===k||l?p=["M",g.plotX,g.plotY]:d.getPointSpline?p=d.getPointSpline(a,g,k):f?(p=1===f?["L",o.plotX,n]:2===f?["L",(o.plotX+m)/2,o.plotY,"L",(o.plotX+m)/2,n]:["L",m,o.plotY],p.push("L",m,n)):p=["L",m,n],i.push(g.x),f&&i.push(g.x),h.push.apply(h,p),l=!1)}),h.xMap=i,d.graphPath=h,h},drawGraph:function(){var a=this,b=this.options,c=(this.gappedPath||this.getGraphPath).call(this),d=[["graph","highcharts-graph",b.lineColor||this.color,b.dashStyle]];k(this.zones,function(c,e){d.push(["zone-graph-"+e,"highcharts-graph highcharts-zone-graph-"+e+" "+(c.className||""),c.color||a.color,c.dashStyle||b.dashStyle])}),k(d,function(d,e){var h,f=d[0],g=a[f];g?(g.endX=c.xMap,g.animate({d:c})):c.length&&(a[f]=a.chart.renderer.path(c).addClass(d[1]).attr({zIndex:1}).add(a.group),h={stroke:d[2],"stroke-width":b.lineWidth,fill:a.fillGraph&&a.color||"none"},d[3]?h.dashstyle=d[3]:"square"!==b.linecap&&(h["stroke-linecap"]=h["stroke-linejoin"]="round"),g=a[f].attr(h).shadow(2>e&&b.shadow)),g&&(g.startX=c.xMap,g.isArea=c.isArea)})},applyZones:function(){var e,f,h,n,o,q,r,s,t,a=this,b=this.chart,c=b.renderer,d=this.zones,g=this.clips||[],i=this.graph,j=this.area,l=Math.max(b.chartWidth,b.chartHeight),m=this[(this.zoneAxis||"y")+"Axis"],p=b.inverted,u=!1;d.length&&(i||j)&&m&&void 0!==m.min&&(o=m.reversed,q=m.horiz,i&&i.hide(),j&&j.hide(),n=m.getExtremes(),k(d,function(d,k){e=o?q?b.plotWidth:0:q?0:m.toPixels(n.min),e=Math.min(Math.max(v(f,e),0),l),f=Math.min(Math.max(Math.round(m.toPixels(v(d.value,n.max),!0)),0),l),u&&(e=f=m.toPixels(n.max)),r=Math.abs(e-f),s=Math.min(e,f),t=Math.max(e,f),m.isXAxis?(h={x:p?t:s,y:0,width:r,height:l},q||(h.x=b.plotHeight-h.x)):(h={x:0,y:p?t:s,width:l,height:r},q&&(h.y=b.plotWidth-h.y)),p&&c.isVML&&(h=m.isXAxis?{x:0,y:o?s:t,height:h.width,width:b.chartWidth}:{x:h.y-b.plotLeft-b.spacingBox.x,y:0,width:h.height,height:b.chartHeight}),g[k]?g[k].animate(h):(g[k]=c.clipRect(h),i&&a["zone-graph-"+k].clip(g[k]),j&&a["zone-area-"+k].clip(g[k])),u=d.value>n.max}),this.clips=g)},invertGroups:function(a){function f(){k(["group","markerGroup"],function(b){c[b]&&(d.renderer.isVML&&c[b].attr({width:c.yAxis.len,height:c.xAxis.len}),c[b].width=c.yAxis.len,c[b].height=c.xAxis.len,c[b].invert(a))})}var e,c=this,d=c.chart;c.xAxis&&(e=b(d,"resize",f),b(c,"destroy",e),f(a),c.invertGroups=f)},plotGroup:function(a,b,c,d,e){var f=this[a],g=!f;return g&&(this[a]=f=this.chart.renderer.g().attr({zIndex:d||.1}).add(e)),f.addClass("highcharts-"+b+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(j(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(f.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),f.attr({visibility:c})[g?"attr":"animate"](this.getPlotBox()),f},getPlotBox:function(){var a=this.chart,b=this.xAxis,c=this.yAxis;return a.inverted&&(b=c,c=this.xAxis),{translateX:b?b.left:a.plotLeft,translateY:c?c.top:a.plotTop,scaleX:1,scaleY:1}},render:function(){var d,a=this,b=a.chart,e=a.options,f=!!a.animate&&b.renderer.isSVG&&c(e.animation).duration,g=a.visible?"inherit":"hidden",h=e.zIndex,i=a.hasRendered,j=b.seriesGroup,k=b.inverted;d=a.plotGroup("group","series",g,h,j),a.markerGroup=a.plotGroup("markerGroup","markers",g,h,j),f&&a.animate(!0),d.inverted=a.isCartesian?k:!1,a.drawGraph&&(a.drawGraph(),a.applyZones()),a.drawDataLabels&&a.drawDataLabels(),a.visible&&a.drawPoints(),a.drawTracker&&a.options.enableMouseTracking!==!1&&a.drawTracker(),a.invertGroups(k),e.clip===!1||a.sharedClipKey||i||d.clip(b.clipRect),f&&a.animate(),i||(a.animationTimeout=A(function(){a.afterAnimate()},f)),a.isDirty=!1,a.hasRendered=!0},redraw:function(){var a=this,b=a.chart,c=a.isDirty||a.isDirtyData,d=a.group,e=a.xAxis,f=a.yAxis;d&&(b.inverted&&d.attr({width:b.plotWidth,height:b.plotHeight}),d.animate({translateX:v(e&&e.left,b.plotLeft),translateY:v(f&&f.top,b.plotTop)})),a.translate(),a.render(),c&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(a,b){var c=this,d=c.xAxis,e=c.yAxis,f=c.chart.inverted;return this.searchKDTree({clientX:f?d.len-a.chartY+d.pos:a.chartX-d.pos,plotY:f?e.len-a.chartX+e.pos:a.chartY-e.pos},b)},buildKDTree:function(){function c(b,d,e){var f,g,h=b&&b.length;return h?(f=a.kdAxisArray[d%e],b.sort(function(a,b){return a[f]-b[f]}),g=Math.floor(h/2),{point:b[g],left:c(b.slice(0,g),d+1,e),right:c(b.slice(g+1),d+1,e)}):void 0}function d(){a.kdTree=c(a.getValidPoints(null,!a.directTouch),b,b),a.buildingKdTree=!1}this.buildingKdTree=!0;var a=this,b=a.options.findNearestPointBy.indexOf("y")>-1?2:1;delete a.kdTree,A(d,a.options.kdNow?0:1)},searchKDTree:function(a,b){function h(a,b){var c=j(a[d])&&j(b[d])?Math.pow(a[d]-b[d],2):null,f=j(a[e])&&j(b[e])?Math.pow(a[e]-b[e],2):null,g=(c||0)+(f||0);b.dist=j(g)?Math.sqrt(g):Number.MAX_VALUE,b.distX=j(c)?Math.sqrt(c):Number.MAX_VALUE}function i(a,b,d,e){var k,l,m,o,p,g=b.point,j=c.kdAxisArray[d%e],n=g;return h(a,g),k=a[j]-g[j],l=0>k?"left":"right",m=0>k?"right":"left",b[l]&&(o=i(a,b[l],d+1,e),n=o[f]<n[f]?o:g),b[m]&&Math.sqrt(k*k)<n[f]&&(p=i(a,b[m],d+1,e),n=p[f]<n[f]?p:n),n}var c=this,d=this.kdAxisArray[0],e=this.kdAxisArray[1],f=b?"distX":"dist",g=c.options.findNearestPointBy.indexOf("y")>-1?2:1;return this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree?i(a,this.kdTree,g,g):void 0}})}(b),function(a){var b=a.Axis,c=a.Chart,d=a.correctFloat,e=a.defined,f=a.destroyObjectProperties,g=a.each,h=a.format,i=a.objectEach,j=a.pick,k=a.Series;a.StackItem=function(a,b,c,d,e){var f=a.chart.inverted;this.axis=a,this.isNegative=c,this.options=b,this.x=d,this.total=null,this.points={},this.stack=e,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:b.align||(f?c?"left":"right":"center"),verticalAlign:b.verticalAlign||(f?"middle":c?"bottom":"top"),y:j(b.y,f?4:c?14:-6),x:j(b.x,f?c?-6:6:0)},this.textAlign=b.textAlign||(f?c?"right":"left":"center")},a.StackItem.prototype={destroy:function(){f(this,this.axis)},render:function(a){var b=this.options,c=b.format,d=c?h(c,this):b.formatter.call(this);this.label?this.label.attr({text:d,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(d,null,null,b.useHTML).css(b.style).attr({align:this.textAlign,rotation:b.rotation,visibility:"hidden"}).add(a)},setOffset:function(a,b){var l,c=this,d=c.axis,e=d.chart,f=d.translate(d.usePercentage?100:c.total,0,0,0,1),g=d.translate(0),h=Math.abs(f-g),i=e.xAxis[0].translate(c.x)+a,j=c.getStackBox(e,c,i,f,b,h),k=c.label;k&&(k.align(c.alignOptions,null,j),l=k.alignAttr,k[c.options.crop===!1||e.isInsidePlot(l.x,l.y)?"show":"hide"](!0))},getStackBox:function(a,b,c,d,e,f){var g=b.axis.reversed,h=a.inverted,i=a.plotHeight,j=b.isNegative&&!g||!b.isNegative&&g;return{x:h?j?d:d-f:c,y:h?i-c-e:j?i-d-f:i-d,width:h?f:e,height:h?e:f}}},c.prototype.getStacks=function(){var a=this;g(a.yAxis,function(a){a.stacks&&a.hasVisibleSeries&&(a.oldStacks=a.stacks)}),g(a.series,function(b){!b.options.stacking||b.visible!==!0&&a.options.chart.ignoreHiddenSeries!==!1||(b.stackKey=b.type+j(b.options.stack,""))})},b.prototype.buildStacks=function(){var d,a=this.series,b=j(this.options.reversedStacks,!0),c=a.length;if(!this.isXAxis){for(this.usePercentage=!1,d=c;d--;)a[b?d:c-d-1].setStackedPoints();for(d=0;c>d;d++)a[d].modifyStacks()}},b.prototype.renderStackTotals=function(){var a=this,b=a.chart,c=b.renderer,d=a.stacks,e=a.stackTotalGroup;e||(a.stackTotalGroup=e=c.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),e.translate(b.plotLeft,b.plotTop),i(d,function(a){i(a,function(a){a.render(e)})})},b.prototype.resetStacks=function(){var a=this,b=a.stacks;a.isXAxis||i(b,function(b){i(b,function(c,d){c.touched<a.stacksTouched?(c.destroy(),delete b[d]):(c.total=null,c.cum=null)})})},b.prototype.cleanStacks=function(){var a;this.isXAxis||(this.oldStacks&&(a=this.stacks=this.oldStacks),i(a,function(a){i(a,function(a){a.cum=a.total})}))},k.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var u,v,w,x,y,z,A,B,C,b=this,c=b.processedXData,f=b.processedYData,g=[],h=f.length,i=b.options,k=i.threshold,l=i.startFromThreshold?k:0,m=i.stack,n=i.stacking,o=b.stackKey,p="-"+o,q=b.negStacks,r=b.yAxis,s=r.stacks,t=r.oldStacks;for(r.stacksTouched+=1,A=0;h>A;A++)B=c[A],C=f[A],u=b.getStackIndicator(u,B,b.index),z=u.key,v=q&&(l?0:k)>C,y=v?p:o,s[y]||(s[y]={}),s[y][B]||(t[y]&&t[y][B]?(s[y][B]=t[y][B],s[y][B].total=null):s[y][B]=new a.StackItem(r,r.options.stackLabels,v,B,m)),w=s[y][B],null!==C&&(w.points[z]=w.points[b.index]=[j(w.cum,l)],e(w.cum)||(w.base=z),w.touched=r.stacksTouched,u.index>0&&b.singleStacks===!1&&(w.points[z][0]=w.points[b.index+","+B+",0"][0])),"percent"===n?(x=v?o:p,q&&s[x]&&s[x][B]?(x=s[x][B],w.total=x.total=Math.max(x.total,w.total)+Math.abs(C)||0):w.total=d(w.total+(Math.abs(C)||0))):w.total=d(w.total+(C||0)),w.cum=j(w.cum,l)+(C||0),null!==C&&(w.points[z].push(w.cum),g[A]=w.cum);"percent"===n&&(r.usePercentage=!0),this.stackedYData=g,r.oldStacks={}}},k.prototype.modifyStacks=function(){var e,a=this,b=a.stackKey,c=a.yAxis.stacks,d=a.processedXData,f=a.options.stacking;a[f+"Stacker"]&&g([b,"-"+b],function(b){for(var h,i,j,g=d.length;g--;)h=d[g],e=a.getStackIndicator(e,h,a.index,b),i=c[b]&&c[b][h],j=i&&i.points[e.key],j&&a[f+"Stacker"](j,i,g)})},k.prototype.percentStacker=function(a,b,c){var e=b.total?100/b.total:0;a[0]=d(a[0]*e),a[1]=d(a[1]*e),this.stackedYData[c]=a[1]},k.prototype.getStackIndicator=function(a,b,c,d){return!e(a)||a.x!==b||d&&a.key!==d?a={x:b,index:0,key:d}:a.index++,a.key=[c,b,a.index].join(","),a}}(b),function(a){var b=a.addEvent,c=a.animate,d=a.Axis,e=a.Chart,f=a.createElement,g=a.css,h=a.defined,i=a.each,j=a.erase,k=a.extend,l=a.fireEvent,m=a.inArray,n=a.isNumber,o=a.isObject,p=a.isArray,q=a.merge,r=a.objectEach,s=a.pick,t=a.Point,u=a.Series,v=a.seriesTypes,w=a.setAnimation,x=a.splat;k(e.prototype,{addSeries:function(a,b,c){var d,e=this;return a&&(b=s(b,!0),l(e,"addSeries",{options:a},function(){d=e.initSeries(a),e.isDirtyLegend=!0,e.linkSeries(),b&&e.redraw(c)})),d},addAxis:function(a,b,c,e){var i,f=b?"xAxis":"yAxis",g=this.options,h=q(a,{index:this[f].length,isX:b});return i=new d(this,h),g[f]=x(g[f]||{}),g[f].push(h),s(c,!0)&&this.redraw(e),i},showLoading:function(a){var d=this,e=d.options,h=d.loadingDiv,i=e.loading,j=function(){h&&g(h,{left:d.plotLeft+"px",top:d.plotTop+"px",width:d.plotWidth+"px",height:d.plotHeight+"px"})};h||(d.loadingDiv=h=f("div",{className:"highcharts-loading highcharts-loading-hidden"},null,d.container),d.loadingSpan=f("span",{className:"highcharts-loading-inner"},null,h),b(d,"redraw",j)),h.className="highcharts-loading",d.loadingSpan.innerHTML=a||e.lang.loading,g(h,k(i.style,{zIndex:10})),g(d.loadingSpan,i.labelStyle),d.loadingShown||(g(h,{opacity:0,display:""}),c(h,{opacity:i.style.opacity||.5},{duration:i.showDuration||0})),d.loadingShown=!0,j()},hideLoading:function(){var a=this.options,b=this.loadingDiv;b&&(b.className="highcharts-loading highcharts-loading-hidden",c(b,{opacity:0},{duration:a.loading.hideDuration||100,complete:function(){g(b,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","tooltip"],update:function(a,b,c){var g,j,k,l,d=this,e={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},f=a.chart,o=[];f&&(q(!0,d.options.chart,f),"className"in f&&d.setClassName(f.className),("inverted"in f||"polar"in f)&&(d.propFromSeries(),g=!0),"alignTicks"in f&&(g=!0),r(f,function(a,b){-1!==m("chart."+b,d.propsRequireUpdateSeries)&&(j=!0),-1!==m(b,d.propsRequireDirtyBox)&&(d.isDirtyBox=!0)}),"style"in f&&d.renderer.setStyle(f.style)),a.colors&&(this.options.colors=a.colors),a.plotOptions&&q(!0,this.options.plotOptions,a.plotOptions),r(a,function(a,b){d[b]&&"function"==typeof d[b].update?d[b].update(a,!1):"function"==typeof d[e[b]]&&d[e[b]](a),"chart"!==b&&-1!==m(b,d.propsRequireUpdateSeries)&&(j=!0)}),i(["xAxis","yAxis","zAxis","series","colorAxis","pane"],function(b){a[b]&&(i(x(a[b]),function(a,e){var f=h(a.id)&&d.get(a.id)||d[b][e];f&&f.coll===b&&(f.update(a,!1),c&&(f.touched=!0)),!f&&c&&("series"===b?d.addSeries(a,!1).touched=!0:("xAxis"===b||"yAxis"===b)&&(d.addAxis(a,"xAxis"===b,!1).touched=!0))}),c&&i(d[b],function(a){a.touched?delete a.touched:o.push(a)}))}),i(o,function(a){a.remove(!1)}),g&&i(d.axes,function(a){a.update({},!1)}),j&&i(d.series,function(a){a.update({},!1)}),a.loading&&q(!0,d.options.loading,a.loading),k=f&&f.width,l=f&&f.height,n(k)&&k!==d.chartWidth||n(l)&&l!==d.chartHeight?d.setSize(k,l):s(b,!0)&&d.redraw()},setSubtitle:function(a){this.setTitle(void 0,a)}}),k(t.prototype,{update:function(a,b,c,d){function k(){e.applyOptions(a),null===e.y&&g&&(e.graphic=g.destroy()),o(a,!0)&&(g&&g.element&&a&&a.marker&&void 0!==a.marker.symbol&&(e.graphic=g.destroy()),a&&a.dataLabels&&e.dataLabel&&(e.dataLabel=e.dataLabel.destroy())),h=e.index,f.updateParallelArrays(e,h),j.data[h]=o(j.data[h],!0)||o(a,!0)?e.options:a,f.isDirty=f.isDirtyData=!0,!f.fixedBox&&f.hasCartesianSeries&&(i.isDirtyBox=!0),"point"===j.legendType&&(i.isDirtyLegend=!0),b&&i.redraw(c)}var h,e=this,f=e.series,g=e.graphic,i=f.chart,j=f.options;b=s(b,!0),d===!1?k():e.firePointEvent("update",{options:a},k)},remove:function(a,b){this.series.removePoint(m(this,this.series.data),a,b)}}),k(u.prototype,{addPoint:function(a,b,c,d){var l,m,o,p,e=this,f=e.options,g=e.data,h=e.chart,i=e.xAxis,j=i&&i.hasNames&&i.names,k=f.data,n=e.xData;if(b=s(b,!0),l={series:e},e.pointClass.prototype.applyOptions.apply(l,[a]),p=l.x,o=n.length,e.requireSorting&&p<n[o-1])for(m=!0;o&&n[o-1]>p;)o--;e.updateParallelArrays(l,"splice",o,0,0),e.updateParallelArrays(l,o),j&&l.name&&(j[p]=l.name),k.splice(o,0,a),m&&(e.data.splice(o,0,null),e.processData()),"point"===f.legendType&&e.generatePoints(),c&&(g[0]&&g[0].remove?g[0].remove(!1):(g.shift(),e.updateParallelArrays(l,"shift"),k.shift())),e.isDirty=!0,e.isDirtyData=!0,b&&h.redraw(d)},removePoint:function(a,b,c){var d=this,e=d.data,f=e[a],g=d.points,h=d.chart,i=function(){g&&g.length===e.length&&g.splice(a,1),e.splice(a,1),d.options.data.splice(a,1),d.updateParallelArrays(f||{series:d},"splice",a,1),f&&f.destroy(),d.isDirty=!0,d.isDirtyData=!0,b&&h.redraw()};w(c,h),b=s(b,!0),f?f.firePointEvent("remove",null,i):i()},remove:function(a,b,c){function f(){d.destroy(),e.isDirtyLegend=e.isDirtyBox=!0,e.linkSeries(),s(a,!0)&&e.redraw(b)}var d=this,e=d.chart;c!==!1?l(d,"remove",null,f):f()},update:function(a,b){var j,c=this,d=c.chart,e=c.userOptions,f=c.oldType||c.type,g=a.type||e.type||d.options.chart.type,h=v[f].prototype,l=["group","markerGroup","dataLabelsGroup"],m=["navigatorSeries","baseSeries"],n=c.finishedAnimating&&{animation:!1};if(Object.keys&&"data"===Object.keys(a).toString())return this.setData(a.data,b);(g&&g!==f||void 0!==a.zIndex)&&(l.length=0),c.options.isInternal&&(m.length=0),m=l.concat(m),i(m,function(a){m[a]=c[a],delete c[a]}),a=q(e,n,{index:c.index,pointStart:c.xData[0]},{data:c.options.data},a),c.remove(!1,null,!1);for(j in h)c[j]=void 0;k(c,v[g||f].prototype),i(m,function(a){c[a]=m[a]}),c.init(d,a),c.oldType=f,d.linkSeries(),s(b,!0)&&d.redraw(!1)}}),k(d.prototype,{update:function(a,b){var c=this.chart;a=c.options[this.coll][this.options.index]=q(this.userOptions,a),this.destroy(!0),this.init(c,k(a,{events:void 0})),c.isDirtyBox=!0,s(b,!0)&&c.redraw()},remove:function(a){for(var b=this.chart,c=this.coll,d=this.series,e=d.length;e--;)d[e]&&d[e].remove(!1);j(b.axes,this),j(b[c],this),p(b.options[c])?b.options[c].splice(this.options.index,1):delete b.options[c],i(b[c],function(a,b){a.options.index=b}),this.destroy(),b.isDirtyBox=!0,s(a,!0)&&b.redraw()},setTitle:function(a,b){this.update({title:a},b)},setCategories:function(a,b){this.update({categories:a},b)}})}(b),function(a){var b=a.color,c=a.each,d=a.LegendSymbolMixin,e=a.map,f=a.pick,g=a.Series,h=a.seriesType;h("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(b){var p,r,d=this,g=[],h=[],i=this.xAxis,j=this.yAxis,k=j.stacks[this.stackKey],l={},m=d.index,n=j.series,o=n.length,q=f(j.options.reversedStacks,!0)?1:-1;if(b=b||this.points,this.options.stacking){for(r=0;r<b.length;r++)l[b[r].x]=b[r];a.objectEach(k,function(a,b){null!==a.total&&h.push(b)}),h.sort(function(a,b){return a-b}),p=e(n,function(){return this.visible}),c(h,function(a,b){var e,f,d=0;if(l[a]&&!l[a].isNull)g.push(l[a]),c([-1,1],function(c){var d=1===c?"rightNull":"leftNull",g=1===c?"rightCliff":"leftCliff",i=0,j=k[h[b+c]];if(j)for(r=m;r>=0&&o>r;)e=j.points[r],e||(r===m?l[a][d]=!0:p[r]&&(f=k[a].points[r],f&&(i-=f[1]-f[0]))),r+=q;l[a][g]=i});else{for(r=m;r>=0&&o>r;){if(e=k[a].points[r]){d=e[1];break}r+=q}d=j.translate(d,0,1,0,1),g.push({isNull:!0,plotX:i.translate(a,0,0,0,1),x:a,plotY:d,yBottom:d})}})}return g},getGraphPath:function(a){var c,i,j,n,o,p,t,u,b=g.prototype.getGraphPath,d=this.options,e=d.stacking,h=this.yAxis,k=[],l=[],m=this.index,q=h.stacks[this.stackKey],r=d.threshold,s=h.getThreshold(d.threshold),v=d.connectNulls||"percent"===e,w=function(b,c,d){var n,o,f=a[b],g=e&&q[f.x].points[m],i=f[d+"Null"]||0,j=f[d+"Cliff"]||0,t=!0;j||i?(n=(i?g[0]:g[1])+j,o=g[0]+j,t=!!i):!e&&a[c]&&a[c].isNull&&(n=o=r),void 0!==n&&(l.push({plotX:p,plotY:null===n?s:h.getThreshold(n),isNull:t,isCliff:!0}),k.push({plotX:p,plotY:null===o?s:h.getThreshold(o),doCurve:!1}))};for(a=a||this.points,e&&(a=this.getStackPoints(a)),n=0;n<a.length;n++)t=a[n].isNull,p=f(a[n].rectPlotX,a[n].plotX),u=f(a[n].yBottom,s),(!t||v)&&(v||w(n,n-1,"left"),t&&!e&&v||(l.push(a[n]),k.push({x:n,plotX:p,plotY:u})),v||w(n,n+1,"right"));return i=b.call(this,l,!0,!0),k.reversed=!0,j=b.call(this,k,!0,!0),j.length&&(j[0]="L"),o=i.concat(j),c=b.call(this,l,!1,v),o.xMap=i.xMap,this.areaPath=o,c},drawGraph:function(){this.areaPath=[],g.prototype.drawGraph.apply(this);var a=this,d=this.areaPath,e=this.options,h=this.zones,i=[["area","highcharts-area",this.color,e.fillColor]];c(h,function(b,c){i.push(["zone-area-"+c,"highcharts-area highcharts-zone-area-"+c+" "+b.className,b.color||a.color,b.fillColor||e.fillColor])}),c(i,function(c){var g=c[0],h=a[g];h?(h.endX=d.xMap,h.animate({d:d})):(h=a[g]=a.chart.renderer.path(d).addClass(c[1]).attr({fill:f(c[3],b(c[2]).setOpacity(f(e.fillOpacity,.75)).get()),zIndex:0}).add(a.group),h.isArea=!0),h.startX=d.xMap,h.shiftUnit=e.step?2:1})},drawLegendSymbol:d.drawRectangle})}(b),function(a){var b=a.pick,c=a.seriesType;c("spline","line",{},{getPointSpline:function(a,c,d){function p(a){return a&&!a.isNull&&a.doCurve!==!1&&!c.isCliff
}var k,l,m,n,o,q,r,s,t,u,e=1.5,f=e+1,g=c.plotX,h=c.plotY,i=a[d-1],j=a[d+1];return p(i)&&p(j)&&(q=i.plotX,r=i.plotY,s=j.plotX,t=j.plotY,u=0,k=(e*g+q)/f,l=(e*h+r)/f,m=(e*g+s)/f,n=(e*h+t)/f,m!==k&&(u=(n-l)*(m-g)/(m-k)+h-n),l+=u,n+=u,l>r&&l>h?(l=Math.max(r,h),n=2*h-l):r>l&&h>l&&(l=Math.min(r,h),n=2*h-l),n>t&&n>h?(n=Math.max(t,h),l=2*h-n):t>n&&h>n&&(n=Math.min(t,h),l=2*h-n),c.rightContX=m,c.rightContY=n),o=["C",b(i.rightContX,i.plotX),b(i.rightContY,i.plotY),b(k,g),b(l,h),g,h],i.rightContX=i.rightContY=null,o}})}(b),function(a){var b=a.seriesTypes.area.prototype,c=a.defaultPlotOptions,d=a.LegendSymbolMixin,e=a.seriesType;e("areaspline","spline",c.area,{getStackPoints:b.getStackPoints,getGraphPath:b.getGraphPath,drawGraph:b.drawGraph,drawLegendSymbol:d.drawRectangle})}(b),function(a){var b=a.animObject,c=a.color,d=a.each,e=a.extend,f=a.isNumber,g=a.LegendSymbolMixin,h=a.merge,i=a.noop,j=a.pick,k=a.Series,l=a.seriesType,m=a.svg;l("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1,shadow:!1},select:{color:"#cccccc",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){k.prototype.init.apply(this,arguments);var a=this,b=a.chart;b.hasRendered&&d(b.series,function(b){b.type===a.type&&(b.isDirty=!0)})},getColumnMetrics:function(){var g,k,l,m,n,o,p,q,r,a=this,b=a.options,c=a.xAxis,e=a.yAxis,f=c.reversed,h={},i=0;return b.grouping===!1?i=1:d(a.chart.series,function(b){var f,c=b.options,d=b.yAxis;b.type!==a.type||!b.visible&&a.chart.options.chart.ignoreHiddenSeries||e.len!==d.len||e.pos!==d.pos||(c.stacking?(g=b.stackKey,void 0===h[g]&&(h[g]=i++),f=h[g]):c.grouping!==!1&&(f=i++),b.columnIndex=f)}),k=Math.min(Math.abs(c.transA)*(c.ordinalSlope||b.pointRange||c.closestPointRange||c.tickInterval||1),c.len),l=k*b.groupPadding,m=k-2*l,n=m/(i||1),o=Math.min(b.maxPointWidth||c.len,j(b.pointWidth,n*(1-2*b.pointPadding))),p=(n-o)/2,q=(a.columnIndex||0)+(f?1:0),r=p+(l+q*n-k/2)*(f?-1:1),a.columnMetrics={width:o,offset:r},a.columnMetrics},crispCol:function(a,b,c,d){var i,j,k,e=this.chart,f=this.borderWidth,g=-(f%2?.5:0),h=f%2?.5:1;return e.inverted&&e.renderer.isVML&&(h+=1),this.options.crisp&&(i=Math.round(a+c)+g,a=Math.round(a)+g,c=i-a),j=Math.round(b+d)+h,k=Math.abs(b)<=.5&&j>.5,b=Math.round(b)+h,d=j-b,k&&d&&(b-=1,d+=1),{x:a,y:b,width:c,height:d}},translate:function(){var a=this,b=a.chart,c=a.options,e=a.dense=a.closestPointRange*a.xAxis.transA<2,f=a.borderWidth=j(c.borderWidth,e?0:1),g=a.yAxis,h=c.threshold,i=a.translatedThreshold=g.getThreshold(h),l=j(c.minPointLength,5),m=a.getColumnMetrics(),n=m.width,o=a.barW=Math.max(n,1+2*f),p=a.pointXOffset=m.offset;b.inverted&&(i-=.5),c.pointPadding&&(o=Math.ceil(o)),k.prototype.translate.apply(a),d(a.points,function(c){var q,d=j(c.yBottom,i),e=999+Math.abs(d),f=Math.min(Math.max(-e,c.plotY),g.len+e),h=c.plotX+p,k=o,m=Math.min(f,d),r=Math.max(f,d)-m;l&&Math.abs(r)<l&&(r=l,q=!g.reversed&&!c.negative||g.reversed&&c.negative,0===c.y&&a.dataMax<=0&&(q=!q),m=Math.abs(m-i)>l?d-l:i-(q?l:0)),c.barX=h,c.pointWidth=n,c.tooltipPos=b.inverted?[g.len+g.pos-b.plotLeft-f,a.xAxis.len-h-k/2,r]:[h+k/2,f+g.pos-b.plotTop,r],c.shapeType="rect",c.shapeArgs=a.crispCol.apply(a,c.isNull?[h,i,k,0]:[h,m,k,r])})},getSymbol:i,drawLegendSymbol:g.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(a,b){var e,f,o,p,d=this.options,g=this.pointAttrToOptions||{},i=g.stroke||"borderColor",j=g["stroke-width"]||"borderWidth",k=a&&a.color||this.color,l=a&&a[i]||d[i]||this.color||k,m=a&&a[j]||d[j]||this[j]||0,n=d.dashStyle;return a&&this.zones.length&&(o=a.getZone(),k=a.options.color||o&&o.color||this.color),b&&(e=h(d.states[b],a.options.states&&a.options.states[b]||{}),p=e.brightness,k=e.color||void 0!==p&&c(k).brighten(e.brightness).get()||k,l=e[i]||l,m=e[j]||m,n=e.dashStyle||n),f={fill:k,stroke:l,"stroke-width":m},n&&(f.dashstyle=n),f},drawPoints:function(){var i,a=this,b=this.chart,c=a.options,e=b.renderer,g=c.animationLimit||250;d(a.points,function(d){var j=d.plotY,k=d.graphic;f(j)&&null!==d.y?(i=d.shapeArgs,k?k[b.pointCount<g?"animate":"attr"](h(i)):d.graphic=k=e[d.shapeType](i).add(d.group||a.group),c.borderRadius&&k.attr({r:c.borderRadius}),k.attr(a.pointAttribs(d,d.selected&&"select")).shadow(c.shadow,null,c.stacking&&!c.borderRadius),k.addClass(d.getClassName(),!0)):k&&(d.graphic=k.destroy())})},animate:function(a){var j,k,c=this,d=this.yAxis,f=c.options,g=this.chart.inverted,h={},i=g?"translateX":"translateY";m&&(a?(h.scaleY=.001,k=Math.min(d.pos+d.len,Math.max(d.pos,d.toPixels(f.threshold))),g?h.translateX=k-d.len:h.translateY=k,c.group.attr(h)):(j=c.group.attr(i),c.group.animate({scaleY:1},e(b(c.options.animation),{step:function(a,b){h[i]=j+b.pos*(d.pos-j),c.group.attr(h)}})),c.animate=null))},remove:function(){var a=this,b=a.chart;b.hasRendered&&d(b.series,function(b){b.type===a.type&&(b.isDirty=!0)}),k.prototype.remove.apply(a,arguments)}})}(b),function(a){var b=a.seriesType;b("bar","column",null,{inverted:!0})}(b),function(a){var b=a.Series,c=a.seriesType;c("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&b.prototype.drawGraph.call(this)}})}(b),function(a){var b=a.deg2rad,c=a.isNumber,d=a.pick,e=a.relativeLength;a.CenteredSeriesMixin={getCenter:function(){var f,l,m,a=this.options,b=this.chart,c=2*(a.slicedOffset||0),g=b.plotWidth-2*c,h=b.plotHeight-2*c,i=a.center,j=[d(i[0],"50%"),d(i[1],"50%"),a.size||"100%",a.innerSize||0],k=Math.min(g,h);for(l=0;4>l;++l)m=j[l],f=2>l||2===l&&/%$/.test(m),j[l]=e(m,[g,h,k,j[2]][l])+(f?c:0);return j[3]>j[2]&&(j[3]=j[2]),j},getStartAndEndRadians:function(a,d){var e=c(a)?a:0,f=c(d)&&d>e&&360>d-e?d:e+360,g=-90;return{start:b*(e+g),end:b*(f+g)}}}}(b),function(a){var b=a.addEvent,c=a.CenteredSeriesMixin,d=a.defined,e=a.each,f=a.extend,g=c.getStartAndEndRadians,h=a.inArray,i=a.LegendSymbolMixin,j=a.noop,k=a.pick,l=a.Point,m=a.Series,n=a.seriesType,o=a.seriesTypes,p=a.setAnimation;n("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1,shadow:!1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:o.column.prototype.pointAttribs,animate:function(a){var b=this,c=b.points,d=b.startAngleRad;a||(e(c,function(a){var c=a.graphic,e=a.shapeArgs;c&&(c.attr({r:a.startR||b.center[3]/2,start:d,end:d}),c.animate({r:e.r,start:e.start,end:e.end},b.options.animation))}),b.animate=null)},updateTotals:function(){var a,e,b=0,c=this.points,d=c.length,f=this.options.ignoreHiddenPoint;for(a=0;d>a;a++)e=c[a],b+=f&&!e.visible?0:e.isNull?0:e.y;for(this.total=b,a=0;d>a;a++)e=c[a],e.percentage=b>0&&(e.visible||!f)?100*(e.y/b):0,e.total=b},generatePoints:function(){m.prototype.generatePoints.call(this),this.updateTotals()},translate:function(a){this.generatePoints();var i,j,l,m,s,t,w,y,b=this,c=0,d=1e3,e=b.options,f=e.slicedOffset,h=f+(e.borderWidth||0),n=g(e.startAngle,e.endAngle),o=b.startAngleRad=n.start,p=b.endAngleRad=n.end,q=p-o,r=b.points,u=e.dataLabels.distance,v=e.ignoreHiddenPoint,x=r.length;for(a||(b.center=a=b.getCenter()),b.getX=function(b,c,d){return m=Math.asin(Math.min((b-a[1])/(a[2]/2+d.labelDistance),1)),a[0]+(c?-1:1)*Math.cos(m)*(a[2]/2+d.labelDistance)},w=0;x>w;w++)y=r[w],y.labelDistance=k(y.options.dataLabels&&y.options.dataLabels.distance,u),b.maxLabelDistance=Math.max(b.maxLabelDistance||0,y.labelDistance),j=o+c*q,(!v||y.visible)&&(c+=y.percentage/100),l=o+c*q,y.shapeType="arc",y.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:Math.round(j*d)/d,end:Math.round(l*d)/d},m=(l+j)/2,m>1.5*Math.PI?m-=2*Math.PI:m<-Math.PI/2&&(m+=2*Math.PI),y.slicedTranslation={translateX:Math.round(Math.cos(m)*f),translateY:Math.round(Math.sin(m)*f)},s=Math.cos(m)*a[2]/2,t=Math.sin(m)*a[2]/2,y.tooltipPos=[a[0]+.7*s,a[1]+.7*t],y.half=m<-Math.PI/2||m>Math.PI/2?1:0,y.angle=m,i=Math.min(h,y.labelDistance/5),y.labelPos=[a[0]+s+Math.cos(m)*y.labelDistance,a[1]+t+Math.sin(m)*y.labelDistance,a[0]+s+Math.cos(m)*i,a[1]+t+Math.sin(m)*i,a[0]+s,a[1]+t,y.labelDistance<0?"center":y.half?"right":"left",m]},drawGraph:null,drawPoints:function(){var d,g,h,i,a=this,b=a.chart,c=b.renderer,j=a.options.shadow;j&&!a.shadowGroup&&(a.shadowGroup=c.g("shadow").add(a.group)),e(a.points,function(b){if(g=b.graphic,b.isNull)g&&(b.graphic=g.destroy());else{i=b.shapeArgs,d=b.getTranslate();var e=b.shadowGroup;j&&!e&&(e=b.shadowGroup=c.g("shadow").add(a.shadowGroup)),e&&e.attr(d),h=a.pointAttribs(b,b.selected&&"select"),g?g.setRadialReference(a.center).attr(h).animate(f(i,d)):(b.graphic=g=c[b.shapeType](i).setRadialReference(a.center).attr(d).add(a.group),b.visible||g.attr({visibility:"hidden"}),g.attr(h).attr({"stroke-linejoin":"round"}).shadow(j,e)),g.addClass(b.getClassName())}})},searchPoint:j,sortByAngle:function(a,b){a.sort(function(a,c){return void 0!==a.angle&&(c.angle-a.angle)*b})},drawLegendSymbol:i.drawRectangle,getCenter:c.getCenter,getSymbol:j},{init:function(){l.prototype.init.apply(this,arguments);var c,a=this;return a.name=k(a.name,"Slice"),c=function(b){a.slice("select"===b.type)},b(a,"select",c),b(a,"unselect",c),a},isValid:function(){return a.isNumber(this.y,!0)&&this.y>=0},setVisible:function(a,b){var c=this,d=c.series,f=d.chart,g=d.options.ignoreHiddenPoint;b=k(b,g),a!==c.visible&&(c.visible=c.options.visible=a=void 0===a?!c.visible:a,d.options.data[h(c,d.data)]=c.options,e(["graphic","dataLabel","connector","shadowGroup"],function(b){c[b]&&c[b][a?"show":"hide"](!0)}),c.legendItem&&f.legend.colorizeItem(c,a),a||"hover"!==c.state||c.setState(""),g&&(d.isDirty=!0),b&&f.redraw())},slice:function(a,b,c){var e=this,f=e.series,g=f.chart;p(c,g),b=k(b,!0),e.sliced=e.options.sliced=a=d(a)?a:!e.sliced,f.options.data[h(e,f.data)]=e.options,e.graphic.animate(this.getTranslate()),e.shadowGroup&&e.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(a){var b=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(b.x,b.y,b.r+a,b.r+a,{innerR:this.shapeArgs.r,start:b.start,end:b.end})}})}(b),function(a){var b=a.addEvent,c=a.arrayMax,d=a.defined,e=a.each,f=a.extend,g=a.format,h=a.map,i=a.merge,j=a.noop,k=a.pick,l=a.relativeLength,m=a.Series,n=a.seriesTypes,o=a.stableSort;a.distribute=function(a,b){function l(a,b){return a.target-b.target}var c,i,j,d=!0,f=a,g=[],k=0;for(c=a.length;c--;)k+=a[c].size;if(k>b){for(o(a,function(a,b){return(b.rank||0)-(a.rank||0)}),c=0,k=0;b>=k;)k+=a[c].size,c++;g=a.splice(c-1,a.length)}for(o(a,l),a=h(a,function(a){return{size:a.size,targets:[a.target]}});d;){for(c=a.length;c--;)i=a[c],j=(Math.min.apply(0,i.targets)+Math.max.apply(0,i.targets))/2,i.pos=Math.min(Math.max(0,j-i.size/2),b-i.size);for(c=a.length,d=!1;c--;)c>0&&a[c-1].pos+a[c-1].size>a[c].pos&&(a[c-1].size+=a[c].size,a[c-1].targets=a[c-1].targets.concat(a[c].targets),a[c-1].pos+a[c-1].size>b&&(a[c-1].pos=b-a[c-1].size),a.splice(c,1),d=!0)}c=0,e(a,function(a){var b=0;e(a.targets,function(){f[c].pos=a.pos+b,b+=f[c].size,c++})}),f.push.apply(f,g),o(f,l)},m.prototype.drawDataLabels=function(){var l,m,o,p,c=this,f=c.options,h=f.dataLabels,j=c.points,n=c.hasRendered||0,q=k(h.defer,!!f.animation),r=c.chart.renderer;(h.enabled||c._hasPointLabels)&&(c.dlProcessOptions&&c.dlProcessOptions(h),p=c.plotGroup("dataLabelsGroup","data-labels",q&&!n?"hidden":"visible",h.zIndex||6),q&&(p.attr({opacity:+n}),n||b(c,"afterAnimate",function(){c.visible&&p.show(!0),p[f.animation?"animate":"attr"]({opacity:1},{duration:200})})),m=h,e(j,function(b){var e,n,q,s,v,w,j=b.dataLabel,t=b.connector,u=!j;l=b.dlOptions||b.options&&b.options.dataLabels,e=k(l&&l.enabled,m.enabled)&&!b.isNull,e&&(h=i(m,l),n=b.getLabelConfig(),w=h[b.formatPrefix+"Format"]||h.format,o=d(w)?g(w,n):h.formatter.call(n,h),v=h.style,s=h.rotation,v.color=k(h.color,v.color,c.color,"#000000"),"contrast"===v.color&&(b.contrastColor=r.getContrast(b.color||c.color),v.color=h.inside||k(b.labelDistance,h.distance)<0||f.stacking?b.contrastColor:"#000000"),f.cursor&&(v.cursor=f.cursor),q={fill:h.backgroundColor,stroke:h.borderColor,"stroke-width":h.borderWidth,r:h.borderRadius||0,rotation:s,padding:h.padding,zIndex:1},a.objectEach(q,function(a,b){void 0===a&&delete q[b]})),!j||e&&d(o)?e&&d(o)&&(j?q.text=o:(j=b.dataLabel=r[s?"text":"label"](o,0,-9999,h.shape,null,null,h.useHTML,null,"data-label"),j.addClass("highcharts-data-label-color-"+b.colorIndex+" "+(h.className||"")+(h.useHTML?"highcharts-tracker":""))),j.attr(q),j.css(v).shadow(h.shadow),j.added||j.add(p),c.alignDataLabel(b,j,h,null,u)):(b.dataLabel=j=j.destroy(),t&&(b.connector=t.destroy()))}))},m.prototype.alignDataLabel=function(a,b,c,d,e){var m,n,p,q,s,u,g=this.chart,h=g.inverted,i=k(a.plotX,-9999),j=k(a.plotY,-9999),l=b.getBBox(),o=c.rotation,r=c.align,t=this.visible&&(a.series.forceDL||g.isInsidePlot(i,Math.round(j),h)||d&&g.isInsidePlot(i,h?d.x+1:d.y+d.height-1,h)),v="justify"===k(c.overflow,"justify");t&&(m=c.style.fontSize,n=g.renderer.fontMetrics(m,b).b,d=f({x:h?this.yAxis.len-j:i,y:Math.round(h?this.xAxis.len-i:j),width:0,height:0},d),f(c,{width:l.width,height:l.height}),o?(v=!1,s=g.renderer.rotCorr(n,o),u={x:d.x+c.x+d.width/2+s.x,y:d.y+c.y+{top:0,middle:.5,bottom:1}[c.verticalAlign]*d.height},b[e?"attr":"animate"](u).attr({align:r}),p=(o+720)%360,q=p>180&&360>p,"left"===r?u.y-=q?l.height:0:"center"===r?(u.x-=l.width/2,u.y-=l.height/2):"right"===r&&(u.x-=l.width,u.y-=q?0:l.height)):(b.align(c,null,d),u=b.alignAttr),v?a.isLabelJustified=this.justifyDataLabel(b,c,u,l,d,e):k(c.crop,!0)&&(t=g.isInsidePlot(u.x,u.y)&&g.isInsidePlot(u.x+l.width,u.y+l.height)),c.shape&&!o&&b[e?"attr":"animate"]({anchorX:h?g.plotWidth-a.plotY:a.plotX,anchorY:h?g.plotHeight-a.plotX:a.plotY})),t||(b.attr({y:-9999}),b.placed=!1)},m.prototype.justifyDataLabel=function(a,b,c,d,e,f){var j,k,g=this.chart,h=b.align,i=b.verticalAlign,l=a.box?0:a.padding||0;return j=c.x+l,0>j&&("right"===h?b.align="left":b.x=-j,k=!0),j=c.x+d.width-l,j>g.plotWidth&&("left"===h?b.align="right":b.x=g.plotWidth-j,k=!0),j=c.y+l,0>j&&("bottom"===i?b.verticalAlign="top":b.y=-j,k=!0),j=c.y+d.height-l,j>g.plotHeight&&("top"===i?b.verticalAlign="bottom":b.y=g.plotHeight-j,k=!0),k&&(a.placed=!f,a.align(b,null,e)),k},n.pie&&(n.pie.prototype.drawDataLabels=function(){var g,p,t,u,v,w,y,z,A,B,b=this,f=b.data,h=b.chart,i=b.options.dataLabels,j=k(i.connectorPadding,10),l=k(i.connectorWidth,1),n=h.plotWidth,o=h.plotHeight,q=b.center,r=q[2]/2,s=q[1],x=[[],[]],C=[0,0,0,0];b.visible&&(i.enabled||b._hasPointLabels)&&(e(f,function(a){a.dataLabel&&a.visible&&a.dataLabel.shortened&&(a.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),a.dataLabel.shortened=!1)}),m.prototype.drawDataLabels.apply(b),e(f,function(a){a.dataLabel&&a.visible&&(x[a.half].push(a),a.dataLabel._pos=null)}),e(x,function(c,f){var l,m,D,E,F,G,p=c.length,x=[];if(p)for(b.sortByAngle(c,f-.5),b.maxLabelDistance>0&&(l=Math.max(0,s-r-b.maxLabelDistance),m=Math.min(s+r+b.maxLabelDistance,h.plotHeight),e(c,function(a){a.labelDistance>0&&a.dataLabel&&(a.top=Math.max(0,s-r-a.labelDistance),a.bottom=Math.min(s+r+a.labelDistance,h.plotHeight),G=a.dataLabel.getBBox().height||21,a.positionsIndex=x.push({target:a.labelPos[1]-a.top+G/2,size:G,rank:a.y})-1)}),a.distribute(x,m+G-l)),B=0;p>B;B++)g=c[B],F=g.positionsIndex,v=g.labelPos,t=g.dataLabel,A=g.visible===!1?"hidden":"inherit",D=v[1],z=D,x&&d(x[F])&&(void 0===x[F].pos?A="hidden":(w=x[F].size,z=g.top+x[F].pos)),delete g.positionIndex,y=i.justify?q[0]+(f?-1:1)*(r+g.labelDistance):b.getX(z<g.top+2||z>g.bottom-2?D:z,f,g),t._attr={visibility:A,align:v[6]},t._pos={x:y+i.x+({left:j,right:-j}[v[6]]||0),y:z+i.y-10},v.x=y,v.y=z,k(i.crop,!0)&&(u=t.getBBox().width,E=null,j>y-u?(E=Math.round(u-y+j),C[3]=Math.max(E,C[3])):y+u>n-j&&(E=Math.round(y+u-n+j),C[1]=Math.max(E,C[1])),0>z-w/2?C[0]=Math.max(Math.round(-z+w/2),C[0]):z+w/2>o&&(C[2]=Math.max(Math.round(z+w/2-o),C[2])),t.sideOverflow=E)}),(0===c(C)||this.verifyDataLabelOverflow(C))&&(this.placeDataLabels(),l&&e(this.points,function(a){var c;p=a.connector,t=a.dataLabel,t&&t._pos&&a.visible&&a.labelDistance>0?(A=t._attr.visibility,c=!p,c&&(a.connector=p=h.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+a.colorIndex).add(b.dataLabelsGroup),p.attr({"stroke-width":l,stroke:i.connectorColor||a.color||"#666666"})),p[c?"attr":"animate"]({d:b.connectorPath(a.labelPos)}),p.attr("visibility",A)):p&&(a.connector=p.destroy())})))},n.pie.prototype.connectorPath=function(a){var b=a.x,c=a.y;return k(this.options.dataLabels.softConnector,!0)?["M",b+("left"===a[6]?5:-5),c,"C",b,c,2*a[2]-a[4],2*a[3]-a[5],a[2],a[3],"L",a[4],a[5]]:["M",b+("left"===a[6]?5:-5),c,"L",a[2],a[3],"L",a[4],a[5]]},n.pie.prototype.placeDataLabels=function(){e(this.points,function(a){var c,b=a.dataLabel;b&&a.visible&&(c=b._pos,c?(b.sideOverflow&&(b._attr.width=b.getBBox().width-b.sideOverflow,b.css({width:b._attr.width+"px",textOverflow:"ellipsis"}),b.shortened=!0),b.attr(b._attr),b[b.moved?"animate":"attr"](c),b.moved=!0):b&&b.attr({y:-9999}))},this)},n.pie.prototype.alignDataLabel=j,n.pie.prototype.verifyDataLabelOverflow=function(a){var b=this.center,c=this.options,d=c.center,e=c.minSize||80,f=e,g=null!==c.size;return g||(null!==d[0]?f=Math.max(b[2]-Math.max(a[1],a[3]),e):(f=Math.max(b[2]-a[1]-a[3],e),b[0]+=(a[3]-a[1])/2),null!==d[1]?f=Math.max(Math.min(f,b[2]-Math.max(a[0],a[2])),e):(f=Math.max(Math.min(f,b[2]-a[0]-a[2]),e),b[1]+=(a[0]-a[2])/2),f<b[2]?(b[2]=f,b[3]=Math.min(l(c.innerSize||0,f),f),this.translate(b),this.drawDataLabels&&this.drawDataLabels()):g=!0),g}),n.column&&(n.column.prototype.alignDataLabel=function(a,b,c,d,e){var n,f=this.chart.inverted,g=a.series,h=a.dlBox||a.shapeArgs,j=k(a.below,a.plotY>k(this.translatedThreshold,g.yAxis.len)),l=k(c.inside,!!this.options.stacking);h&&(d=i(h),d.y<0&&(d.height+=d.y,d.y=0),n=d.y+d.height-g.yAxis.len,n>0&&(d.height-=n),f&&(d={x:g.yAxis.len-d.y-d.height,y:g.xAxis.len-d.x-d.width,width:d.height,height:d.width}),l||(f?(d.x+=j?0:d.width,d.width=0):(d.y+=j?d.height:0,d.height=0))),c.align=k(c.align,!f||l?"center":j?"right":"left"),c.verticalAlign=k(c.verticalAlign,f||l?"middle":j?"top":"bottom"),m.prototype.alignDataLabel.call(this,a,b,c,d,e),a.isLabelJustified&&a.contrastColor&&a.dataLabel.css({color:a.contrastColor})})}(b),function(a){var b=a.Chart,c=a.each,d=a.objectEach,e=a.pick,f=a.addEvent;b.prototype.callbacks.push(function(a){function b(){var b=[];c(a.labelCollectors||[],function(a){b=b.concat(a())}),c(a.yAxis||[],function(a){a.options.stackLabels&&!a.options.stackLabels.allowOverlap&&d(a.stacks,function(a){d(a,function(a){b.push(a.label)})})}),c(a.series||[],function(a){var d=a.options.dataLabels,f=a.dataLabelCollections||["dataLabel"];(d.enabled||a._hasPointLabels)&&!d.allowOverlap&&a.visible&&c(f,function(d){c(a.points,function(a){a[d]&&(a[d].labelrank=e(a.labelrank,a.shapeArgs&&a.shapeArgs.height),b.push(a[d]))})})}),a.hideOverlappingLabels(b)}f(a,"render",b)}),b.prototype.hideOverlappingLabels=function(a){var d,e,f,g,h,i,j,k,l,m,n,o,b=a.length,p=function(a,b,c,d,e,f,g,h){return!(e>a+c||a>e+g||f>b+d||b>f+h)};for(e=0;b>e;e++)d=a[e],d&&(d.oldOpacity=d.opacity,d.newOpacity=1,d.width||(o=d.getBBox(),d.width=o.width,d.height=o.height));for(a.sort(function(a,b){return(b.labelrank||0)-(a.labelrank||0)}),e=0;b>e;e++)for(g=a[e],f=e+1;b>f;++f)h=a[f],g&&h&&g!==h&&g.placed&&h.placed&&0!==g.newOpacity&&0!==h.newOpacity&&(j=g.alignAttr,k=h.alignAttr,l=g.parentGroup,m=h.parentGroup,n=2*(g.box?0:g.padding||0),i=p(j.x+l.translateX,j.y+l.translateY,g.width-n,g.height-n,k.x+m.translateX,k.y+m.translateY,h.width-n,h.height-n),i&&((g.labelrank<h.labelrank?g:h).newOpacity=0));c(a,function(a){var b,c;a&&(c=a.newOpacity,a.oldOpacity!==c&&a.placed&&(c?a.show(!0):b=function(){a.hide()},a.alignAttr.opacity=c,a[a.isOld?"animate":"attr"](a.alignAttr,null,b)),a.isOld=!0)})}}(b),function(a){var u,b=a.addEvent,c=a.Chart,d=a.createElement,e=a.css,f=a.defaultOptions,g=a.defaultPlotOptions,h=a.each,i=a.extend,j=a.fireEvent,k=a.hasTouch,l=a.inArray,m=a.isObject,n=a.Legend,o=a.merge,p=a.pick,q=a.Point,r=a.Series,s=a.seriesTypes,t=a.svg;u=a.TrackerMixin={drawTrackerPoint:function(){var a=this,b=a.chart,c=b.pointer,d=function(a){var b=c.getPointFromEvent(a);void 0!==b&&(c.isDirectTouch=!0,b.onMouseOver(a))};h(a.points,function(a){a.graphic&&(a.graphic.element.point=a),a.dataLabel&&(a.dataLabel.div?a.dataLabel.div.point=a:a.dataLabel.element.point=a)}),a._hasTracking||(h(a.trackerGroups,function(b){a[b]&&(a[b].addClass("highcharts-tracker").on("mouseover",d).on("mouseout",function(a){c.onTrackerMouseOut(a)}),k&&a[b].on("touchstart",d),a.options.cursor&&a[b].css(e).css({cursor:a.options.cursor}))}),a._hasTracking=!0)},drawTrackerGraph:function(){var m,a=this,b=a.options,c=b.trackByArea,d=[].concat(c?a.areaPath:a.graphPath),e=d.length,f=a.chart,g=f.pointer,i=f.renderer,j=f.options.tooltip.snap,l=a.tracker,n=function(){f.hoverSeries!==a&&a.onMouseOver()},o="rgba(192,192,192,"+(t?1e-4:.002)+")";if(e&&!c)for(m=e+1;m--;)"M"===d[m]&&d.splice(m+1,0,d[m+1]-j,d[m+2],"L"),(m&&"M"===d[m]||m===e)&&d.splice(m,0,"L",d[m-2]+j,d[m-1]);l?l.attr({d:d}):a.graph&&(a.tracker=i.path(d).attr({"stroke-linejoin":"round",visibility:a.visible?"visible":"hidden",stroke:o,fill:c?o:"none","stroke-width":a.graph.strokeWidth()+(c?0:2*j),zIndex:2}).add(a.group),h([a.tracker,a.markerGroup],function(a){a.addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(a){g.onTrackerMouseOut(a)}),b.cursor&&a.css({cursor:b.cursor}),k&&a.on("touchstart",n)}))}},s.column&&(s.column.prototype.drawTracker=u.drawTrackerPoint),s.pie&&(s.pie.prototype.drawTracker=u.drawTrackerPoint),s.scatter&&(s.scatter.prototype.drawTracker=u.drawTrackerPoint),i(n.prototype,{setItemEvents:function(a,b,c){var d=this,e=d.chart.renderer.boxWrapper,f="highcharts-legend-"+(a.series?"point":"series")+"-active";(c?b:a.legendGroup).on("mouseover",function(){a.setState("hover"),e.addClass(f),b.css(d.options.itemHoverStyle)}).on("mouseout",function(){b.css(o(a.visible?d.itemStyle:d.itemHiddenStyle)),e.removeClass(f),a.setState()}).on("click",function(b){var c="legendItemClick",d=function(){a.setVisible&&a.setVisible()};b={browserEvent:b},a.firePointEvent?a.firePointEvent(c,b,d):j(a,c,b,d)})},createCheckboxForItem:function(a){var c=this;a.checkbox=d("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},c.options.itemCheckboxStyle,c.chart.container),b(a.checkbox,"click",function(b){var c=b.target;j(a.series||a,"checkboxClick",{checked:c.checked,item:a},function(){a.select()})})}}),f.legend.itemStyle.cursor="pointer",i(c.prototype,{showResetZoom:function(){function h(){a.zoomOut()}var a=this,b=f.lang,c=a.options.chart.resetZoomButton,d=c.theme,e=d.states,g="chart"===c.relativeTo?null:"plotBox";this.resetZoomButton=a.renderer.button(b.resetZoom,null,null,h,d,e&&e.hover).attr({align:c.position.align,title:b.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(c.position,!1,g)},zoomOut:function(){var a=this;j(a,"selection",{resetSelection:!0},function(){a.zoom()})},zoom:function(a){var c,f,b=this,d=b.pointer,e=!1;!a||a.resetSelection?(h(b.axes,function(a){c=a.zoom()}),d.initiated=!1):h(a.xAxis.concat(a.yAxis),function(a){var b=a.axis,f=b.isXAxis;d[f?"zoomX":"zoomY"]&&(c=b.zoom(a.min,a.max),b.displayBtn&&(e=!0))}),f=b.resetZoomButton,e&&!f?b.showResetZoom():!e&&m(f)&&(b.resetZoomButton=f.destroy()),c&&b.redraw(p(b.options.chart.animation,a&&a.animation,b.pointCount<100))},pan:function(a,b){var f,c=this,d=c.hoverPoints;d&&h(d,function(a){a.setState()}),h("xy"===b?[1,0]:[1],function(b){var s,d=c[b?"xAxis":"yAxis"][0],e=d.horiz,g=a[e?"chartX":"chartY"],h=e?"mouseDownX":"mouseDownY",i=c[h],j=(d.pointRange||0)/2,k=d.getExtremes(),l=d.toValue(i-g,!0)+j,m=d.toValue(i+d.len-g,!0)-j,n=l>m,o=n?m:l,p=n?l:m,q=Math.min(k.dataMin,d.toValue(d.toPixels(k.min)-d.minPixelPadding)),r=Math.max(k.dataMax,d.toValue(d.toPixels(k.max)+d.minPixelPadding));s=q-o,s>0&&(p+=s,o=q),s=p-r,s>0&&(p=r,o-=s),d.series.length&&o!==k.min&&p!==k.max&&(d.setExtremes(o,p,!1,!1,{trigger:"pan"}),f=!0),c[h]=g}),f&&c.redraw(!1),e(c.container,{cursor:"move"})}}),i(q.prototype,{select:function(a,b){var c=this,d=c.series,e=d.chart;a=p(a,!c.selected),c.firePointEvent(a?"select":"unselect",{accumulate:b},function(){c.selected=c.options.selected=a,d.options.data[l(c,d.data)]=c.options,c.setState(a&&"select"),b||h(e.getSelectedPoints(),function(a){a.selected&&a!==c&&(a.selected=a.options.selected=!1,d.options.data[l(a,d.data)]=a.options,a.setState(""),a.firePointEvent("unselect"))})})},onMouseOver:function(a){var b=this,c=b.series,d=c.chart,e=d.pointer;a=a?e.normalize(a):e.getChartCoordinatesFromPoint(b,d.inverted),e.runPointActions(a,b)},onMouseOut:function(){var a=this,b=a.series.chart;a.firePointEvent("mouseOut"),h(b.hoverPoints||[],function(a){a.setState()}),b.hoverPoints=b.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var c=this,d=o(c.series.options.point,c.options),e=d.events;c.events=e,a.objectEach(e,function(a,d){b(c,d,a)}),this.hasImportedEvents=!0}},setState:function(a,b){var s,t,v,c=this,d=Math.floor(c.plotX),e=c.plotY,f=c.series,h=f.options.states[a]||{},j=g[f.type].marker&&f.options.marker,k=j&&j.enabled===!1,l=j&&j.states&&j.states[a]||{},m=l.enabled===!1,n=f.stateMarkerGraphic,o=c.marker||{},q=f.chart,r=f.halo,u=j&&f.markerAttribs;a=a||"",a===c.state&&!b||c.selected&&"select"!==a||h.enabled===!1||a&&(m||k&&l.enabled===!1)||a&&o.states&&o.states[a]&&o.states[a].enabled===!1||(u&&(t=f.markerAttribs(c,a)),c.graphic?(c.state&&c.graphic.removeClass("highcharts-point-"+c.state),a&&c.graphic.addClass("highcharts-point-"+a),c.graphic.animate(f.pointAttribs(c,a),p(q.options.chart.animation,h.animation)),t&&c.graphic.animate(t,p(q.options.chart.animation,l.animation,j.animation)),n&&n.hide()):(a&&l&&(v=o.symbol||f.symbol,n&&n.currentSymbol!==v&&(n=n.destroy()),n?n[b?"animate":"attr"]({x:t.x,y:t.y}):v&&(f.stateMarkerGraphic=n=q.renderer.symbol(v,t.x,t.y,t.width,t.height).add(f.markerGroup),n.currentSymbol=v),n&&n.attr(f.pointAttribs(c,a))),n&&(n[a&&q.isInsidePlot(d,e,q.inverted)?"show":"hide"](),n.element.point=c)),s=h.halo,s&&s.size?(r||(f.halo=r=q.renderer.path().add((c.graphic||n).parentGroup)),r[b?"animate":"attr"]({d:c.haloPath(s.size)}),r.attr({"class":"highcharts-halo highcharts-color-"+p(c.colorIndex,f.colorIndex)}),r.point=c,r.attr(i({fill:c.color||f.color,"fill-opacity":s.opacity,zIndex:-1},s.attributes))):r&&r.point&&r.point.haloPath&&r.animate({d:r.point.haloPath(0)}),c.state=a)},haloPath:function(a){var b=this.series,c=b.chart;return c.renderer.symbols.circle(Math.floor(this.plotX)-a,this.plotY-a,2*a,2*a)}}),i(r.prototype,{onMouseOver:function(){var a=this,b=a.chart,c=b.hoverSeries;c&&c!==a&&c.onMouseOut(),a.options.events.mouseOver&&j(a,"mouseOver"),a.setState("hover"),b.hoverSeries=a},onMouseOut:function(){var a=this,b=a.options,c=a.chart,d=c.tooltip,e=c.hoverPoint;c.hoverSeries=null,e&&e.onMouseOut(),a&&b.events.mouseOut&&j(a,"mouseOut"),!d||a.stickyTracking||d.shared&&!a.noSharedTooltip||d.hide(),a.setState()},setState:function(a){var g,b=this,c=b.options,d=b.graph,e=c.states,f=c.lineWidth,i=0;if(a=a||"",b.state!==a){if(h([b.group,b.markerGroup,b.dataLabelsGroup],function(c){c&&(b.state&&c.removeClass("highcharts-series-"+b.state),a&&c.addClass("highcharts-series-"+a))}),b.state=a,e[a]&&e[a].enabled===!1)return;if(a&&(f=e[a].lineWidth||f+(e[a].lineWidthPlus||0)),d&&!d.dashstyle)for(g={"stroke-width":f},d.animate(g,p(b.chart.options.chart.animation,e[a]&&e[a].animation));b["zone-graph-"+i];)b["zone-graph-"+i].attr(g),i+=1}},setVisible:function(a,b){var f,c=this,d=c.chart,e=c.legendItem,g=d.options.chart.ignoreHiddenSeries,i=c.visible;c.visible=a=c.options.visible=c.userOptions.visible=void 0===a?!i:a,f=a?"show":"hide",h(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(a){c[a]&&c[a][f]()}),(d.hoverSeries===c||(d.hoverPoint&&d.hoverPoint.series)===c)&&c.onMouseOut(),e&&d.legend.colorizeItem(c,a),c.isDirty=!0,c.options.stacking&&h(d.series,function(a){a.options.stacking&&a.visible&&(a.isDirty=!0)}),h(c.linkedSeries,function(b){b.setVisible(a,!1)}),g&&(d.isDirtyBox=!0),b!==!1&&d.redraw(),j(c,f)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(a){var b=this;b.selected=a=void 0===a?!b.selected:a,b.checkbox&&(b.checkbox.checked=a),j(b,a?"select":"unselect")},drawTracker:u.drawTrackerGraph})}(b),function(a){var b=a.Chart,c=a.each,d=a.inArray,e=a.isArray,f=a.isObject,g=a.pick,h=a.splat;b.prototype.setResponsive=function(b){var g,h,d=this.options.responsive,e=[],f=this.currentResponsive;d&&d.rules&&c(d.rules,function(c){void 0===c._id&&(c._id=a.uniqueKey()),this.matchResponsiveRule(c,e,b)},this),h=a.merge.apply(0,a.map(e,function(b){return a.find(d.rules,function(a){return a._id===b}).chartOptions})),e=e.toString()||void 0,g=f&&f.ruleIds,e!==g&&(f&&this.update(f.undoOptions,b),e?(this.currentResponsive={ruleIds:e,mergedOptions:h,undoOptions:this.currentOptions(h)},this.update(h,b)):this.currentResponsive=void 0)},b.prototype.matchResponsiveRule=function(a,b){var c=a.condition,d=c.callback||function(){return this.chartWidth<=g(c.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=g(c.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=g(c.minWidth,0)&&this.chartHeight>=g(c.minHeight,0)};d.call(this)&&b.push(a._id)},b.prototype.currentOptions=function(b){function g(b,c,i,j){var k;a.objectEach(b,function(a,l){if(!j&&d(l,["series","xAxis","yAxis"])>-1)for(b[l]=h(b[l]),i[l]=[],k=0;k<b[l].length;k++)c[l][k]&&(i[l][k]={},g(a[k],c[l][k],i[l][k],j+1));else f(a)?(i[l]=e(a)?[]:{},g(a,c[l]||{},i[l],j+1)):i[l]=c[l]||null})}var c={};return g(b,this.options,c,0),c}}(b),b});
